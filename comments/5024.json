[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/205535529",
    "html_url": "https://github.com/electron/electron/issues/5024#issuecomment-205535529",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/5024",
    "id": 205535529,
    "user": {
      "login": "zeke",
      "id": 2289,
      "avatar_url": "https://avatars2.githubusercontent.com/u/2289?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zeke",
      "html_url": "https://github.com/zeke",
      "followers_url": "https://api.github.com/users/zeke/followers",
      "following_url": "https://api.github.com/users/zeke/following{/other_user}",
      "gists_url": "https://api.github.com/users/zeke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zeke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zeke/subscriptions",
      "organizations_url": "https://api.github.com/users/zeke/orgs",
      "repos_url": "https://api.github.com/users/zeke/repos",
      "events_url": "https://api.github.com/users/zeke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zeke/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-04-04T23:07:09Z",
    "updated_at": "2016-04-04T23:07:09Z",
    "body": "Hi @hp011235. Can you share some sample code and/or screenshots that will help illustrate the issue you're having?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/205538118",
    "html_url": "https://github.com/electron/electron/issues/5024#issuecomment-205538118",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/5024",
    "id": 205538118,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-04T23:19:38Z",
    "updated_at": "2016-04-04T23:19:38Z",
    "body": "you can use [session#will-download](https://github.com/electron/electron/blob/master/docs/api/session.md#event-will-download) event to prevent the default action.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/205554443",
    "html_url": "https://github.com/electron/electron/issues/5024#issuecomment-205554443",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/5024",
    "id": 205554443,
    "user": {
      "login": "hp011235",
      "id": 7158776,
      "avatar_url": "https://avatars1.githubusercontent.com/u/7158776?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hp011235",
      "html_url": "https://github.com/hp011235",
      "followers_url": "https://api.github.com/users/hp011235/followers",
      "following_url": "https://api.github.com/users/hp011235/following{/other_user}",
      "gists_url": "https://api.github.com/users/hp011235/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hp011235/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hp011235/subscriptions",
      "organizations_url": "https://api.github.com/users/hp011235/orgs",
      "repos_url": "https://api.github.com/users/hp011235/repos",
      "events_url": "https://api.github.com/users/hp011235/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hp011235/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-05T00:11:01Z",
    "updated_at": "2016-04-05T00:14:06Z",
    "body": "Hi @zeke,\n\nPlease find the screenshot below, in which I am getting the native save dialog:\n![screen shot 2016-04-04 at 5 05 56 pm](https://cloud.githubusercontent.com/assets/7158776/14267682/9b3dbcb0-fa87-11e5-8b4d-03b60368c257.png)\n\nHere is my code:\n`webview.addEventListener(\"did-get-response-details\", function(e) {\n          var headers = e.headers;\n          var contentTypeArray = headers[\"content-type\"];\n          if (typeof contentTypeArray != 'undefined') {\n            var contentType = contentTypeArray[0];\n            //now check whether the content type is pdf or not\n            if (contentType == \"application/pdf;charset=UTF-8\") {\n              console.log(\"Found the PDF URL: \" + e.newURL);\n              ipcRenderer.send(\"show-pdf\", e.newURL);\n            }\n         }\n   });`\n\nIn main.js:\n`ipcMain.on('show-pdf', function(event, args) {\n  createPDFWindow(args);\n});`\n\nThanks for your help!\n\nPS: I tried making the above code look pretty, but didn't work. Sorry for that.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/205949383",
    "html_url": "https://github.com/electron/electron/issues/5024#issuecomment-205949383",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/5024",
    "id": 205949383,
    "user": {
      "login": "hp011235",
      "id": 7158776,
      "avatar_url": "https://avatars1.githubusercontent.com/u/7158776?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hp011235",
      "html_url": "https://github.com/hp011235",
      "followers_url": "https://api.github.com/users/hp011235/followers",
      "following_url": "https://api.github.com/users/hp011235/following{/other_user}",
      "gists_url": "https://api.github.com/users/hp011235/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hp011235/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hp011235/subscriptions",
      "organizations_url": "https://api.github.com/users/hp011235/orgs",
      "repos_url": "https://api.github.com/users/hp011235/repos",
      "events_url": "https://api.github.com/users/hp011235/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hp011235/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-05T19:00:50Z",
    "updated_at": "2016-04-05T19:09:05Z",
    "body": "@deepak1556 Thanks for your suggestion. However, I tried that but was not successful. Here is what I am trying right now:\n\nIn main.js:\n\n`ipcMain.on('getSession', function(event, arg) {\n  let session = mainWindow.webContents.session;\n  event.returnValue = session;\n});`\n\nIn my html script page:\n\n`   \n\n```\n   webview.addEventListener(\"did-get-response-details\", function(e) {\n      var headers = e.headers;\n      var contentTypeArray = headers[\"content-type\"];\n      if (typeof contentTypeArray != 'undefined') {\n        var contentType = contentTypeArray[0];\n        //now check whether the content type is pdf or not\n        if (contentType == \"application/pdf;charset=UTF-8\") {\n          // get the session object from the main process\n          var session = ipcRenderer.sendSync(\"getSession\");\n          session.defaultSession.on('will-download', function(event, item, webContents) {\n            event.preventDefault();\n          });\n          ipcRenderer.send(\"show-pdf\", e.newURL);\n        }\n      }\n    });\n```\n\n`\n\nI feel like I am not getting the correct session object as `session.defaultsession` is throwing undefined.\n\nPlease let me know if I am doing something wrong here.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/206050802",
    "html_url": "https://github.com/electron/electron/issues/5024#issuecomment-206050802",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/5024",
    "id": 206050802,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-06T00:41:30Z",
    "updated_at": "2016-04-06T00:41:30Z",
    "body": "`will-download` should provide the necessary details, you can just do\n\n```\n// main.js\nlet webviewSession = session.fromPartition(partitionName);\nwebviewSession.on('will-download', function(e, item, webContents) {\n    if (item.getMimeType() === \"application/pdf\") {\n        e.preventDefault()\n        // logic\n    }\n})\n```\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/206660359",
    "html_url": "https://github.com/electron/electron/issues/5024#issuecomment-206660359",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/5024",
    "id": 206660359,
    "user": {
      "login": "hp011235",
      "id": 7158776,
      "avatar_url": "https://avatars1.githubusercontent.com/u/7158776?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hp011235",
      "html_url": "https://github.com/hp011235",
      "followers_url": "https://api.github.com/users/hp011235/followers",
      "following_url": "https://api.github.com/users/hp011235/following{/other_user}",
      "gists_url": "https://api.github.com/users/hp011235/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hp011235/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hp011235/subscriptions",
      "organizations_url": "https://api.github.com/users/hp011235/orgs",
      "repos_url": "https://api.github.com/users/hp011235/repos",
      "events_url": "https://api.github.com/users/hp011235/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hp011235/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-07T02:23:31Z",
    "updated_at": "2016-04-07T02:23:31Z",
    "body": "@deepak1556 Thanks for the answer. Really appreciate it.\nYea, I think I was making it complicated by introducing ipc to get the session object from main process to the renderer. However, I only got to know this by referring to this thread: [http://electron.atom.io/docs/all/#downloaditem](url) before your comment.\n\nI think it would be better to keep electron docs in sync.\n"
  }
]