[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/45453901",
    "html_url": "https://github.com/electron/electron/issues/383#issuecomment-45453901",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/383",
    "id": 45453901,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2014-06-09T00:57:53Z",
    "updated_at": "2014-06-09T00:57:53Z",
    "body": "Can you paste the crash report? It can be found in the `Console.app`.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/45496833",
    "html_url": "https://github.com/electron/electron/issues/383#issuecomment-45496833",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/383",
    "id": 45496833,
    "user": {
      "login": "FWeinb",
      "id": 1250430,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1250430?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/FWeinb",
      "html_url": "https://github.com/FWeinb",
      "followers_url": "https://api.github.com/users/FWeinb/followers",
      "following_url": "https://api.github.com/users/FWeinb/following{/other_user}",
      "gists_url": "https://api.github.com/users/FWeinb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/FWeinb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/FWeinb/subscriptions",
      "organizations_url": "https://api.github.com/users/FWeinb/orgs",
      "repos_url": "https://api.github.com/users/FWeinb/repos",
      "events_url": "https://api.github.com/users/FWeinb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/FWeinb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-09T14:32:43Z",
    "updated_at": "2014-06-09T14:33:38Z",
    "body": "[Here](https://gist.github.com/FWeinb/a0eea6cb7dfcfa6f0677) is the crash report.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/46135186",
    "html_url": "https://github.com/electron/electron/issues/383#issuecomment-46135186",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/383",
    "id": 46135186,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2014-06-16T01:53:52Z",
    "updated_at": "2014-06-16T01:53:52Z",
    "body": "Does it keep happening in your app? I didn't succeed to reproduce it.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/46175124",
    "html_url": "https://github.com/electron/electron/issues/383#issuecomment-46175124",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/383",
    "id": 46175124,
    "user": {
      "login": "FWeinb",
      "id": 1250430,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1250430?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/FWeinb",
      "html_url": "https://github.com/FWeinb",
      "followers_url": "https://api.github.com/users/FWeinb/followers",
      "following_url": "https://api.github.com/users/FWeinb/following{/other_user}",
      "gists_url": "https://api.github.com/users/FWeinb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/FWeinb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/FWeinb/subscriptions",
      "organizations_url": "https://api.github.com/users/FWeinb/orgs",
      "repos_url": "https://api.github.com/users/FWeinb/repos",
      "events_url": "https://api.github.com/users/FWeinb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/FWeinb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-16T13:04:49Z",
    "updated_at": "2014-06-16T13:05:23Z",
    "body": "Just tested it with `0.13.1`\n\nBehaviour when used like:\n\n``` js\nvar Menu = require('menu');\nvar Tray = require('tray');\n\nvar appIcon = new Tray('./app/box.png');\nvar contextMenu = Menu.buildFromTemplate([\n  { label: 'Item1', type: 'radio' },\n  { label: 'Item2', type: 'radio' },\n  { label: 'Item3', type: 'radio', clicked: true },\n  { label: 'Item4', type: 'radio' },\n]);\nappIcon.setToolTip('This is my application.');\nappIcon.setContextMenu(contextMenu);\n```\n\n[Screencast](http://recordit.co/Z4oKrh)\nFull [gist](https://gist.github.com/FWeinb/e20600f3895f9f4a9687)\n\nI clicked on the tray icon with the left mouse button.\nTested on 10.9.3 on a 15'' MBPr \n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/46184460",
    "html_url": "https://github.com/electron/electron/issues/383#issuecomment-46184460",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/383",
    "id": 46184460,
    "user": {
      "login": "romangetman",
      "id": 527267,
      "avatar_url": "https://avatars3.githubusercontent.com/u/527267?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/romangetman",
      "html_url": "https://github.com/romangetman",
      "followers_url": "https://api.github.com/users/romangetman/followers",
      "following_url": "https://api.github.com/users/romangetman/following{/other_user}",
      "gists_url": "https://api.github.com/users/romangetman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/romangetman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/romangetman/subscriptions",
      "organizations_url": "https://api.github.com/users/romangetman/orgs",
      "repos_url": "https://api.github.com/users/romangetman/repos",
      "events_url": "https://api.github.com/users/romangetman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/romangetman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-16T14:23:41Z",
    "updated_at": "2014-06-16T14:23:41Z",
    "body": "Hi, having the same exact issue, just without the context menu (which I don't need). Simply clicking on the tray icon makes is disappear. Same config, OSX 10.9.3.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/46276129",
    "html_url": "https://github.com/electron/electron/issues/383#issuecomment-46276129",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/383",
    "id": 46276129,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2014-06-17T07:36:30Z",
    "updated_at": "2014-06-17T07:37:11Z",
    "body": "You should only use GUI related modules after the `ready` event of `app` has been emitted, like this:\n\n``` javascript\nvar appIcon = null;\napp.on('ready', function() {\n  appIcon = new Tray('./app/box.png');\n});\n```\n\nBefore the `ready` event the application is still in early initialization stage that not ready for GUI operations.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/46276440",
    "html_url": "https://github.com/electron/electron/issues/383#issuecomment-46276440",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/383",
    "id": 46276440,
    "user": {
      "login": "romangetman",
      "id": 527267,
      "avatar_url": "https://avatars3.githubusercontent.com/u/527267?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/romangetman",
      "html_url": "https://github.com/romangetman",
      "followers_url": "https://api.github.com/users/romangetman/followers",
      "following_url": "https://api.github.com/users/romangetman/following{/other_user}",
      "gists_url": "https://api.github.com/users/romangetman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/romangetman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/romangetman/subscriptions",
      "organizations_url": "https://api.github.com/users/romangetman/orgs",
      "repos_url": "https://api.github.com/users/romangetman/repos",
      "events_url": "https://api.github.com/users/romangetman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/romangetman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-17T07:40:04Z",
    "updated_at": "2014-06-17T07:40:04Z",
    "body": "Yes, that's exactly what I'm doing: https://gist.github.com/romangetman/3537d7f95e190f4ad7e0\n\nAdding the icon after the ready event.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/46276983",
    "html_url": "https://github.com/electron/electron/issues/383#issuecomment-46276983",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/383",
    "id": 46276983,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2014-06-17T07:47:36Z",
    "updated_at": "2014-06-17T07:47:36Z",
    "body": "@romangetman Your `appIcon` is a local variable and will disappear when it is garbage collected, if you want to make it persistent you should make `appIcon` a global variable, like the example I gave above.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/46277245",
    "html_url": "https://github.com/electron/electron/issues/383#issuecomment-46277245",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/383",
    "id": 46277245,
    "user": {
      "login": "romangetman",
      "id": 527267,
      "avatar_url": "https://avatars3.githubusercontent.com/u/527267?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/romangetman",
      "html_url": "https://github.com/romangetman",
      "followers_url": "https://api.github.com/users/romangetman/followers",
      "following_url": "https://api.github.com/users/romangetman/following{/other_user}",
      "gists_url": "https://api.github.com/users/romangetman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/romangetman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/romangetman/subscriptions",
      "organizations_url": "https://api.github.com/users/romangetman/orgs",
      "repos_url": "https://api.github.com/users/romangetman/repos",
      "events_url": "https://api.github.com/users/romangetman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/romangetman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-17T07:51:04Z",
    "updated_at": "2014-06-17T07:51:04Z",
    "body": "Ok, this resolves the issue, but why are these objects even being GC'd?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/46277666",
    "html_url": "https://github.com/electron/electron/issues/383#issuecomment-46277666",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/383",
    "id": 46277666,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2014-06-17T07:56:42Z",
    "updated_at": "2014-06-17T07:56:42Z",
    "body": "Because a local variable would be GCed when it gets out of its scope, and in your code `appIcon`'s scope is your `ready` event handler.\n\nYou can find more about variable scope in JavaScript [here](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var).\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/46326992",
    "html_url": "https://github.com/electron/electron/issues/383#issuecomment-46326992",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/383",
    "id": 46326992,
    "user": {
      "login": "FWeinb",
      "id": 1250430,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1250430?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/FWeinb",
      "html_url": "https://github.com/FWeinb",
      "followers_url": "https://api.github.com/users/FWeinb/followers",
      "following_url": "https://api.github.com/users/FWeinb/following{/other_user}",
      "gists_url": "https://api.github.com/users/FWeinb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/FWeinb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/FWeinb/subscriptions",
      "organizations_url": "https://api.github.com/users/FWeinb/orgs",
      "repos_url": "https://api.github.com/users/FWeinb/repos",
      "events_url": "https://api.github.com/users/FWeinb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/FWeinb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-17T15:57:43Z",
    "updated_at": "2014-06-17T15:57:43Z",
    "body": "This should properly be mentioned in the [docs](https://github.com/atom/atom-shell/blob/master/docs/api/tray.md) for `tray`. \n\nThanks for clearing it up. \n"
  }
]