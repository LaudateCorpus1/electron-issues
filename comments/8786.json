[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/282909402",
    "html_url": "https://github.com/electron/electron/pull/8786#issuecomment-282909402",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8786",
    "id": 282909402,
    "user": {
      "login": "groundwater",
      "id": 538488,
      "avatar_url": "https://avatars3.githubusercontent.com/u/538488?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/groundwater",
      "html_url": "https://github.com/groundwater",
      "followers_url": "https://api.github.com/users/groundwater/followers",
      "following_url": "https://api.github.com/users/groundwater/following{/other_user}",
      "gists_url": "https://api.github.com/users/groundwater/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/groundwater/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/groundwater/subscriptions",
      "organizations_url": "https://api.github.com/users/groundwater/orgs",
      "repos_url": "https://api.github.com/users/groundwater/repos",
      "events_url": "https://api.github.com/users/groundwater/events{/privacy}",
      "received_events_url": "https://api.github.com/users/groundwater/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2017-02-28T01:08:44Z",
    "updated_at": "2017-02-28T01:08:44Z",
    "body": "I will test this with my Surface Pro 4 and non-high-DPI external monitor."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/291213347",
    "html_url": "https://github.com/electron/electron/pull/8786#issuecomment-291213347",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8786",
    "id": 291213347,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2017-04-03T17:26:22Z",
    "updated_at": "2017-04-03T17:26:22Z",
    "body": "> I will test this with my Surface Pro 4 and non-high-DPI external monitor.\r\n\r\n@groundwater have you had a chance to test this out yet?"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/293437278",
    "html_url": "https://github.com/electron/electron/pull/8786#issuecomment-293437278",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8786",
    "id": 293437278,
    "user": {
      "login": "poiru",
      "id": 1319028,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1319028?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/poiru",
      "html_url": "https://github.com/poiru",
      "followers_url": "https://api.github.com/users/poiru/followers",
      "following_url": "https://api.github.com/users/poiru/following{/other_user}",
      "gists_url": "https://api.github.com/users/poiru/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/poiru/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/poiru/subscriptions",
      "organizations_url": "https://api.github.com/users/poiru/orgs",
      "repos_url": "https://api.github.com/users/poiru/repos",
      "events_url": "https://api.github.com/users/poiru/events{/privacy}",
      "received_events_url": "https://api.github.com/users/poiru/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-12T00:21:18Z",
    "updated_at": "2017-04-12T00:22:47Z",
    "body": "What do we think of merging this? I agree that we should ideally also have\r\n```xml\r\n<dpiAwareness xmlns=\"http://schemas.microsoft.com/SMI/2016/WindowsSettings\">permonitorv2, permonitor</dpiAwareness>\r\n```\r\n\r\n... but it would be nice to have at least `<dpiAware>true/pm</dpiAware>` until we can confirm that `permonitorv2` works properly."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/293686026",
    "html_url": "https://github.com/electron/electron/pull/8786#issuecomment-293686026",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8786",
    "id": 293686026,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2017-04-12T19:42:10Z",
    "updated_at": "2017-04-12T19:42:10Z",
    "body": "> What do we think of merging this? I agree that we should ideally also have\r\n\r\nYeah, sounds good ðŸš¢ \r\n\r\nWe can follow this up with more changes as well as pulling in anything via the Chrome 58 upgrade."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/293687694",
    "html_url": "https://github.com/electron/electron/pull/8786#issuecomment-293687694",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8786",
    "id": 293687694,
    "user": {
      "login": "alespergl",
      "id": 19880051,
      "avatar_url": "https://avatars2.githubusercontent.com/u/19880051?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alespergl",
      "html_url": "https://github.com/alespergl",
      "followers_url": "https://api.github.com/users/alespergl/followers",
      "following_url": "https://api.github.com/users/alespergl/following{/other_user}",
      "gists_url": "https://api.github.com/users/alespergl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alespergl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alespergl/subscriptions",
      "organizations_url": "https://api.github.com/users/alespergl/orgs",
      "repos_url": "https://api.github.com/users/alespergl/repos",
      "events_url": "https://api.github.com/users/alespergl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alespergl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-12T19:48:40Z",
    "updated_at": "2017-04-12T19:48:40Z",
    "body": "When is Chrome 58 coming in? The change @poiru mentioned would likely need to be backported if it's delayed."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/293688511",
    "html_url": "https://github.com/electron/electron/pull/8786#issuecomment-293688511",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8786",
    "id": 293688511,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2017-04-12T19:52:05Z",
    "updated_at": "2017-04-12T19:52:05Z",
    "body": "> When is Chrome 58 coming in? \r\n\r\nI believe @zcbenz is working through some offscreen window compilation issues right now that are being updated in #9116, no definite timeline at this time.\r\n\r\n> The change @poiru mentioned would likely need to be backported if it's delayed.\r\n\r\nUnderstood, maybe we wait until the end of next week to see where Chrome 58 is then?"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/293919687",
    "html_url": "https://github.com/electron/electron/pull/8786#issuecomment-293919687",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8786",
    "id": 293919687,
    "user": {
      "login": "alespergl",
      "id": 19880051,
      "avatar_url": "https://avatars2.githubusercontent.com/u/19880051?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alespergl",
      "html_url": "https://github.com/alespergl",
      "followers_url": "https://api.github.com/users/alespergl/followers",
      "following_url": "https://api.github.com/users/alespergl/following{/other_user}",
      "gists_url": "https://api.github.com/users/alespergl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alespergl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alespergl/subscriptions",
      "organizations_url": "https://api.github.com/users/alespergl/orgs",
      "repos_url": "https://api.github.com/users/alespergl/repos",
      "events_url": "https://api.github.com/users/alespergl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alespergl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-13T14:56:48Z",
    "updated_at": "2017-04-13T14:56:48Z",
    "body": "@kevinsawicki I created a [PR for the backport](https://github.com/electron/libchromiumcontent/pull/285), just in case."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/294445230",
    "html_url": "https://github.com/electron/electron/pull/8786#issuecomment-294445230",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8786",
    "id": 294445230,
    "user": {
      "login": "poiru",
      "id": 1319028,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1319028?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/poiru",
      "html_url": "https://github.com/poiru",
      "followers_url": "https://api.github.com/users/poiru/followers",
      "following_url": "https://api.github.com/users/poiru/following{/other_user}",
      "gists_url": "https://api.github.com/users/poiru/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/poiru/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/poiru/subscriptions",
      "organizations_url": "https://api.github.com/users/poiru/orgs",
      "repos_url": "https://api.github.com/users/poiru/repos",
      "events_url": "https://api.github.com/users/poiru/events{/privacy}",
      "received_events_url": "https://api.github.com/users/poiru/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-17T10:14:35Z",
    "updated_at": "2017-04-17T10:15:44Z",
    "body": "On Win10 version 1607, this patch made the titlebar, scrollbars, etc. huge:\r\n\r\n<img width=\"1270\" alt=\"titlebar\" src=\"https://cloud.githubusercontent.com/assets/1319028/25086307/87056f4c-236f-11e7-8636-7e9a67a58bbd.png\">\r\n\r\nMaybe `EnableNonClinetDpiScaling()` will fix this, but that's not available on all Windows 10 versions. Should we revert this patch? cc @alespergl"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/294511522",
    "html_url": "https://github.com/electron/electron/pull/8786#issuecomment-294511522",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8786",
    "id": 294511522,
    "user": {
      "login": "peterfelts",
      "id": 5828480,
      "avatar_url": "https://avatars3.githubusercontent.com/u/5828480?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/peterfelts",
      "html_url": "https://github.com/peterfelts",
      "followers_url": "https://api.github.com/users/peterfelts/followers",
      "following_url": "https://api.github.com/users/peterfelts/following{/other_user}",
      "gists_url": "https://api.github.com/users/peterfelts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/peterfelts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/peterfelts/subscriptions",
      "organizations_url": "https://api.github.com/users/peterfelts/orgs",
      "repos_url": "https://api.github.com/users/peterfelts/repos",
      "events_url": "https://api.github.com/users/peterfelts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/peterfelts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-17T15:39:37Z",
    "updated_at": "2017-04-17T15:39:37Z",
    "body": "So it looks like before this change the process ran as system aware `<dpiAware>true</dpiAware>` and the change made it run under the original per-monitor mode `<dpiAware>true/pm</dpiAware>`. This would result in what @poiru is seeing: non-client area won't DPI scale on a DPI change. Getting the non-client area to scale (if Windows is drawing the non-client area, that is) wasn't supported until 1607 (via a call to EnableNonClinetDpiSacling(HWND)). What I would recommend is:\r\n\r\n`<dpiAware>true</dpiAware>`\r\n`<dpiAwareness>PerMonitor</dpiAwareness>`\r\n+ call EnableNonClientDpiScaling()\r\n\r\nThis will result in the following behavior:\r\n\r\n1. Vista -> 1607 -> System Awareness (what I think was used before this change)\r\n2. &gt;= 1607 -> per-monitor awareness and the non-client area will scale\r\n\r\nAgain, the non-client area will only scale if Windows is drawing it. I don't know how Electron draws its non-client area though. If its custom drawn, then Windows won't DPI scale it automatically. "
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/294517074",
    "html_url": "https://github.com/electron/electron/pull/8786#issuecomment-294517074",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8786",
    "id": 294517074,
    "user": {
      "login": "alespergl",
      "id": 19880051,
      "avatar_url": "https://avatars2.githubusercontent.com/u/19880051?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alespergl",
      "html_url": "https://github.com/alespergl",
      "followers_url": "https://api.github.com/users/alespergl/followers",
      "following_url": "https://api.github.com/users/alespergl/following{/other_user}",
      "gists_url": "https://api.github.com/users/alespergl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alespergl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alespergl/subscriptions",
      "organizations_url": "https://api.github.com/users/alespergl/orgs",
      "repos_url": "https://api.github.com/users/alespergl/repos",
      "events_url": "https://api.github.com/users/alespergl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alespergl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-17T16:06:37Z",
    "updated_at": "2017-04-17T16:12:09Z",
    "body": "@poiru Yes, EnableNonClientDpiScaling fixes it. There's no way to make this work universally, unless custom non-client drawing is implemented, or we don't do per-monitor DPI pre Win10 1607. That would result in blurred client area. Other per-monitor apps work the same. I think it's reasonable to expect most users upgrading their Win10 systems to the latest version, so I wouldn't optimize too much for earlier versions.\r\nBtw dpiAwareness makes no difference here, it's simply a shortcoming of Windows."
  }
]