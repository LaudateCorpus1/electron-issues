[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/241890997",
    "html_url": "https://github.com/electron/electron/issues/6947#issuecomment-241890997",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6947",
    "id": 241890997,
    "user": {
      "login": "dbuhrman",
      "id": 17278079,
      "avatar_url": "https://avatars3.githubusercontent.com/u/17278079?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dbuhrman",
      "html_url": "https://github.com/dbuhrman",
      "followers_url": "https://api.github.com/users/dbuhrman/followers",
      "following_url": "https://api.github.com/users/dbuhrman/following{/other_user}",
      "gists_url": "https://api.github.com/users/dbuhrman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dbuhrman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dbuhrman/subscriptions",
      "organizations_url": "https://api.github.com/users/dbuhrman/orgs",
      "repos_url": "https://api.github.com/users/dbuhrman/repos",
      "events_url": "https://api.github.com/users/dbuhrman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dbuhrman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-23T21:48:54Z",
    "updated_at": "2016-08-23T21:50:37Z",
    "body": "I am experiencing this same issue.  Any idea for a workaround?  I'm not sure how to effect downstream dependencies that are that deep in the tree.\n\nHere's the full stack trace:\n\n```\nTypeError: Cannot read property 'wrapper' of undefined\n    at module.js:57:30\n    at req_ (/Users/dan/Sites/orion/node_modules/natives/index.js:76:5)\n    at require (/Users/dan/Sites/orion/node_modules/natives/index.js:54:12)\n    at Object.exports.wrapFsWithAsar (ELECTRON_ASAR.js:687:21)\n    at fs.js:6:6\n    at req_ (/Users/dan/Sites/orion/node_modules/natives/index.js:76:5)\n    at Object.req [as require] (/Users/dan/Sites/orion/node_modules/natives/index.js:35:10)\n    at Object.<anonymous>       (/Users/dan/Sites/orion/node_modules/fstream/node_modules/graceful-fs/fs.js:1:116)\n    at Module._compile (module.js:541:32)\n    at Object.Module._extensions..js (module.js:550:10)\n```\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/241905990",
    "html_url": "https://github.com/electron/electron/issues/6947#issuecomment-241905990",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6947",
    "id": 241905990,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-08-23T22:54:51Z",
    "updated_at": "2016-08-23T22:55:00Z",
    "body": "The line in question is:\n\n``` js\nModule.wrapper = NativeModule.wrapper;\n```\n\nAnd `NativeModule` is previously set to `undefined` via:\n\n``` js\nconst NativeModule = require('native_module');\n```\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/241906575",
    "html_url": "https://github.com/electron/electron/issues/6947#issuecomment-241906575",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6947",
    "id": 241906575,
    "user": {
      "login": "golgobot",
      "id": 1995486,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1995486?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/golgobot",
      "html_url": "https://github.com/golgobot",
      "followers_url": "https://api.github.com/users/golgobot/followers",
      "following_url": "https://api.github.com/users/golgobot/following{/other_user}",
      "gists_url": "https://api.github.com/users/golgobot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/golgobot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/golgobot/subscriptions",
      "organizations_url": "https://api.github.com/users/golgobot/orgs",
      "repos_url": "https://api.github.com/users/golgobot/repos",
      "events_url": "https://api.github.com/users/golgobot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/golgobot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-23T22:57:57Z",
    "updated_at": "2016-08-23T22:57:57Z",
    "body": "graceful-fs 4.x.x does not have this issue. I just upgraded to this version to get around it.\n\n> On Aug 23, 2016, at 5:49 PM, Dan Buhrman notifications@github.com wrote:\n> \n> I am experiencing this same issue. Any idea for a workaround? I'm not sure how to effect downstream dependencies that are that deep in the tree.\n> \n> Here's the full stack trace:\n> \n> TypeError: Cannot read property 'wrapper' of undefined\n> at module.js:57:30\n> at req_ (/Users/dan/Sites/orion/node_modules/natives/index.js:76:5)\n> at require (/Users/dan/Sites/orion/node_modules/natives/index.js:54:12)\n> at Object.exports.wrapFsWithAsar (ELECTRON_ASAR.js:687:21)\n> at fs.js:6:6\n> at req_ (/Users/dan/Sites/orion/node_modules/natives/index.js:76:5)\n> at Object.req [as require](/Users/dan/Sites/orion/node_modules/natives/index.js:35:10)\n> at Object.<anonymous> (/Users/dan/Sites/orion/node_modules/fstream/node_modules/graceful-fs/fs.js:1:116)\n> at Module._compile (module.js:541:32)\n> at Object.Module._extensions..js (module.js:550:10)\n> \n> â€”\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub, or mute the thread.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/241913073",
    "html_url": "https://github.com/electron/electron/issues/6947#issuecomment-241913073",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6947",
    "id": 241913073,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-08-23T23:32:01Z",
    "updated_at": "2016-08-23T23:32:01Z",
    "body": "This was fixed via https://github.com/isaacs/natives/issues/4 and published in `natives@1.0.2`.\n\nClosing this out since a fresh install of `graceful-fs@3.0.10` should now work since it depends on `^1.0.1` of `natives`.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/242119351",
    "html_url": "https://github.com/electron/electron/issues/6947#issuecomment-242119351",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6947",
    "id": 242119351,
    "user": {
      "login": "mzmousa",
      "id": 8017077,
      "avatar_url": "https://avatars3.githubusercontent.com/u/8017077?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mzmousa",
      "html_url": "https://github.com/mzmousa",
      "followers_url": "https://api.github.com/users/mzmousa/followers",
      "following_url": "https://api.github.com/users/mzmousa/following{/other_user}",
      "gists_url": "https://api.github.com/users/mzmousa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mzmousa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mzmousa/subscriptions",
      "organizations_url": "https://api.github.com/users/mzmousa/orgs",
      "repos_url": "https://api.github.com/users/mzmousa/repos",
      "events_url": "https://api.github.com/users/mzmousa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mzmousa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-24T16:03:01Z",
    "updated_at": "2016-08-24T16:04:04Z",
    "body": "@kevinsawicki This fix isn't working for me, doing an `npm install graceful-fs@3.0.10` in my app directory did not fix this error, unless you mean a fresh install somewhere else?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/242121473",
    "html_url": "https://github.com/electron/electron/issues/6947#issuecomment-242121473",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6947",
    "id": 242121473,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-08-24T16:09:39Z",
    "updated_at": "2016-08-24T16:09:39Z",
    "body": "@mzmousa can you check what version of the `natives` module is being used in your local `node_modules`?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/242127714",
    "html_url": "https://github.com/electron/electron/issues/6947#issuecomment-242127714",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6947",
    "id": 242127714,
    "user": {
      "login": "mzmousa",
      "id": 8017077,
      "avatar_url": "https://avatars3.githubusercontent.com/u/8017077?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mzmousa",
      "html_url": "https://github.com/mzmousa",
      "followers_url": "https://api.github.com/users/mzmousa/followers",
      "following_url": "https://api.github.com/users/mzmousa/following{/other_user}",
      "gists_url": "https://api.github.com/users/mzmousa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mzmousa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mzmousa/subscriptions",
      "organizations_url": "https://api.github.com/users/mzmousa/orgs",
      "repos_url": "https://api.github.com/users/mzmousa/repos",
      "events_url": "https://api.github.com/users/mzmousa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mzmousa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-24T16:30:09Z",
    "updated_at": "2016-08-24T16:30:09Z",
    "body": "Sorry. My dependency that was using `natives` was `unzip2` which made use of `fstream`. So doing an `npm install unzip2` did the trick for me, since I guess `natives` got updated in there as well.\n"
  }
]