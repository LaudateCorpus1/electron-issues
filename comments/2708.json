[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/137764698",
    "html_url": "https://github.com/electron/electron/issues/2708#issuecomment-137764698",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2708",
    "id": 137764698,
    "user": {
      "login": "arthurakay",
      "id": 401229,
      "avatar_url": "https://avatars3.githubusercontent.com/u/401229?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arthurakay",
      "html_url": "https://github.com/arthurakay",
      "followers_url": "https://api.github.com/users/arthurakay/followers",
      "following_url": "https://api.github.com/users/arthurakay/following{/other_user}",
      "gists_url": "https://api.github.com/users/arthurakay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arthurakay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arthurakay/subscriptions",
      "organizations_url": "https://api.github.com/users/arthurakay/orgs",
      "repos_url": "https://api.github.com/users/arthurakay/repos",
      "events_url": "https://api.github.com/users/arthurakay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arthurakay/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-04T15:20:50Z",
    "updated_at": "2015-09-04T15:21:33Z",
    "body": "This was my final workaround, in case anyone else hits this problem:\n\n```\nvar fs   = require('fs'),\n    path = require('path'),\n    cwd  = path.join(__dirname, '..'),\n    cp_path;\n\nif (fs.existsSync(path.join(cwd, 'app.asar'))) {\n    cp_path = 'app.asar/js/_launch.js';\n}\nelse {\n    cp_path = './js/_launch.js';\n    cwd = null;\n}\n\n//spawn child_process for backend server/license stuff\nvar child = require('child_process').fork(cp_path, [], {\n    cwd : cwd\n});\n```\n\nI would still like to know if there's a better/cleaner way to do this. I completely understand the virtual directory problem, but it seems like there should be a more elegant way to handle this.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/138786811",
    "html_url": "https://github.com/electron/electron/issues/2708#issuecomment-138786811",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2708",
    "id": 138786811,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-09-09T05:11:52Z",
    "updated_at": "2015-09-09T05:11:52Z",
    "body": "It seems that `child_process.fork` handles relative paths differently from other modules.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/150523641",
    "html_url": "https://github.com/electron/electron/issues/2708#issuecomment-150523641",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2708",
    "id": 150523641,
    "user": {
      "login": "rbartholomay",
      "id": 1138142,
      "avatar_url": "https://avatars0.githubusercontent.com/u/1138142?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rbartholomay",
      "html_url": "https://github.com/rbartholomay",
      "followers_url": "https://api.github.com/users/rbartholomay/followers",
      "following_url": "https://api.github.com/users/rbartholomay/following{/other_user}",
      "gists_url": "https://api.github.com/users/rbartholomay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rbartholomay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rbartholomay/subscriptions",
      "organizations_url": "https://api.github.com/users/rbartholomay/orgs",
      "repos_url": "https://api.github.com/users/rbartholomay/repos",
      "events_url": "https://api.github.com/users/rbartholomay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rbartholomay/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-23T09:09:29Z",
    "updated_at": "2015-10-23T09:09:29Z",
    "body": "is there a solution for require('child_process').spawn available? In my app a module use this to start cscript.exe on windows. And this did not work when the script is inside an asar archive \n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/160034769",
    "html_url": "https://github.com/electron/electron/issues/2708#issuecomment-160034769",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2708",
    "id": 160034769,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-11-27T03:35:15Z",
    "updated_at": "2015-11-27T03:35:15Z",
    "body": "After a closer look I'm closing this as won't fix.\n\nThe relative paths passed to `fork` are relative to _current working directory_ instead of your app's dir, so I have to assume in your app you have tried to switch cwd to your app's dir. However `app.asar` is a virtual directory and you can never switch cwd to it, your call of `process.cwd` failed silently but you are still passing `./js/_launch.js` to `fork`, which doesn't exist.\n"
  }
]