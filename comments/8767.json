[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/282397600",
    "html_url": "https://github.com/electron/electron/issues/8767#issuecomment-282397600",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8767",
    "id": 282397600,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2017-02-24T20:35:01Z",
    "updated_at": "2017-02-24T20:35:01Z",
    "body": "@karacas what is the value of `err` when this happens?"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/282399625",
    "html_url": "https://github.com/electron/electron/issues/8767#issuecomment-282399625",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8767",
    "id": 282399625,
    "user": {
      "login": "karacas",
      "id": 1050937,
      "avatar_url": "https://avatars2.githubusercontent.com/u/1050937?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karacas",
      "html_url": "https://github.com/karacas",
      "followers_url": "https://api.github.com/users/karacas/followers",
      "following_url": "https://api.github.com/users/karacas/following{/other_user}",
      "gists_url": "https://api.github.com/users/karacas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karacas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karacas/subscriptions",
      "organizations_url": "https://api.github.com/users/karacas/orgs",
      "repos_url": "https://api.github.com/users/karacas/repos",
      "events_url": "https://api.github.com/users/karacas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karacas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-24T20:44:24Z",
    "updated_at": "2017-02-24T20:44:24Z",
    "body": "console.log(err) // null"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/282399811",
    "html_url": "https://github.com/electron/electron/issues/8767#issuecomment-282399811",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8767",
    "id": 282399811,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2017-02-24T20:45:13Z",
    "updated_at": "2017-02-24T20:45:13Z",
    "body": "@karacas can you include the path you are specifying to `app.getFileIcon`?"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/282400761",
    "html_url": "https://github.com/electron/electron/issues/8767#issuecomment-282400761",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8767",
    "id": 282400761,
    "user": {
      "login": "karacas",
      "id": 1050937,
      "avatar_url": "https://avatars2.githubusercontent.com/u/1050937?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karacas",
      "html_url": "https://github.com/karacas",
      "followers_url": "https://api.github.com/users/karacas/followers",
      "following_url": "https://api.github.com/users/karacas/following{/other_user}",
      "gists_url": "https://api.github.com/users/karacas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karacas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karacas/subscriptions",
      "organizations_url": "https://api.github.com/users/karacas/orgs",
      "repos_url": "https://api.github.com/users/karacas/repos",
      "events_url": "https://api.github.com/users/karacas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karacas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-24T20:49:31Z",
    "updated_at": "2017-02-24T20:49:31Z",
    "body": "i try all options \\\\, / , nomalice...\r\n\r\ndirect nativeImage works well\r\n\r\n```\r\napp.getFileIcon(\"d:\\\\tmp\\\\file.png\", (_err, _icon) => {\r\n  if (_icon && _icon.getSize() && _icon.getSize().width) {\r\n    data.iconType = \"dataURL\";\r\n    data.iconUrl = _icon.toDataURL();\r\n    console.log(_err);\r\n\r\n    // [WIP] !!!!!!\r\n    if (true && data.iconUrl.length < 25) {\r\n      try {\r\n        data.iconUrl = nativeImage\r\n          .createFromPath(\"d:\\\\tmp\\\\file.png\")\r\n          .toDataURL();\r\n      } catch (e) {}\r\n    }\r\n  }\r\n  resolve(data);\r\n});\r\n\r\n```"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/282400867",
    "html_url": "https://github.com/electron/electron/issues/8767#issuecomment-282400867",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8767",
    "id": 282400867,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2017-02-24T20:49:57Z",
    "updated_at": "2017-02-24T20:49:57Z",
    "body": "@YurySolovyov would you be able to take a look into this?\r\n\r\nI'm able to reproduce on Windows 10 with running the following from the dev tools:\r\n\r\n```js\r\nrequire('electron').remote.app.getFileIcon(__filename, (err, icon) => console.log(icon.toDataURL()))\r\n```"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/282401266",
    "html_url": "https://github.com/electron/electron/issues/8767#issuecomment-282401266",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8767",
    "id": 282401266,
    "user": {
      "login": "karacas",
      "id": 1050937,
      "avatar_url": "https://avatars2.githubusercontent.com/u/1050937?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karacas",
      "html_url": "https://github.com/karacas",
      "followers_url": "https://api.github.com/users/karacas/followers",
      "following_url": "https://api.github.com/users/karacas/following{/other_user}",
      "gists_url": "https://api.github.com/users/karacas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karacas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karacas/subscriptions",
      "organizations_url": "https://api.github.com/users/karacas/orgs",
      "repos_url": "https://api.github.com/users/karacas/repos",
      "events_url": "https://api.github.com/users/karacas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karacas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-24T20:51:50Z",
    "updated_at": "2017-02-24T20:51:50Z",
    "body": "`require('electron').remote.app.getFileIcon(\"d:\\\\tmp\\\\ColorCop.exe\", (err, icon) => console.log(icon.toDataURL())) // data:image/png;base64,`"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/282402069",
    "html_url": "https://github.com/electron/electron/issues/8767#issuecomment-282402069",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8767",
    "id": 282402069,
    "user": {
      "login": "karacas",
      "id": 1050937,
      "avatar_url": "https://avatars2.githubusercontent.com/u/1050937?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karacas",
      "html_url": "https://github.com/karacas",
      "followers_url": "https://api.github.com/users/karacas/followers",
      "following_url": "https://api.github.com/users/karacas/following{/other_user}",
      "gists_url": "https://api.github.com/users/karacas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karacas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karacas/subscriptions",
      "organizations_url": "https://api.github.com/users/karacas/orgs",
      "repos_url": "https://api.github.com/users/karacas/repos",
      "events_url": "https://api.github.com/users/karacas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karacas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-24T20:55:39Z",
    "updated_at": "2017-02-24T20:55:39Z",
    "body": "```\r\n            require('electron').remote.app.getFileIcon(\"d:\\\\tmp\\\\file.png\", (err, icon) => console.log(icon.toDataURL())) // data:image/png;base64,\r\n            console.log(nativeImage.createFromPath(\"d:\\\\tmp\\\\file.png\").toDataURL())  // data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGElEQ…yYmHajr47NvMrhTohyh/5OR1mUOznciXZw+J4fp636Us/zjwgSUWiIJzHNAAAAAElFTkSuQmCC\r\n```"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/282403107",
    "html_url": "https://github.com/electron/electron/issues/8767#issuecomment-282403107",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8767",
    "id": 282403107,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2017-02-24T21:00:20Z",
    "updated_at": "2017-02-24T21:00:20Z",
    "body": "This might be more of an issue with the `nativeImage` class than with the `app.getFileIcon` API, will investigate further."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/282474900",
    "html_url": "https://github.com/electron/electron/issues/8767#issuecomment-282474900",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8767",
    "id": 282474900,
    "user": {
      "login": "YurySolovyov",
      "id": 2168518,
      "avatar_url": "https://avatars3.githubusercontent.com/u/2168518?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/YurySolovyov",
      "html_url": "https://github.com/YurySolovyov",
      "followers_url": "https://api.github.com/users/YurySolovyov/followers",
      "following_url": "https://api.github.com/users/YurySolovyov/following{/other_user}",
      "gists_url": "https://api.github.com/users/YurySolovyov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/YurySolovyov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/YurySolovyov/subscriptions",
      "organizations_url": "https://api.github.com/users/YurySolovyov/orgs",
      "repos_url": "https://api.github.com/users/YurySolovyov/repos",
      "events_url": "https://api.github.com/users/YurySolovyov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/YurySolovyov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-25T10:21:27Z",
    "updated_at": "2017-02-25T10:21:27Z",
    "body": "On Microsoft Windows [Version 10.0.14393] x64\r\nUsing the following snippet works for me:\r\n```js\r\n(function() {\r\n    document.write('');\r\n    var app = require('electron').remote.app;\r\n    app.getFileIcon(__filename, { size: 'normal' }, function(err, res) {\r\n        document.write('<img src=\"' + res.toDataURL() + '\" />');\r\n    });\r\n})()\r\n```\r\n![image](https://cloud.githubusercontent.com/assets/2168518/23330364/14b20d9a-fb5d-11e6-9d07-65804f71ec5f.png)\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/282592968",
    "html_url": "https://github.com/electron/electron/issues/8767#issuecomment-282592968",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8767",
    "id": 282592968,
    "user": {
      "login": "YurySolovyov",
      "id": 2168518,
      "avatar_url": "https://avatars3.githubusercontent.com/u/2168518?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/YurySolovyov",
      "html_url": "https://github.com/YurySolovyov",
      "followers_url": "https://api.github.com/users/YurySolovyov/followers",
      "following_url": "https://api.github.com/users/YurySolovyov/following{/other_user}",
      "gists_url": "https://api.github.com/users/YurySolovyov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/YurySolovyov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/YurySolovyov/subscriptions",
      "organizations_url": "https://api.github.com/users/YurySolovyov/orgs",
      "repos_url": "https://api.github.com/users/YurySolovyov/repos",
      "events_url": "https://api.github.com/users/YurySolovyov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/YurySolovyov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-26T22:19:54Z",
    "updated_at": "2017-02-26T22:19:54Z",
    "body": "Also, can you try writing the buffer to file and opening it in some image viewer?"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/282784775",
    "html_url": "https://github.com/electron/electron/issues/8767#issuecomment-282784775",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8767",
    "id": 282784775,
    "user": {
      "login": "karacas",
      "id": 1050937,
      "avatar_url": "https://avatars2.githubusercontent.com/u/1050937?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karacas",
      "html_url": "https://github.com/karacas",
      "followers_url": "https://api.github.com/users/karacas/followers",
      "following_url": "https://api.github.com/users/karacas/following{/other_user}",
      "gists_url": "https://api.github.com/users/karacas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karacas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karacas/subscriptions",
      "organizations_url": "https://api.github.com/users/karacas/orgs",
      "repos_url": "https://api.github.com/users/karacas/repos",
      "events_url": "https://api.github.com/users/karacas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karacas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-27T17:11:55Z",
    "updated_at": "2017-02-27T17:11:55Z",
    "body": "\r\n[electron_test_getIcon.zip](https://github.com/electron/electron/files/804406/electron_test_getIcon.zip)\r\n![electron_test_geticon](https://cloud.githubusercontent.com/assets/1050937/23371332/8a806b30-fcf6-11e6-9b4a-a9347a5dfd71.png)\r\n\r\n```\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n\t// var __filename = \"d:\\\\tmp\\\\ColorCop.exe\"\r\n\tvar __filename = \"file.png\"\r\n\tdocument.write(\"\");\r\n\tvar app = require(\"electron\").remote.app;\r\n\tapp.getFileIcon(__filename, {\r\n\t\tsize: \"normal\"\r\n\t}, function(err, res) {\r\n\t\tdocument.write(\"<img src=\\\"\" + res.toDataURL() + \"\\\" />\");\r\n\t});\r\n});\r\n\r\n```\r\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/282785958",
    "html_url": "https://github.com/electron/electron/issues/8767#issuecomment-282785958",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8767",
    "id": 282785958,
    "user": {
      "login": "YurySolovyov",
      "id": 2168518,
      "avatar_url": "https://avatars3.githubusercontent.com/u/2168518?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/YurySolovyov",
      "html_url": "https://github.com/YurySolovyov",
      "followers_url": "https://api.github.com/users/YurySolovyov/followers",
      "following_url": "https://api.github.com/users/YurySolovyov/following{/other_user}",
      "gists_url": "https://api.github.com/users/YurySolovyov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/YurySolovyov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/YurySolovyov/subscriptions",
      "organizations_url": "https://api.github.com/users/YurySolovyov/orgs",
      "repos_url": "https://api.github.com/users/YurySolovyov/repos",
      "events_url": "https://api.github.com/users/YurySolovyov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/YurySolovyov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-27T17:15:49Z",
    "updated_at": "2017-02-27T17:15:49Z",
    "body": "@karacas can you also attach `\"d:\\\\tmp\\\\ColorCop.exe\"` ?"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/282786549",
    "html_url": "https://github.com/electron/electron/issues/8767#issuecomment-282786549",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8767",
    "id": 282786549,
    "user": {
      "login": "karacas",
      "id": 1050937,
      "avatar_url": "https://avatars2.githubusercontent.com/u/1050937?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karacas",
      "html_url": "https://github.com/karacas",
      "followers_url": "https://api.github.com/users/karacas/followers",
      "following_url": "https://api.github.com/users/karacas/following{/other_user}",
      "gists_url": "https://api.github.com/users/karacas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karacas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karacas/subscriptions",
      "organizations_url": "https://api.github.com/users/karacas/orgs",
      "repos_url": "https://api.github.com/users/karacas/repos",
      "events_url": "https://api.github.com/users/karacas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karacas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-27T17:17:52Z",
    "updated_at": "2017-02-27T17:17:52Z",
    "body": "[ColorCop.zip](https://github.com/electron/electron/files/804422/ColorCop.zip)\r\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/283466897",
    "html_url": "https://github.com/electron/electron/issues/8767#issuecomment-283466897",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8767",
    "id": 283466897,
    "user": {
      "login": "YurySolovyov",
      "id": 2168518,
      "avatar_url": "https://avatars3.githubusercontent.com/u/2168518?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/YurySolovyov",
      "html_url": "https://github.com/YurySolovyov",
      "followers_url": "https://api.github.com/users/YurySolovyov/followers",
      "following_url": "https://api.github.com/users/YurySolovyov/following{/other_user}",
      "gists_url": "https://api.github.com/users/YurySolovyov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/YurySolovyov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/YurySolovyov/subscriptions",
      "organizations_url": "https://api.github.com/users/YurySolovyov/orgs",
      "repos_url": "https://api.github.com/users/YurySolovyov/repos",
      "events_url": "https://api.github.com/users/YurySolovyov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/YurySolovyov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-01T20:54:49Z",
    "updated_at": "2017-03-01T20:54:49Z",
    "body": "@karacas I was able to get the icon using the API, but you probably need to call `path.resolve` to get properly-formatted path on windows.\r\n\r\n@kevinsawicki should we fix this in API, or just note in the docs?\r\n\r\n![image](https://cloud.githubusercontent.com/assets/2168518/23480829/651fb414-feda-11e6-86e5-89fca41e3bdb.png)\r\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/283468475",
    "html_url": "https://github.com/electron/electron/issues/8767#issuecomment-283468475",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8767",
    "id": 283468475,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2017-03-01T21:00:39Z",
    "updated_at": "2017-03-01T21:00:39Z",
    "body": "> should we fix this in API, or just note in the docs?\r\n\r\nI think the API, what was the difference between the two paths?"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/283469392",
    "html_url": "https://github.com/electron/electron/issues/8767#issuecomment-283469392",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8767",
    "id": 283469392,
    "user": {
      "login": "YurySolovyov",
      "id": 2168518,
      "avatar_url": "https://avatars3.githubusercontent.com/u/2168518?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/YurySolovyov",
      "html_url": "https://github.com/YurySolovyov",
      "followers_url": "https://api.github.com/users/YurySolovyov/followers",
      "following_url": "https://api.github.com/users/YurySolovyov/following{/other_user}",
      "gists_url": "https://api.github.com/users/YurySolovyov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/YurySolovyov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/YurySolovyov/subscriptions",
      "organizations_url": "https://api.github.com/users/YurySolovyov/orgs",
      "repos_url": "https://api.github.com/users/YurySolovyov/repos",
      "events_url": "https://api.github.com/users/YurySolovyov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/YurySolovyov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-01T21:04:11Z",
    "updated_at": "2017-03-01T21:04:11Z",
    "body": "I think ATM we only do separators conversion, but really, we should call `path.resolve` or `path.normalize` on path strings. Need @karacas to confirm that it helps."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/283470915",
    "html_url": "https://github.com/electron/electron/issues/8767#issuecomment-283470915",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8767",
    "id": 283470915,
    "user": {
      "login": "karacas",
      "id": 1050937,
      "avatar_url": "https://avatars2.githubusercontent.com/u/1050937?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karacas",
      "html_url": "https://github.com/karacas",
      "followers_url": "https://api.github.com/users/karacas/followers",
      "following_url": "https://api.github.com/users/karacas/following{/other_user}",
      "gists_url": "https://api.github.com/users/karacas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karacas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karacas/subscriptions",
      "organizations_url": "https://api.github.com/users/karacas/orgs",
      "repos_url": "https://api.github.com/users/karacas/repos",
      "events_url": "https://api.github.com/users/karacas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karacas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-01T21:09:40Z",
    "updated_at": "2017-03-01T21:10:07Z",
    "body": "@YurySolovyov my prj needs absolute paths.\r\nI check in another machine and runs well, but in the first one not yet (same package-build / electron.exe).\r\nThe doubt is why i can get\r\n```\r\napp.getFileIcon(path.normalize(file), (err, icon) => {\r\n        console.log(icon.toBitmap().length); // 9216\r\n        console.log(icon.getBitmap().length); // 9216\r\n        console.log(icon.toPNG().length); // 0\r\n});\r\n```\r\nAnyway i will try path.resolve"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/283473558",
    "html_url": "https://github.com/electron/electron/issues/8767#issuecomment-283473558",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8767",
    "id": 283473558,
    "user": {
      "login": "YurySolovyov",
      "id": 2168518,
      "avatar_url": "https://avatars3.githubusercontent.com/u/2168518?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/YurySolovyov",
      "html_url": "https://github.com/YurySolovyov",
      "followers_url": "https://api.github.com/users/YurySolovyov/followers",
      "following_url": "https://api.github.com/users/YurySolovyov/following{/other_user}",
      "gists_url": "https://api.github.com/users/YurySolovyov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/YurySolovyov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/YurySolovyov/subscriptions",
      "organizations_url": "https://api.github.com/users/YurySolovyov/orgs",
      "repos_url": "https://api.github.com/users/YurySolovyov/repos",
      "events_url": "https://api.github.com/users/YurySolovyov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/YurySolovyov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-01T21:19:22Z",
    "updated_at": "2017-03-01T21:19:22Z",
    "body": "> I check in another machine and runs well\r\n\r\nMeaning you _do_ get expected icon and all that, right?\r\n\r\nMakes me think it fails to decode png on that other machine for some reason."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/283475161",
    "html_url": "https://github.com/electron/electron/issues/8767#issuecomment-283475161",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8767",
    "id": 283475161,
    "user": {
      "login": "karacas",
      "id": 1050937,
      "avatar_url": "https://avatars2.githubusercontent.com/u/1050937?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karacas",
      "html_url": "https://github.com/karacas",
      "followers_url": "https://api.github.com/users/karacas/followers",
      "following_url": "https://api.github.com/users/karacas/following{/other_user}",
      "gists_url": "https://api.github.com/users/karacas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karacas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karacas/subscriptions",
      "organizations_url": "https://api.github.com/users/karacas/orgs",
      "repos_url": "https://api.github.com/users/karacas/repos",
      "events_url": "https://api.github.com/users/karacas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karacas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-01T21:25:18Z",
    "updated_at": "2017-03-01T21:25:18Z",
    "body": "yes, in second machine works fine.\r\nI'll investigate further & comment. Maybe is a not a electron problem. thanks for the patience =)"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/283538881",
    "html_url": "https://github.com/electron/electron/issues/8767#issuecomment-283538881",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8767",
    "id": 283538881,
    "user": {
      "login": "karacas",
      "id": 1050937,
      "avatar_url": "https://avatars2.githubusercontent.com/u/1050937?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karacas",
      "html_url": "https://github.com/karacas",
      "followers_url": "https://api.github.com/users/karacas/followers",
      "following_url": "https://api.github.com/users/karacas/following{/other_user}",
      "gists_url": "https://api.github.com/users/karacas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karacas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karacas/subscriptions",
      "organizations_url": "https://api.github.com/users/karacas/orgs",
      "repos_url": "https://api.github.com/users/karacas/repos",
      "events_url": "https://api.github.com/users/karacas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karacas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-02T02:38:22Z",
    "updated_at": "2017-03-02T02:40:16Z",
    "body": "i can convert data from res.toBitmap() with https://gist.github.com/vukicevic/8112515 and works well:\r\n\r\n```\r\nlet res2bitmap = drawArray(res.toBitmap(), 32)\r\ndocument.write('<img src=\"' + res2bitmap + '\" />');\r\n```\r\n![electron_test](https://cloud.githubusercontent.com/assets/1050937/23490484/942d9120-fed7-11e6-9c30-e8d09037d5bc.png)\r\n\r\n**Electron app for test:** \r\n**[test_icon.zip](https://github.com/electron/electron/files/812609/test_icon.zip)**\r\n\r\nExample code:\r\n```\r\nimport os from \"os\"; // native node.js module\r\nimport { remote } from \"electron\"; // native electron module\r\nimport jetpack from \"fs-jetpack\"; // module loaded from npm\r\nimport { greet } from \"./hello_world/hello_world\"; // code authored by you in this project\r\nimport env from \"./env\";\r\nimport path from \"path\";\r\n\r\nconsole.log(\"Loaded environment variables:\", env);\r\n\r\nvar app = remote.app;\r\nvar appDir = jetpack.cwd(app.getAppPath());\r\n\r\n// Holy crap! This is browser window with HTML and stuff, but I can read\r\n// here files like it is node.js! Welcome to Electron world :)\r\nconsole.log(\r\n  \"The author of this app is:\",\r\n  appDir.read(\"package.json\", \"json\").author\r\n);\r\n\r\nfunction drawArray(arr, depth) {\r\n  var offset, height, data, image;\r\n\r\n  function conv(size) {\r\n    return String.fromCharCode(\r\n      size & 0xff,\r\n      size >> 8 & 0xff,\r\n      size >> 16 & 0xff,\r\n      size >> 24 & 0xff\r\n    );\r\n  }\r\n\r\n  offset = depth <= 8 ? 54 + Math.pow(2, depth) * 4 : 54;\r\n  height = Math.ceil(Math.sqrt(arr.length * 8 / depth));\r\n\r\n  //BMP Header\r\n  data = \"BM\"; // ID field\r\n  data += conv(offset + arr.length); // BMP size\r\n  data += conv(0); // unused\r\n  data += conv(offset); // pixel data offset\r\n\r\n  //DIB Header\r\n  data += conv(40); // DIB header length\r\n  data += conv(height); // image height\r\n  data += conv(height); // image width\r\n  data += String.fromCharCode(1, 0); // colour panes\r\n  data += String.fromCharCode(depth, 0); // bits per pixel\r\n  data += conv(0); // compression method\r\n  data += conv(arr.length); // size of the raw data\r\n  data += conv(2835); // horizontal print resolution\r\n  data += conv(2835); // vertical print resolution\r\n  data += conv(0); // colour palette, 0 == 2^n\r\n  data += conv(0); // important colours\r\n\r\n  //Grayscale tables for bit depths <= 8\r\n  if (depth <= 8) {\r\n    data += conv(0);\r\n\r\n    for (\r\n      var s = Math.floor(255 / (Math.pow(2, depth) - 1)), i = s;\r\n      i < 256;\r\n      i += s\r\n    ) {\r\n      data += conv(i + i * 256 + i * 65536);\r\n    }\r\n  }\r\n\r\n  //Pixel data\r\n  data += String.fromCharCode.apply(String, arr);\r\n  return \"data:image/bmp;base64,\" + btoa(data);\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function() {\r\n  var __filename = path.resolve(\"d:\\\\tmp\\\\ColorCop.exe\");\r\n\r\n  //var __filename = \"file.png\"\r\n  document.write(\"\");\r\n  var app = require(\"electron\").remote.app;\r\n\r\n  app.getFileIcon(\r\n    __filename,\r\n    {\r\n      size: \"normal\"\r\n    },\r\n    function(err, res) {\r\n\r\n    \tlet res2bitmap = drawArray(res.toBitmap(), 32)\r\n\r\n      document.write('<img src=\"' + res.toDataURL() + '\" />');\r\n      document.write('<br><br>');\r\n      document.write('<img src=\"' + res2bitmap + '\" />');\r\n\r\n      console.log(\"\\nOUTPUTS: \");\r\n      console.log(\"__filename :\", __filename);\r\n      console.log(\"res.toDataURL() : \", res.toDataURL());\r\n      console.log(\"res.toPNG().length : \", res.toPNG().length);\r\n      console.log(\"res.getBitmap().length : \", res.getBitmap().length);\r\n      console.log(\"res2bitmap.length : \", res2bitmap.length);\r\n    }\r\n  );\r\n});\r\n```\r\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/284515209",
    "html_url": "https://github.com/electron/electron/issues/8767#issuecomment-284515209",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8767",
    "id": 284515209,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2017-03-06T20:03:57Z",
    "updated_at": "2017-03-06T20:03:57Z",
    "body": "Looks like this happens when the DPI scale is non-1.\r\n\r\nThe image is loaded with the machine's DPI scale here, https://github.com/electron/electron/blob/9547ff135f3f14d4bad31ae446b0a2e7a0f0ea3d/chromium_src/chrome/browser/icon_loader_win.cc#L61-L62\r\n\r\nBut `toPNG` only supports 1x scale: https://github.com/electron/electron/blob/9547ff135f3f14d4bad31ae446b0a2e7a0f0ea3d/atom/common/api/atom_api_native_image.cc#L234\r\n\r\nSo this probably works on any machine with 1x scale, but fails on others."
  }
]