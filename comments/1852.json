[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/108813944",
    "html_url": "https://github.com/electron/electron/issues/1852#issuecomment-108813944",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1852",
    "id": 108813944,
    "user": {
      "login": "yoshuawuyts",
      "id": 2467194,
      "avatar_url": "https://avatars0.githubusercontent.com/u/2467194?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yoshuawuyts",
      "html_url": "https://github.com/yoshuawuyts",
      "followers_url": "https://api.github.com/users/yoshuawuyts/followers",
      "following_url": "https://api.github.com/users/yoshuawuyts/following{/other_user}",
      "gists_url": "https://api.github.com/users/yoshuawuyts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yoshuawuyts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yoshuawuyts/subscriptions",
      "organizations_url": "https://api.github.com/users/yoshuawuyts/orgs",
      "repos_url": "https://api.github.com/users/yoshuawuyts/repos",
      "events_url": "https://api.github.com/users/yoshuawuyts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yoshuawuyts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-04T09:54:17Z",
    "updated_at": "2015-06-05T12:26:11Z",
    "body": "I've created a repro for this: https://github.com/yoshuawuyts/electron-cookie-issues-repro.\n\nIt appears `electron` is indeed blocking cookie related headers.\n\n_update: 05/06/2014_: It appears the only bug in electron is that cookie related headers aren't shown when fetching data.\n\n# electron blocks cookie headers\n\nUsing `OSX@10.10.2` and `electron@0.27.2` pulled in through `electron-prebuilt`.\n\n## Steps to reproduce ([repro](https://github.com/yoshuawuyts/electron-cookie-issues-repro))\n- setup electron to load an `index.html` that loads `client.js`\n- perform an XHR request from `client.js` to a `server.js` that sets the `Set-Cookie` header\n\n## Actual results\n- ~~no cookie headers are received~~ cookie headers are not shown in devtools\n\n## Expected results\n- ~~cookie headers are received~~ cookie headers are shown in devtools\n- cookies are not stored ([`electron-cookies`](https://www.npmjs.com/package/electron-cookies) provides a workaround)\n\n## Screenshots\n\n### electron\n\n![screen shot 2015-06-04 at 11 37 40](https://cloud.githubusercontent.com/assets/2467194/7981585/35cd1bb8-0ab0-11e5-8cce-79e0430bb578.png)\n\n### chrome\n\n![screen shot 2015-06-04 at 11 53 13](https://cloud.githubusercontent.com/assets/2467194/7981602/5751a2cc-0ab0-11e5-8a84-c151fd60157b.png)\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/108873879",
    "html_url": "https://github.com/electron/electron/issues/1852#issuecomment-108873879",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1852",
    "id": 108873879,
    "user": {
      "login": "hokein",
      "id": 2557445,
      "avatar_url": "https://avatars2.githubusercontent.com/u/2557445?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hokein",
      "html_url": "https://github.com/hokein",
      "followers_url": "https://api.github.com/users/hokein/followers",
      "following_url": "https://api.github.com/users/hokein/following{/other_user}",
      "gists_url": "https://api.github.com/users/hokein/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hokein/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hokein/subscriptions",
      "organizations_url": "https://api.github.com/users/hokein/orgs",
      "repos_url": "https://api.github.com/users/hokein/repos",
      "events_url": "https://api.github.com/users/hokein/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hokein/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-04T12:33:20Z",
    "updated_at": "2015-06-04T12:33:20Z",
    "body": "Thanks for the detailed information. I can say that the `Set-Cookie` header is actually worked. You can view `Cookies` in `Resources` panel of dev-tool, then you will find the cookies.\n\nI have no much idea about why dev-tools doesn't show the cookies header here, it might be a bug of dev-tools.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/108894298",
    "html_url": "https://github.com/electron/electron/issues/1852#issuecomment-108894298",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1852",
    "id": 108894298,
    "user": {
      "login": "yoshuawuyts",
      "id": 2467194,
      "avatar_url": "https://avatars0.githubusercontent.com/u/2467194?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yoshuawuyts",
      "html_url": "https://github.com/yoshuawuyts",
      "followers_url": "https://api.github.com/users/yoshuawuyts/followers",
      "following_url": "https://api.github.com/users/yoshuawuyts/following{/other_user}",
      "gists_url": "https://api.github.com/users/yoshuawuyts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yoshuawuyts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yoshuawuyts/subscriptions",
      "organizations_url": "https://api.github.com/users/yoshuawuyts/orgs",
      "repos_url": "https://api.github.com/users/yoshuawuyts/repos",
      "events_url": "https://api.github.com/users/yoshuawuyts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yoshuawuyts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-04T13:15:49Z",
    "updated_at": "2015-06-04T13:16:35Z",
    "body": "@hokein I'm not seeing any cookies in there, both with `electron-cookies` enabled and disabled. \n\n![screen shot 2015-06-04 at 15 14 45](https://cloud.githubusercontent.com/assets/2467194/7984872/8722778a-0acc-11e5-836c-d7626661f91e.png)\n\n**edit**: also tried the `--enable-file-cookies` flag, but it doesn't change anything.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/109111193",
    "html_url": "https://github.com/electron/electron/issues/1852#issuecomment-109111193",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1852",
    "id": 109111193,
    "user": {
      "login": "hokein",
      "id": 2557445,
      "avatar_url": "https://avatars2.githubusercontent.com/u/2557445?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hokein",
      "html_url": "https://github.com/hokein",
      "followers_url": "https://api.github.com/users/hokein/followers",
      "following_url": "https://api.github.com/users/hokein/following{/other_user}",
      "gists_url": "https://api.github.com/users/hokein/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hokein/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hokein/subscriptions",
      "organizations_url": "https://api.github.com/users/hokein/orgs",
      "repos_url": "https://api.github.com/users/hokein/repos",
      "events_url": "https://api.github.com/users/hokein/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hokein/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-05T01:06:37Z",
    "updated_at": "2015-06-05T01:06:37Z",
    "body": "Looks like you are loading the local file, are you sure you have sent the correct header?\n\nIn your reproduced repo, it actually works, see:\n\n![image](https://cloud.githubusercontent.com/assets/2557445/7997583/0b97901e-0b62-11e5-8720-f9939819e9db.png)\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/109276430",
    "html_url": "https://github.com/electron/electron/issues/1852#issuecomment-109276430",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1852",
    "id": 109276430,
    "user": {
      "login": "yoshuawuyts",
      "id": 2467194,
      "avatar_url": "https://avatars0.githubusercontent.com/u/2467194?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yoshuawuyts",
      "html_url": "https://github.com/yoshuawuyts",
      "followers_url": "https://api.github.com/users/yoshuawuyts/followers",
      "following_url": "https://api.github.com/users/yoshuawuyts/following{/other_user}",
      "gists_url": "https://api.github.com/users/yoshuawuyts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yoshuawuyts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yoshuawuyts/subscriptions",
      "organizations_url": "https://api.github.com/users/yoshuawuyts/orgs",
      "repos_url": "https://api.github.com/users/yoshuawuyts/repos",
      "events_url": "https://api.github.com/users/yoshuawuyts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yoshuawuyts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-05T12:23:02Z",
    "updated_at": "2015-06-05T12:24:05Z",
    "body": "You were right, it was a header issue. Incidentally `window.fetch` doesn't support cookies so I had went with the `nets` module instead. The `cookie` headers not showing up in the request window is still a bug though, so I'll be updating the issue to only reflect that. Thanks for coming back to me so fast & helping me resolve my issues. :tada:\n\nedit: I've also updated the repro with the solution in the `README` so any future adventurers that stumble into it know what to do.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/110707226",
    "html_url": "https://github.com/electron/electron/issues/1852#issuecomment-110707226",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1852",
    "id": 110707226,
    "user": {
      "login": "yoshuawuyts",
      "id": 2467194,
      "avatar_url": "https://avatars0.githubusercontent.com/u/2467194?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yoshuawuyts",
      "html_url": "https://github.com/yoshuawuyts",
      "followers_url": "https://api.github.com/users/yoshuawuyts/followers",
      "following_url": "https://api.github.com/users/yoshuawuyts/following{/other_user}",
      "gists_url": "https://api.github.com/users/yoshuawuyts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yoshuawuyts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yoshuawuyts/subscriptions",
      "organizations_url": "https://api.github.com/users/yoshuawuyts/orgs",
      "repos_url": "https://api.github.com/users/yoshuawuyts/repos",
      "events_url": "https://api.github.com/users/yoshuawuyts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yoshuawuyts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-10T11:27:17Z",
    "updated_at": "2015-06-10T11:35:35Z",
    "body": "Update: due to https://github.com/atom/electron/issues/1574 `nets` uses `request` under the hood rather than `xhr`. When using `xhr` (e.g. `XMLHTTPRequest`) everything related to cookies is blocked and cannot be set. In the repro just require `xhr` instead to see the requests suddenly be oblivious of cookies.\n\n``` js\nconst nets = require('xhr')\n```\n\nAs a remark on the side: I wouldn't have expected that doing XHR requests with cookie authentication would have so many gotchas. I wish the `electron` client would try to stick as closely to a browser environment as possible, maybe even more than it already does. That way both knowledge and code are made more portable which is beneficial to all. Thanks!\n"
  }
]