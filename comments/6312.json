[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/230100826",
    "html_url": "https://github.com/electron/electron/issues/6312#issuecomment-230100826",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6312",
    "id": 230100826,
    "user": {
      "login": "miniak",
      "id": 1281234,
      "avatar_url": "https://avatars0.githubusercontent.com/u/1281234?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miniak",
      "html_url": "https://github.com/miniak",
      "followers_url": "https://api.github.com/users/miniak/followers",
      "following_url": "https://api.github.com/users/miniak/following{/other_user}",
      "gists_url": "https://api.github.com/users/miniak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miniak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miniak/subscriptions",
      "organizations_url": "https://api.github.com/users/miniak/orgs",
      "repos_url": "https://api.github.com/users/miniak/repos",
      "events_url": "https://api.github.com/users/miniak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miniak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-02T13:05:20Z",
    "updated_at": "2016-07-02T13:05:20Z",
    "body": "This bug is also present on macOS. The `display-metrics-changed` event does not fire when the Dock position changes, which should affect the work area.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/233675655",
    "html_url": "https://github.com/electron/electron/issues/6312#issuecomment-233675655",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6312",
    "id": 233675655,
    "user": {
      "login": "z-ax",
      "id": 1391015,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1391015?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/z-ax",
      "html_url": "https://github.com/z-ax",
      "followers_url": "https://api.github.com/users/z-ax/followers",
      "following_url": "https://api.github.com/users/z-ax/following{/other_user}",
      "gists_url": "https://api.github.com/users/z-ax/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/z-ax/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/z-ax/subscriptions",
      "organizations_url": "https://api.github.com/users/z-ax/orgs",
      "repos_url": "https://api.github.com/users/z-ax/repos",
      "events_url": "https://api.github.com/users/z-ax/events{/privacy}",
      "received_events_url": "https://api.github.com/users/z-ax/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-19T15:46:10Z",
    "updated_at": "2016-07-19T15:47:15Z",
    "body": "Yeah, and to this issue as well goes next one, but could split up if you want:\n\nWhen another monitor was plugged, the `display.workArea` (from `screen.getPrimaryDisplay()`) is returned corrupted - `display.workArea` has actually the same bounds as `display.size`, so can't determine where the taskbar is (on Windows).\n\nWe have a tray application, so this issue is a major one to actually position our window correctly.\n\nElectron: 1.2.6.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/233679638",
    "html_url": "https://github.com/electron/electron/issues/6312#issuecomment-233679638",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6312",
    "id": 233679638,
    "user": {
      "login": "z-ax",
      "id": 1391015,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1391015?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/z-ax",
      "html_url": "https://github.com/z-ax",
      "followers_url": "https://api.github.com/users/z-ax/followers",
      "following_url": "https://api.github.com/users/z-ax/following{/other_user}",
      "gists_url": "https://api.github.com/users/z-ax/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/z-ax/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/z-ax/subscriptions",
      "organizations_url": "https://api.github.com/users/z-ax/orgs",
      "repos_url": "https://api.github.com/users/z-ax/repos",
      "events_url": "https://api.github.com/users/z-ax/events{/privacy}",
      "received_events_url": "https://api.github.com/users/z-ax/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-19T15:57:59Z",
    "updated_at": "2016-07-19T15:57:59Z",
    "body": "Curious thing is when 2 monitors are plugged before app's launch - all area bounds come as expected.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/234506174",
    "html_url": "https://github.com/electron/electron/issues/6312#issuecomment-234506174",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6312",
    "id": 234506174,
    "user": {
      "login": "ykulinichenko",
      "id": 7082591,
      "avatar_url": "https://avatars1.githubusercontent.com/u/7082591?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ykulinichenko",
      "html_url": "https://github.com/ykulinichenko",
      "followers_url": "https://api.github.com/users/ykulinichenko/followers",
      "following_url": "https://api.github.com/users/ykulinichenko/following{/other_user}",
      "gists_url": "https://api.github.com/users/ykulinichenko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ykulinichenko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ykulinichenko/subscriptions",
      "organizations_url": "https://api.github.com/users/ykulinichenko/orgs",
      "repos_url": "https://api.github.com/users/ykulinichenko/repos",
      "events_url": "https://api.github.com/users/ykulinichenko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ykulinichenko/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-22T10:05:45Z",
    "updated_at": "2016-07-22T10:05:45Z",
    "body": "The same bug is reproducing for me.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/234507276",
    "html_url": "https://github.com/electron/electron/issues/6312#issuecomment-234507276",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6312",
    "id": 234507276,
    "user": {
      "login": "KulykOleg",
      "id": 15631339,
      "avatar_url": "https://avatars0.githubusercontent.com/u/15631339?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/KulykOleg",
      "html_url": "https://github.com/KulykOleg",
      "followers_url": "https://api.github.com/users/KulykOleg/followers",
      "following_url": "https://api.github.com/users/KulykOleg/following{/other_user}",
      "gists_url": "https://api.github.com/users/KulykOleg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/KulykOleg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/KulykOleg/subscriptions",
      "organizations_url": "https://api.github.com/users/KulykOleg/orgs",
      "repos_url": "https://api.github.com/users/KulykOleg/repos",
      "events_url": "https://api.github.com/users/KulykOleg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/KulykOleg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-22T10:10:54Z",
    "updated_at": "2016-07-22T10:37:20Z",
    "body": "Checked 1.2.6 version. Same bug reproducing .\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/235006284",
    "html_url": "https://github.com/electron/electron/issues/6312#issuecomment-235006284",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6312",
    "id": 235006284,
    "user": {
      "login": "z-ax",
      "id": 1391015,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1391015?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/z-ax",
      "html_url": "https://github.com/z-ax",
      "followers_url": "https://api.github.com/users/z-ax/followers",
      "following_url": "https://api.github.com/users/z-ax/following{/other_user}",
      "gists_url": "https://api.github.com/users/z-ax/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/z-ax/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/z-ax/subscriptions",
      "organizations_url": "https://api.github.com/users/z-ax/orgs",
      "repos_url": "https://api.github.com/users/z-ax/repos",
      "events_url": "https://api.github.com/users/z-ax/events{/privacy}",
      "received_events_url": "https://api.github.com/users/z-ax/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-25T16:29:03Z",
    "updated_at": "2016-07-25T16:29:03Z",
    "body": "Checked with v1.3.0 - still an issue.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/235737362",
    "html_url": "https://github.com/electron/electron/issues/6312#issuecomment-235737362",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6312",
    "id": 235737362,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-07-27T22:10:44Z",
    "updated_at": "2016-07-27T22:10:44Z",
    "body": "> The display-metrics-changed event of screen doesn't respond to taskbar changes either.\n\nI'm seeing the same behavior in standalone Chrome 52.0.2743.82 when calling [`chrome.system.display.getInfo`](https://developer.chrome.com/apps/system_display#method-getInfo) from a devtools extension. It never updates the `x` and `y` values after the taskbar changes position.\n\n@Pettor Did this work for you in Electron 0.37.3?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/236721979",
    "html_url": "https://github.com/electron/electron/issues/6312#issuecomment-236721979",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6312",
    "id": 236721979,
    "user": {
      "login": "wenkaili",
      "id": 14299949,
      "avatar_url": "https://avatars3.githubusercontent.com/u/14299949?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wenkaili",
      "html_url": "https://github.com/wenkaili",
      "followers_url": "https://api.github.com/users/wenkaili/followers",
      "following_url": "https://api.github.com/users/wenkaili/following{/other_user}",
      "gists_url": "https://api.github.com/users/wenkaili/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wenkaili/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wenkaili/subscriptions",
      "organizations_url": "https://api.github.com/users/wenkaili/orgs",
      "repos_url": "https://api.github.com/users/wenkaili/repos",
      "events_url": "https://api.github.com/users/wenkaili/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wenkaili/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-01T22:03:20Z",
    "updated_at": "2016-08-01T22:03:20Z",
    "body": "I'm seeing a related issue with the WorkArea property. When I start the application under a certain resolution (1920x1080 for example), the WorkArea property is getting the height and width correctly. However, when I switch to a different resolution and switch back (all while the app is still running), the WorkArea property now returns a slightly different height value. \n\nI'm on Electron 1.2.7.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/236763070",
    "html_url": "https://github.com/electron/electron/issues/6312#issuecomment-236763070",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6312",
    "id": 236763070,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-08-02T01:16:38Z",
    "updated_at": "2016-08-02T01:16:38Z",
    "body": "By reading Chromium's source code, I found this is caused by Chromium caching the results of displays, while not updating them when taskbar changes. So this is essentially a bug of Chromium, and fixing it also requires patching Chromium.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/236866520",
    "html_url": "https://github.com/electron/electron/issues/6312#issuecomment-236866520",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6312",
    "id": 236866520,
    "user": {
      "login": "z-ax",
      "id": 1391015,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1391015?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/z-ax",
      "html_url": "https://github.com/z-ax",
      "followers_url": "https://api.github.com/users/z-ax/followers",
      "following_url": "https://api.github.com/users/z-ax/following{/other_user}",
      "gists_url": "https://api.github.com/users/z-ax/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/z-ax/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/z-ax/subscriptions",
      "organizations_url": "https://api.github.com/users/z-ax/orgs",
      "repos_url": "https://api.github.com/users/z-ax/repos",
      "events_url": "https://api.github.com/users/z-ax/events{/privacy}",
      "received_events_url": "https://api.github.com/users/z-ax/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-02T10:31:58Z",
    "updated_at": "2016-08-02T10:32:09Z",
    "body": "@zcbenz Thanks for checking it out!\nSo, there is no way right now to handle events for that to at least relaunch the app as workaround if positioning on screen is essential (for apps like tray popup)?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/240986824",
    "html_url": "https://github.com/electron/electron/issues/6312#issuecomment-240986824",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6312",
    "id": 240986824,
    "user": {
      "login": "Pettor",
      "id": 54952,
      "avatar_url": "https://avatars0.githubusercontent.com/u/54952?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Pettor",
      "html_url": "https://github.com/Pettor",
      "followers_url": "https://api.github.com/users/Pettor/followers",
      "following_url": "https://api.github.com/users/Pettor/following{/other_user}",
      "gists_url": "https://api.github.com/users/Pettor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Pettor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Pettor/subscriptions",
      "organizations_url": "https://api.github.com/users/Pettor/orgs",
      "repos_url": "https://api.github.com/users/Pettor/repos",
      "events_url": "https://api.github.com/users/Pettor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Pettor/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-19T10:43:54Z",
    "updated_at": "2016-08-19T10:43:54Z",
    "body": "@kevinsawicki Sorry for late reply but currently using 0.37.3 and it behaves correctly. Only property that is static until logout / login is the scale factor, but that could be a Windows issue.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/242341743",
    "html_url": "https://github.com/electron/electron/issues/6312#issuecomment-242341743",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6312",
    "id": 242341743,
    "user": {
      "login": "z-ax",
      "id": 1391015,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1391015?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/z-ax",
      "html_url": "https://github.com/z-ax",
      "followers_url": "https://api.github.com/users/z-ax/followers",
      "following_url": "https://api.github.com/users/z-ax/following{/other_user}",
      "gists_url": "https://api.github.com/users/z-ax/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/z-ax/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/z-ax/subscriptions",
      "organizations_url": "https://api.github.com/users/z-ax/orgs",
      "repos_url": "https://api.github.com/users/z-ax/repos",
      "events_url": "https://api.github.com/users/z-ax/events{/privacy}",
      "received_events_url": "https://api.github.com/users/z-ax/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-25T10:20:35Z",
    "updated_at": "2016-08-25T10:20:35Z",
    "body": "Is there an issue in Chromium for this regression? Didn't find.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/263867712",
    "html_url": "https://github.com/electron/electron/issues/6312#issuecomment-263867712",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6312",
    "id": 263867712,
    "user": {
      "login": "Ciantic",
      "id": 64731,
      "avatar_url": "https://avatars1.githubusercontent.com/u/64731?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Ciantic",
      "html_url": "https://github.com/Ciantic",
      "followers_url": "https://api.github.com/users/Ciantic/followers",
      "following_url": "https://api.github.com/users/Ciantic/following{/other_user}",
      "gists_url": "https://api.github.com/users/Ciantic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Ciantic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Ciantic/subscriptions",
      "organizations_url": "https://api.github.com/users/Ciantic/orgs",
      "repos_url": "https://api.github.com/users/Ciantic/repos",
      "events_url": "https://api.github.com/users/Ciantic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Ciantic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-30T13:01:06Z",
    "updated_at": "2016-11-30T13:01:06Z",
    "body": "For windows, it might be possible to use FFI and get a display workArea independently of Chromium API. \r\n\r\nI'm looking in to this, the workArea goes haywire as I resume the computer from sleep, and it stays funny until I restart my app."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/263940116",
    "html_url": "https://github.com/electron/electron/issues/6312#issuecomment-263940116",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6312",
    "id": 263940116,
    "user": {
      "login": "llhupp",
      "id": 599412,
      "avatar_url": "https://avatars2.githubusercontent.com/u/599412?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/llhupp",
      "html_url": "https://github.com/llhupp",
      "followers_url": "https://api.github.com/users/llhupp/followers",
      "following_url": "https://api.github.com/users/llhupp/following{/other_user}",
      "gists_url": "https://api.github.com/users/llhupp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/llhupp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/llhupp/subscriptions",
      "organizations_url": "https://api.github.com/users/llhupp/orgs",
      "repos_url": "https://api.github.com/users/llhupp/repos",
      "events_url": "https://api.github.com/users/llhupp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/llhupp/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-30T17:36:34Z",
    "updated_at": "2016-11-30T17:36:48Z",
    "body": "@z-ax I looked around but was unable to find a related Chromium issue either. I'm surprised this has been an issue for 5 months without something ticketed on their side... Is there someone with more knowledge of Electron's interface with Chromium that could file an issue related to this and get more visibility on this?"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/263959539",
    "html_url": "https://github.com/electron/electron/issues/6312#issuecomment-263959539",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6312",
    "id": 263959539,
    "user": {
      "login": "Ciantic",
      "id": 64731,
      "avatar_url": "https://avatars1.githubusercontent.com/u/64731?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Ciantic",
      "html_url": "https://github.com/Ciantic",
      "followers_url": "https://api.github.com/users/Ciantic/followers",
      "following_url": "https://api.github.com/users/Ciantic/following{/other_user}",
      "gists_url": "https://api.github.com/users/Ciantic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Ciantic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Ciantic/subscriptions",
      "organizations_url": "https://api.github.com/users/Ciantic/orgs",
      "repos_url": "https://api.github.com/users/Ciantic/repos",
      "events_url": "https://api.github.com/users/Ciantic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Ciantic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-30T18:49:43Z",
    "updated_at": "2016-12-01T17:56:46Z",
    "body": "Here is the code to get it using Node-FFI, using WinAPI crap, it's ugly as hell.\r\n\r\n*Note3* I think the X, Y, are now correct, however I think there is some flakiness with below method:\r\n\r\n```typescript\r\nimport { app, screen } from \"electron\";\r\nimport * as ffi from \"ffi\";\r\nimport * as ref from \"ref\";\r\nimport * as struct from \"ref-struct\";\r\n\r\nlet Point = struct({\r\n    'x' : 'long',\r\n    'y' : 'long',\r\n});\r\nlet Rect = struct({\r\n    'left' : 'long',\r\n    'top' : 'long',\r\n    'right' : 'long',\r\n    'bottom' : 'long',\r\n});\r\nconst User32 = ffi.Library(\"User32.dll\", {\r\n    'MonitorFromPoint' : ['uint', [Point, 'int']], // point, dword -> hmonitor\r\n    'GetMonitorInfoW' : ['bool', ['uint', 'pointer']] // hmonitor, lpmi -> bool\r\n});\r\nconst Shcore = ffi.Library(\"Shcore.dll\", {\r\n    'GetDpiForMonitor' : ['int', ['uint', 'int', 'pointer', 'pointer']] // hmonitor, MONITOR_DPI_TYPE, puint, puint -> HRESULT\r\n});\r\nlet getWorkArea = (point: {x: number, y: number}) => {\r\n    let pointInstance = new Point(point);\r\n    let hmonitor = User32.MonitorFromPoint(pointInstance, 2); // MONITOR_DEFAULTTONEAREST == 2\r\n    let dpiXptr = ref.alloc('int');\r\n    let dpiYptr = ref.alloc('int');\r\n    Shcore.GetDpiForMonitor(hmonitor, 0, dpiXptr, dpiYptr);\r\n    let dpiX =  dpiXptr.readInt32LE(0);\r\n    let dpiY = dpiYptr.readInt32LE(0);\r\n    let MonitorInfo = struct({\r\n        cbSize : 'int',\r\n        rcMonitor : Rect,\r\n        rcWork : Rect,\r\n        dwFlags : 'int',\r\n    });\r\n    let monitorInfoPtr = new MonitorInfo({\r\n        cbSize : MonitorInfo.size,\r\n        rcMonitor : new Rect(),\r\n        rcWork : new Rect(),\r\n        dwFlags : 1, // TODO: Force primary display!\r\n    });\r\n    User32.GetMonitorInfoW(hmonitor, monitorInfoPtr.ref());\r\n    let x = monitorInfoPtr.rcWork.left * 96 / dpiX;\r\n    let y = monitorInfoPtr.rcWork.top * 96 / dpiY;\r\n    return {\r\n        x : x > 0 ? Math.ceil(x) : Math.floor(x),\r\n        y : y > 0 ? Math.ceil(y) : Math.floor(y),\r\n        width : Math.ceil((monitorInfoPtr.rcWork.right - monitorInfoPtr.rcWork.left) * 96 / dpiX),\r\n        height : Math.ceil((monitorInfoPtr.rcWork.bottom - monitorInfoPtr.rcWork.top) * 96 / dpiY)\r\n    };\r\n}\r\napp.on('ready', () => {\r\n    let display = screen.getDisplayNearestPoint({\r\n        x : 0,\r\n        y : 0\r\n    });\r\n    let workArea = getWorkArea({\r\n        x : 0,\r\n        y : 0\r\n    });\r\n    console.log(\"display?\", display.workArea);\r\n    console.log(\"workarea winapi?\", workArea);\r\n    app.quit();\r\n});\r\n\r\n// On my computer it prints out:\r\n// display? { x: 0, y: 0, width: 2132, height: 1235 }\r\n// workarea winapi? { x: 0, y: 0, width: 2132, height: 1235 }\r\n```"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/264109651",
    "html_url": "https://github.com/electron/electron/issues/6312#issuecomment-264109651",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6312",
    "id": 264109651,
    "user": {
      "login": "Pettor",
      "id": 54952,
      "avatar_url": "https://avatars0.githubusercontent.com/u/54952?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Pettor",
      "html_url": "https://github.com/Pettor",
      "followers_url": "https://api.github.com/users/Pettor/followers",
      "following_url": "https://api.github.com/users/Pettor/following{/other_user}",
      "gists_url": "https://api.github.com/users/Pettor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Pettor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Pettor/subscriptions",
      "organizations_url": "https://api.github.com/users/Pettor/orgs",
      "repos_url": "https://api.github.com/users/Pettor/repos",
      "events_url": "https://api.github.com/users/Pettor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Pettor/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-01T08:30:39Z",
    "updated_at": "2016-12-01T09:39:29Z",
    "body": "@llhupp Agree, haven't found any Chromium issue and sadly don't know the details of Electron APIs good enough to write a proper issue.\r\n\r\n@zcbenz Can you write a Chromium issue or link to existing one for this?\r\n\r\n@Ciantic Thanks! This is what I was thinking of doing as well. Given up hope that this will be solved any time soon and can't upgrade Electron until this has been fixed. \r\nThe only missing part is to know when to get the new params (like display changes). I think there was an issue with WorkArea changes not being notified about as well. But for me this should be enough so thanks."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/294999949",
    "html_url": "https://github.com/electron/electron/issues/6312#issuecomment-294999949",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6312",
    "id": 294999949,
    "user": {
      "login": "zanderz",
      "id": 862397,
      "avatar_url": "https://avatars2.githubusercontent.com/u/862397?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zanderz",
      "html_url": "https://github.com/zanderz",
      "followers_url": "https://api.github.com/users/zanderz/followers",
      "following_url": "https://api.github.com/users/zanderz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zanderz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zanderz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zanderz/subscriptions",
      "organizations_url": "https://api.github.com/users/zanderz/orgs",
      "repos_url": "https://api.github.com/users/zanderz/repos",
      "events_url": "https://api.github.com/users/zanderz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zanderz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-18T22:15:13Z",
    "updated_at": "2017-04-19T20:39:02Z",
    "body": "It looks like Chromium does not track changes to screen work areas properly, and returns the stale values still to Electron. I opened a Chromium bug:\r\nhttps://bugs.chromium.org/p/chromium/issues/detail?id=712871\r\n\r\nand have submitted a PR for a fix that solves the problem for me:\r\nhttps://codereview.chromium.org/2829693003"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/302735070",
    "html_url": "https://github.com/electron/electron/issues/6312#issuecomment-302735070",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6312",
    "id": 302735070,
    "user": {
      "login": "zanderz",
      "id": 862397,
      "avatar_url": "https://avatars2.githubusercontent.com/u/862397?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zanderz",
      "html_url": "https://github.com/zanderz",
      "followers_url": "https://api.github.com/users/zanderz/followers",
      "following_url": "https://api.github.com/users/zanderz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zanderz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zanderz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zanderz/subscriptions",
      "organizations_url": "https://api.github.com/users/zanderz/orgs",
      "repos_url": "https://api.github.com/users/zanderz/repos",
      "events_url": "https://api.github.com/users/zanderz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zanderz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-19T15:31:00Z",
    "updated_at": "2017-05-19T15:31:00Z",
    "body": "The PR was merged into Chromium last night: https://codereview.chromium.org/2829693003/\r\nnote this is a Windows-only fix."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/302833074",
    "html_url": "https://github.com/electron/electron/issues/6312#issuecomment-302833074",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6312",
    "id": 302833074,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2017-05-19T23:32:18Z",
    "updated_at": "2017-05-19T23:32:18Z",
    "body": "Thanks so much for fixing this @zanderz, your fix will be included in the next Electron release, 1.7.2"
  }
]