[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/165410802",
    "html_url": "https://github.com/electron/electron/issues/3837#issuecomment-165410802",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3837",
    "id": 165410802,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-12-17T10:25:03Z",
    "updated_at": "2015-12-17T10:25:03Z",
    "body": "Doing this will change behaviors of existing apps, I don't think we should do that, no matter whether it is good or not.\n\nIf you really want this behavior you can just monkey-patch the `autoUpdater.quitAndInstall` method in your app.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/165515599",
    "html_url": "https://github.com/electron/electron/issues/3837#issuecomment-165515599",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3837",
    "id": 165515599,
    "user": {
      "login": "wearhere",
      "id": 110000,
      "avatar_url": "https://avatars1.githubusercontent.com/u/110000?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wearhere",
      "html_url": "https://github.com/wearhere",
      "followers_url": "https://api.github.com/users/wearhere/followers",
      "following_url": "https://api.github.com/users/wearhere/following{/other_user}",
      "gists_url": "https://api.github.com/users/wearhere/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wearhere/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wearhere/subscriptions",
      "organizations_url": "https://api.github.com/users/wearhere/orgs",
      "repos_url": "https://api.github.com/users/wearhere/repos",
      "events_url": "https://api.github.com/users/wearhere/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wearhere/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-17T17:05:49Z",
    "updated_at": "2015-12-17T17:05:49Z",
    "body": "Hm, I can see how emitting the events would be a breaking change. Don't you agree that this is a bug though? I don't see why we would not want to broadcast that the app was quitting, and so give modules the ability to clean up or even abort the quit, in this case vs. a regular quit.\n\nPerhaps we keep it open/slated for the next major release? (In the semver sense, where a release is understood to contain breaking changes.)\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/165517701",
    "html_url": "https://github.com/electron/electron/issues/3837#issuecomment-165517701",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3837",
    "id": 165517701,
    "user": {
      "login": "wearhere",
      "id": 110000,
      "avatar_url": "https://avatars1.githubusercontent.com/u/110000?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wearhere",
      "html_url": "https://github.com/wearhere",
      "followers_url": "https://api.github.com/users/wearhere/followers",
      "following_url": "https://api.github.com/users/wearhere/following{/other_user}",
      "gists_url": "https://api.github.com/users/wearhere/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wearhere/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wearhere/subscriptions",
      "organizations_url": "https://api.github.com/users/wearhere/orgs",
      "repos_url": "https://api.github.com/users/wearhere/repos",
      "events_url": "https://api.github.com/users/wearhere/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wearhere/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-17T17:12:23Z",
    "updated_at": "2015-12-17T17:12:23Z",
    "body": "I can indeed work around in this in my application. It would be much better if it were fixed in core though—assuming that 'before-quit' would be fired, I got bitten by a bug where:\n1. I have a \"main\" window that can never be closed, only hidden—it normally prevents the 'close' event and hides itself. This is how many Mac apps behave.\n2. But the main window will allow itself to be closed if the app is quitting—it deregisters the 'close' listener on 'before-quit'.\n3. But since 'before-quit' is not emitted when auto-updating, and the app only quits when all windows have been closed, the app would never quit when the user said 'quit and install'—auto-updates are thus broken in production for me. :(\n\nI'd like to save other developers from this. Or, we should amend the 'before-quit' documentation to this effect—but it'd be better if it were consistent.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/166177460",
    "html_url": "https://github.com/electron/electron/issues/3837#issuecomment-166177460",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3837",
    "id": 166177460,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-12-21T02:14:00Z",
    "updated_at": "2015-12-21T02:14:00Z",
    "body": "After a closer look I found autoUpdater behaves differently on Windows, it uses `app.quit` to quit the program so `quitAndInstall` will emit quit events there. It makes this issue a bug then, I'm now :+1: on changing the behavior on OS X to follow the behavior on Windows.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/171013778",
    "html_url": "https://github.com/electron/electron/issues/3837#issuecomment-171013778",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3837",
    "id": 171013778,
    "user": {
      "login": "kainosnoema",
      "id": 145951,
      "avatar_url": "https://avatars2.githubusercontent.com/u/145951?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kainosnoema",
      "html_url": "https://github.com/kainosnoema",
      "followers_url": "https://api.github.com/users/kainosnoema/followers",
      "following_url": "https://api.github.com/users/kainosnoema/following{/other_user}",
      "gists_url": "https://api.github.com/users/kainosnoema/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kainosnoema/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kainosnoema/subscriptions",
      "organizations_url": "https://api.github.com/users/kainosnoema/orgs",
      "repos_url": "https://api.github.com/users/kainosnoema/repos",
      "events_url": "https://api.github.com/users/kainosnoema/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kainosnoema/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-12T18:54:37Z",
    "updated_at": "2016-01-12T18:54:37Z",
    "body": "We also just ran into this problem, and are having quite a bit of trouble getting `quitAndInstall` to work at all. Currently all windows are being closed, but the app never quits. We've checked all our code to make sure nothing's preventing it from quitting, but since no `before-quit` or `will-quit` events are being emitted, it's difficult to debug.\n\n+1 on making the behavior consistent with Windows.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/201739771",
    "html_url": "https://github.com/electron/electron/issues/3837#issuecomment-201739771",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3837",
    "id": 201739771,
    "user": {
      "login": "aluxian",
      "id": 1418870,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1418870?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aluxian",
      "html_url": "https://github.com/aluxian",
      "followers_url": "https://api.github.com/users/aluxian/followers",
      "following_url": "https://api.github.com/users/aluxian/following{/other_user}",
      "gists_url": "https://api.github.com/users/aluxian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aluxian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aluxian/subscriptions",
      "organizations_url": "https://api.github.com/users/aluxian/orgs",
      "repos_url": "https://api.github.com/users/aluxian/repos",
      "events_url": "https://api.github.com/users/aluxian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aluxian/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-26T09:04:31Z",
    "updated_at": "2016-03-26T09:04:31Z",
    "body": "My app calls quitAndInstall in the `will-quit` event listener if an update has been downloaded already (and calls `event.preventDefault()` too). It works flawlessly on OS X, however, it hangs on Windows. The behaviour is similar to what @kainosnoema reported: `before-quit` is emitted, windows are closed, `will-quit` is emitted, I call `quitAndInstall()`, the app is updated but it doesn't quit. It's as if [this call](https://github.com/atom/electron/blob/dd158e172f279d224cc1de91c536e97418e64842/lib/browser/api/auto-updater/auto-updater-win.js#L16) isn't executed at all.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/225782053",
    "html_url": "https://github.com/electron/electron/issues/3837#issuecomment-225782053",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3837",
    "id": 225782053,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-06-14T05:16:22Z",
    "updated_at": "2016-06-14T05:16:22Z",
    "body": "I'm not able to reproduce this in v1.2.2 anymore.\n"
  }
]