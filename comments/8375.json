[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/271583855",
    "html_url": "https://github.com/electron/electron/issues/8375#issuecomment-271583855",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8375",
    "id": 271583855,
    "user": {
      "login": "MarshallOfSound",
      "id": 6634592,
      "avatar_url": "https://avatars0.githubusercontent.com/u/6634592?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarshallOfSound",
      "html_url": "https://github.com/MarshallOfSound",
      "followers_url": "https://api.github.com/users/MarshallOfSound/followers",
      "following_url": "https://api.github.com/users/MarshallOfSound/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarshallOfSound/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarshallOfSound/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarshallOfSound/subscriptions",
      "organizations_url": "https://api.github.com/users/MarshallOfSound/orgs",
      "repos_url": "https://api.github.com/users/MarshallOfSound/repos",
      "events_url": "https://api.github.com/users/MarshallOfSound/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarshallOfSound/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-10T14:08:02Z",
    "updated_at": "2017-01-10T14:08:02Z",
    "body": "> Seems like electron has an issue with the pm2 package in production only.\r\n\r\nPast experience points me towards this being an issue caused by the difference in architecture rather than anything else.  If I interpret that question correctly you are attempting to spawn your own app in PM2?\r\n\r\nA couple of issues I can potentially see occurring\r\n\r\n* You're getting hit by macOS's gatekeepers sandbox and spawning the \"path/to/executable\" isn't working (not sure what platform you are on)\r\n* Single instance is being enforced for some reason\r\n* You've lost dependencies during your package step (perhaps an incorrect prune / deletion)\r\n\r\nTo be honest this sounds very much like an issue with either PM2 or in your exact implementation.  If you could provide a minimal example to reproduce the issue it would help determine if this is an Electron issue or not."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/271963433",
    "html_url": "https://github.com/electron/electron/issues/8375#issuecomment-271963433",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8375",
    "id": 271963433,
    "user": {
      "login": "ca333",
      "id": 10762374,
      "avatar_url": "https://avatars3.githubusercontent.com/u/10762374?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ca333",
      "html_url": "https://github.com/ca333",
      "followers_url": "https://api.github.com/users/ca333/followers",
      "following_url": "https://api.github.com/users/ca333/following{/other_user}",
      "gists_url": "https://api.github.com/users/ca333/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ca333/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ca333/subscriptions",
      "organizations_url": "https://api.github.com/users/ca333/orgs",
      "repos_url": "https://api.github.com/users/ca333/repos",
      "events_url": "https://api.github.com/users/ca333/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ca333/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-11T19:06:38Z",
    "updated_at": "2017-01-11T19:06:38Z",
    "body": "> you are attempting to spawn your own app in PM2?\r\n\r\n@MarshallOfSound: no i am attempting to spawn a 3rd party binary from within my electron application via pm2. I just uploaded my [sample-app](https://github.com/ca333/pm2_electron_app). It is quite simple and its job is only to  launch a binary via pm2 from within the electron app. This works fine unless it is packed with electron-packager for public distribution.\r\n\r\n(to reproduce the issue just integrate pm2 into any electron app and launch a external binary from within it. once you pack it for distribution the app will respawn itself due to an unknow issue.)\r\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/271981639",
    "html_url": "https://github.com/electron/electron/issues/8375#issuecomment-271981639",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8375",
    "id": 271981639,
    "user": {
      "login": "MarshallOfSound",
      "id": 6634592,
      "avatar_url": "https://avatars0.githubusercontent.com/u/6634592?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarshallOfSound",
      "html_url": "https://github.com/MarshallOfSound",
      "followers_url": "https://api.github.com/users/MarshallOfSound/followers",
      "following_url": "https://api.github.com/users/MarshallOfSound/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarshallOfSound/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarshallOfSound/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarshallOfSound/subscriptions",
      "organizations_url": "https://api.github.com/users/MarshallOfSound/orgs",
      "repos_url": "https://api.github.com/users/MarshallOfSound/repos",
      "events_url": "https://api.github.com/users/MarshallOfSound/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarshallOfSound/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-11T20:17:03Z",
    "updated_at": "2017-01-11T20:17:03Z",
    "body": "@ca333 Is ASAR enabled when you package your app?"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/272018818",
    "html_url": "https://github.com/electron/electron/issues/8375#issuecomment-272018818",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8375",
    "id": 272018818,
    "user": {
      "login": "ca333",
      "id": 10762374,
      "avatar_url": "https://avatars3.githubusercontent.com/u/10762374?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ca333",
      "html_url": "https://github.com/ca333",
      "followers_url": "https://api.github.com/users/ca333/followers",
      "following_url": "https://api.github.com/users/ca333/following{/other_user}",
      "gists_url": "https://api.github.com/users/ca333/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ca333/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ca333/subscriptions",
      "organizations_url": "https://api.github.com/users/ca333/orgs",
      "repos_url": "https://api.github.com/users/ca333/repos",
      "events_url": "https://api.github.com/users/ca333/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ca333/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-11T22:40:32Z",
    "updated_at": "2017-01-14T22:09:50Z",
    "body": "@MarshallOfSound No it's not enabled. I am packing it with `electron-packager . --platform=darwin --arch=x64 --icon=assets/icons/icon.icns --out=build/`\r\n\r\nps. error is reproducible on osx/linux. not tested on windows. "
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/274470714",
    "html_url": "https://github.com/electron/electron/issues/8375#issuecomment-274470714",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8375",
    "id": 274470714,
    "user": {
      "login": "ca333",
      "id": 10762374,
      "avatar_url": "https://avatars3.githubusercontent.com/u/10762374?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ca333",
      "html_url": "https://github.com/ca333",
      "followers_url": "https://api.github.com/users/ca333/followers",
      "following_url": "https://api.github.com/users/ca333/following{/other_user}",
      "gists_url": "https://api.github.com/users/ca333/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ca333/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ca333/subscriptions",
      "organizations_url": "https://api.github.com/users/ca333/orgs",
      "repos_url": "https://api.github.com/users/ca333/repos",
      "events_url": "https://api.github.com/users/ca333/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ca333/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-23T11:58:56Z",
    "updated_at": "2017-01-23T11:58:56Z",
    "body": "@MarshallOfSound did you find time to reprocude the bug?"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/281699033",
    "html_url": "https://github.com/electron/electron/issues/8375#issuecomment-281699033",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8375",
    "id": 281699033,
    "user": {
      "login": "atilacamurca",
      "id": 508624,
      "avatar_url": "https://avatars0.githubusercontent.com/u/508624?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/atilacamurca",
      "html_url": "https://github.com/atilacamurca",
      "followers_url": "https://api.github.com/users/atilacamurca/followers",
      "following_url": "https://api.github.com/users/atilacamurca/following{/other_user}",
      "gists_url": "https://api.github.com/users/atilacamurca/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/atilacamurca/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/atilacamurca/subscriptions",
      "organizations_url": "https://api.github.com/users/atilacamurca/orgs",
      "repos_url": "https://api.github.com/users/atilacamurca/repos",
      "events_url": "https://api.github.com/users/atilacamurca/events{/privacy}",
      "received_events_url": "https://api.github.com/users/atilacamurca/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-22T15:18:34Z",
    "updated_at": "2017-02-22T15:18:34Z",
    "body": "I have the same issue when I was trying to run 2 node services through pm2. I even try to use other tool ([forever-monitor](https://github.com/foreverjs/forever-monitor)) but the result is the same, the electron app keeps respawning itself until the system crashes.\r\n\r\nI hope to see a workaround to this."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/281811495",
    "html_url": "https://github.com/electron/electron/issues/8375#issuecomment-281811495",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8375",
    "id": 281811495,
    "user": {
      "login": "atilacamurca",
      "id": 508624,
      "avatar_url": "https://avatars0.githubusercontent.com/u/508624?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/atilacamurca",
      "html_url": "https://github.com/atilacamurca",
      "followers_url": "https://api.github.com/users/atilacamurca/followers",
      "following_url": "https://api.github.com/users/atilacamurca/following{/other_user}",
      "gists_url": "https://api.github.com/users/atilacamurca/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/atilacamurca/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/atilacamurca/subscriptions",
      "organizations_url": "https://api.github.com/users/atilacamurca/orgs",
      "repos_url": "https://api.github.com/users/atilacamurca/repos",
      "events_url": "https://api.github.com/users/atilacamurca/events{/privacy}",
      "received_events_url": "https://api.github.com/users/atilacamurca/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-22T21:34:31Z",
    "updated_at": "2017-02-22T21:34:31Z",
    "body": "I finally found a solution! :tada: \r\n\r\nThe pull request #7479 introduces two env variables: `ELECTRON_NO_ASAR` and `ELECTRON_RUN_AS_NODE`.\r\n\r\nFor fork process use `ELECTRON_NO_ASAR` set to `true`.\r\n\r\nExample: <https://github.com/electron/electron/pull/7479/files#diff-5686e6130dcc1145c5340c794b919d3cR759>\r\n\r\nFor spawn process use both `ELECTRON_NO_ASAR` and `ELECTRON_RUN_AS_NODE` set to `true`.\r\n\r\nExample: <https://github.com/electron/electron/pull/7479/files#diff-5686e6130dcc1145c5340c794b919d3cR772>\r\n\r\nBoth pm2 and forever-monitor accepts `env` as object where you can pass custom env variables.\r\n\r\nHey @ca333, can you try this and tell if it works for you?\r\n\r\nps. tested with electron v1.4.15"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/285223376",
    "html_url": "https://github.com/electron/electron/issues/8375#issuecomment-285223376",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8375",
    "id": 285223376,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2017-03-09T01:14:34Z",
    "updated_at": "2017-03-09T01:14:34Z",
    "body": "> I finally found a solution!\r\n\r\nThanks for posting this, closing this out."
  }
]