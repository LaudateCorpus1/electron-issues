[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/178320148",
    "html_url": "https://github.com/electron/electron/issues/4317#issuecomment-178320148",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4317",
    "id": 178320148,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-02-02T02:27:05Z",
    "updated_at": "2016-02-02T02:27:05Z",
    "body": "My original comment can be wrong since I didn't test it, the safest choice is to put it before the ready event of `app`. For per window you can take the [WebAudio hack](https://github.com/atom/atom/pull/9485/files).\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/178327270",
    "html_url": "https://github.com/electron/electron/issues/4317#issuecomment-178327270",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4317",
    "id": 178327270,
    "user": {
      "login": "brian-mann",
      "id": 1268976,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1268976?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brian-mann",
      "html_url": "https://github.com/brian-mann",
      "followers_url": "https://api.github.com/users/brian-mann/followers",
      "following_url": "https://api.github.com/users/brian-mann/following{/other_user}",
      "gists_url": "https://api.github.com/users/brian-mann/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brian-mann/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brian-mann/subscriptions",
      "organizations_url": "https://api.github.com/users/brian-mann/orgs",
      "repos_url": "https://api.github.com/users/brian-mann/repos",
      "events_url": "https://api.github.com/users/brian-mann/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brian-mann/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-02T02:46:32Z",
    "updated_at": "2016-02-02T02:46:32Z",
    "body": "I am putting it before the `ready` event.\n\n``` coffeescript\napp        = require(\"electron\").app\ninit       = require(\"./handlers/init\")\n\n## prevent chromium from throttling\napp.commandLine.appendSwitch(\"disable-renderer-backgrounding\")\n\nmodule.exports = ->\n  app.on \"ready\", ->\n    ## ...do things...\n```\n\nI will try the audio hack as well.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/178335329",
    "html_url": "https://github.com/electron/electron/issues/4317#issuecomment-178335329",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4317",
    "id": 178335329,
    "user": {
      "login": "brian-mann",
      "id": 1268976,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1268976?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brian-mann",
      "html_url": "https://github.com/brian-mann",
      "followers_url": "https://api.github.com/users/brian-mann/followers",
      "following_url": "https://api.github.com/users/brian-mann/following{/other_user}",
      "gists_url": "https://api.github.com/users/brian-mann/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brian-mann/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brian-mann/subscriptions",
      "organizations_url": "https://api.github.com/users/brian-mann/orgs",
      "repos_url": "https://api.github.com/users/brian-mann/repos",
      "events_url": "https://api.github.com/users/brian-mann/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brian-mann/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-02T03:07:21Z",
    "updated_at": "2016-02-02T03:07:21Z",
    "body": "I implemented:\n\n``` javascript\n  var context = new AudioContext()\n  var source = context.createBufferSource()\n  source.connect(context.destination)\n  source.start(0)\n```\n\nAnd I still see my process being backgrounded both in Chrome 48 and in Electron `0.36.7`.\n\nI can tell it is being backgrounded because I'm using Promises everywhere and they go from taking `0.004 sec` each turn of the run loop up to `1 sec`.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/178335791",
    "html_url": "https://github.com/electron/electron/issues/4317#issuecomment-178335791",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4317",
    "id": 178335791,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-02-02T03:08:43Z",
    "updated_at": "2016-02-02T03:08:43Z",
    "body": "@brian-mann Can you make a test case for it? It is probably caused by other things since `disable-renderer-backgrounding` did work for other people.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/179951709",
    "html_url": "https://github.com/electron/electron/issues/4317#issuecomment-179951709",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4317",
    "id": 179951709,
    "user": {
      "login": "brian-mann",
      "id": 1268976,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1268976?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brian-mann",
      "html_url": "https://github.com/brian-mann",
      "followers_url": "https://api.github.com/users/brian-mann/followers",
      "following_url": "https://api.github.com/users/brian-mann/following{/other_user}",
      "gists_url": "https://api.github.com/users/brian-mann/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brian-mann/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brian-mann/subscriptions",
      "organizations_url": "https://api.github.com/users/brian-mann/orgs",
      "repos_url": "https://api.github.com/users/brian-mann/repos",
      "events_url": "https://api.github.com/users/brian-mann/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brian-mann/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-04T17:12:43Z",
    "updated_at": "2016-02-04T17:12:43Z",
    "body": "I'll see about getting this together. I agree - need to reduce the case.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/190990964",
    "html_url": "https://github.com/electron/electron/issues/4317#issuecomment-190990964",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4317",
    "id": 190990964,
    "user": {
      "login": "nathansobo",
      "id": 1789,
      "avatar_url": "https://avatars2.githubusercontent.com/u/1789?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nathansobo",
      "html_url": "https://github.com/nathansobo",
      "followers_url": "https://api.github.com/users/nathansobo/followers",
      "following_url": "https://api.github.com/users/nathansobo/following{/other_user}",
      "gists_url": "https://api.github.com/users/nathansobo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nathansobo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nathansobo/subscriptions",
      "organizations_url": "https://api.github.com/users/nathansobo/orgs",
      "repos_url": "https://api.github.com/users/nathansobo/repos",
      "events_url": "https://api.github.com/users/nathansobo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nathansobo/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-03-02T00:37:53Z",
    "updated_at": "2016-03-02T00:37:53Z",
    "body": "@zcbenz: I can confirm that this is broken, so I'm going to reopen the issue. I've created a [test case repository](https://github.com/nathansobo/disable-renderer-backgrounding-test-case) that demonstrates animation frames taking multiple seconds to fire even when using the `--disable-renderer-backgrounding` flag and the web audio hack.\n\nHere's where this comes up in Atom. Here's two test suite windows that were started at the same time, except one was hidden and therefore throttled:\n\n![screen shot 2016-03-01 at 3 13 17 pm](https://cloud.githubusercontent.com/assets/1789/13445300/a40c7798-dfc8-11e5-8044-3dd539272c2b.png)\n\nMore importantly, this is causing problems on CI such as [this one](https://github.com/atom/atom/issues/11019).\n\nIt would be great if we could find some way to make sure pages don't get throttled. If I'm doing something wrong in my example, please let me know.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/192619978",
    "html_url": "https://github.com/electron/electron/issues/4317#issuecomment-192619978",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4317",
    "id": 192619978,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-03-05T10:41:41Z",
    "updated_at": "2016-03-05T10:41:41Z",
    "body": "@nathansobo It is actually another issue, `disable-renderer-backgrounding` did prevent lowering the priority of renderer process, however for background pages Chromium has another throttling system for animations, I'll try to find a way to disable it.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/194031243",
    "html_url": "https://github.com/electron/electron/issues/4317#issuecomment-194031243",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4317",
    "id": 194031243,
    "user": {
      "login": "nathansobo",
      "id": 1789,
      "avatar_url": "https://avatars2.githubusercontent.com/u/1789?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nathansobo",
      "html_url": "https://github.com/nathansobo",
      "followers_url": "https://api.github.com/users/nathansobo/followers",
      "following_url": "https://api.github.com/users/nathansobo/following{/other_user}",
      "gists_url": "https://api.github.com/users/nathansobo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nathansobo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nathansobo/subscriptions",
      "organizations_url": "https://api.github.com/users/nathansobo/orgs",
      "repos_url": "https://api.github.com/users/nathansobo/repos",
      "events_url": "https://api.github.com/users/nathansobo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nathansobo/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-03-09T00:05:00Z",
    "updated_at": "2016-03-09T00:05:00Z",
    "body": "@zcbenz should we file an issue with the Chrome team about adding another flag? Is something you could maybe hack in?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/194279148",
    "html_url": "https://github.com/electron/electron/issues/4317#issuecomment-194279148",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4317",
    "id": 194279148,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-03-09T12:39:36Z",
    "updated_at": "2016-03-09T12:39:36Z",
    "body": "@nathansobo I tried to patch a few places related to throttling but none of them works for animations, so filing an issue would probably be the only choice.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/201976229",
    "html_url": "https://github.com/electron/electron/issues/4317#issuecomment-201976229",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4317",
    "id": 201976229,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-03-27T02:44:17Z",
    "updated_at": "2016-03-27T02:44:17Z",
    "body": "I have created #4925 for the `requestAnimationFrame` throttling problem, closing this issue now.\n"
  }
]