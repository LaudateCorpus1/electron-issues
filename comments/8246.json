[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/268972376",
    "html_url": "https://github.com/electron/electron/issues/8246#issuecomment-268972376",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8246",
    "id": 268972376,
    "user": {
      "login": "aredfox",
      "id": 1333704,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1333704?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aredfox",
      "html_url": "https://github.com/aredfox",
      "followers_url": "https://api.github.com/users/aredfox/followers",
      "following_url": "https://api.github.com/users/aredfox/following{/other_user}",
      "gists_url": "https://api.github.com/users/aredfox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aredfox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aredfox/subscriptions",
      "organizations_url": "https://api.github.com/users/aredfox/orgs",
      "repos_url": "https://api.github.com/users/aredfox/repos",
      "events_url": "https://api.github.com/users/aredfox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aredfox/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-23T10:49:54Z",
    "updated_at": "2016-12-23T10:49:54Z",
    "body": "Addendum: it seems like the KAP developers had problems with this too. Is this a pure libchromium problem, or an electron-specific issue? Ref: https://github.com/wulkano/kap/issues/20"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/269732351",
    "html_url": "https://github.com/electron/electron/issues/8246#issuecomment-269732351",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8246",
    "id": 269732351,
    "user": {
      "login": "aredfox",
      "id": 1333704,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1333704?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aredfox",
      "html_url": "https://github.com/aredfox",
      "followers_url": "https://api.github.com/users/aredfox/followers",
      "following_url": "https://api.github.com/users/aredfox/following{/other_user}",
      "gists_url": "https://api.github.com/users/aredfox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aredfox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aredfox/subscriptions",
      "organizations_url": "https://api.github.com/users/aredfox/orgs",
      "repos_url": "https://api.github.com/users/aredfox/repos",
      "events_url": "https://api.github.com/users/aredfox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aredfox/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-30T04:50:54Z",
    "updated_at": "2016-12-30T04:50:54Z",
    "body": "PS: is no one else experiencing this, or what do I need to do to make it more clear to replicate this other than providing the source code I have above?"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/269751729",
    "html_url": "https://github.com/electron/electron/issues/8246#issuecomment-269751729",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8246",
    "id": 269751729,
    "user": {
      "login": "hokein",
      "id": 2557445,
      "avatar_url": "https://avatars2.githubusercontent.com/u/2557445?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hokein",
      "html_url": "https://github.com/hokein",
      "followers_url": "https://api.github.com/users/hokein/followers",
      "following_url": "https://api.github.com/users/hokein/following{/other_user}",
      "gists_url": "https://api.github.com/users/hokein/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hokein/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hokein/subscriptions",
      "organizations_url": "https://api.github.com/users/hokein/orgs",
      "repos_url": "https://api.github.com/users/hokein/repos",
      "events_url": "https://api.github.com/users/hokein/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hokein/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-30T09:43:56Z",
    "updated_at": "2016-12-30T09:43:56Z",
    "body": "I can't reproduce the frozen issue on mac, but I suspect that the reason why the main process is frozen is that the main process is busy with handling `getSources` API.\r\n\r\nAfter looking your code deeply, I'm a bit of surprised about the way you use `getSources` API. \r\n\r\n`getSources` is a highly-expensive API, it does more stuff than you thought, and requires communication with main process although it is a renderer module. For each invoke, it firstly sends a request to main process,  main process generates results for all sources and pass the results to render process. Generally, the results are not trivial because there are including images, therefore it is not recommended to poll this API.\r\n\r\nFor your use case, I'd suggest you to seek other way to implement it rather than polling `getSources` API.  You may be interested in https://github.com/electron/electron/issues/2237."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/269950926",
    "html_url": "https://github.com/electron/electron/issues/8246#issuecomment-269950926",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8246",
    "id": 269950926,
    "user": {
      "login": "aredfox",
      "id": 1333704,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1333704?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aredfox",
      "html_url": "https://github.com/aredfox",
      "followers_url": "https://api.github.com/users/aredfox/followers",
      "following_url": "https://api.github.com/users/aredfox/following{/other_user}",
      "gists_url": "https://api.github.com/users/aredfox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aredfox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aredfox/subscriptions",
      "organizations_url": "https://api.github.com/users/aredfox/orgs",
      "repos_url": "https://api.github.com/users/aredfox/repos",
      "events_url": "https://api.github.com/users/aredfox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aredfox/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-02T09:48:58Z",
    "updated_at": "2017-01-02T09:48:58Z",
    "body": "thanks, I figured it's expensive indeed - but I wonder why it's blocking the entire node application as it's not shown in the docs, nor anywhere else. I thought this was not possible given the seperation of the processes.\r\nI'll look into #2237 and see if that offers a solution!"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/269951070",
    "html_url": "https://github.com/electron/electron/issues/8246#issuecomment-269951070",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8246",
    "id": 269951070,
    "user": {
      "login": "aredfox",
      "id": 1333704,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1333704?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aredfox",
      "html_url": "https://github.com/aredfox",
      "followers_url": "https://api.github.com/users/aredfox/followers",
      "following_url": "https://api.github.com/users/aredfox/following{/other_user}",
      "gists_url": "https://api.github.com/users/aredfox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aredfox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aredfox/subscriptions",
      "organizations_url": "https://api.github.com/users/aredfox/orgs",
      "repos_url": "https://api.github.com/users/aredfox/repos",
      "events_url": "https://api.github.com/users/aredfox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aredfox/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-02T09:50:18Z",
    "updated_at": "2017-01-02T09:50:18Z",
    "body": "(ps: the way I use the code, I got this from an example tutorial on how to use the electron API's)"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/275947336",
    "html_url": "https://github.com/electron/electron/issues/8246#issuecomment-275947336",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8246",
    "id": 275947336,
    "user": {
      "login": "aredfox",
      "id": 1333704,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1333704?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aredfox",
      "html_url": "https://github.com/aredfox",
      "followers_url": "https://api.github.com/users/aredfox/followers",
      "following_url": "https://api.github.com/users/aredfox/following{/other_user}",
      "gists_url": "https://api.github.com/users/aredfox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aredfox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aredfox/subscriptions",
      "organizations_url": "https://api.github.com/users/aredfox/orgs",
      "repos_url": "https://api.github.com/users/aredfox/repos",
      "events_url": "https://api.github.com/users/aredfox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aredfox/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-29T21:25:24Z",
    "updated_at": "2017-01-29T21:25:24Z",
    "body": "Thanks for all the help and especially issue #2237 did get me on the way @hokein! \r\n\r\n---\r\n\r\nIf you're wanting to capture screenshots cross platform, i'd advice using the approach below in stead of relying on the built in electron-api's. Not that they're not good, but they're not suited for taking screenshots every three seconds for example.\r\n\r\nThe solution for me was the npm-module [desktop-screenshot](https://www.npmjs.com/package/desktop-screenshot) - and a npm package called [hazardous](https://www.npmjs.com/package/hazardous), as this was needed on Windows & asar execution.\r\n\r\nThe code I ended up implementing was this - it might be a source of inspiration/example for your problem.\r\n\r\n\r\n    /* ******************************************************************** */\r\n    /* MODULE IMPORTS */\r\n    import { remote, nativeImage } from 'electron';\r\n    import path from 'path';\r\n    import os from 'os';\r\n    import { exec } from 'child_process';\r\n    import moment from 'moment';\r\n    import screenshot from 'desktop-screenshot';\r\n    /* */\r\n    /*/********************************************************************///\r\n    \r\n    /* ******************************************************************** */\r\n    /* CLASS */\r\n    export default class ScreenshotTaker {    \r\n        constructor() {\r\n            this.name = \"ScreenshotTaker\";        \r\n        }\r\n    \r\n        start(cb) {\r\n            const fileName = `cap_${moment().format('YYYYMMDD_HHmmss')}.png`;\r\n            const destFolder = global.config.app('capture.screenshots');\r\n            const outputPath = path.join(destFolder, fileName);        \r\n            const platform = os.platform();\r\n            if(platform === 'win32') {\r\n                this.performWindowsCapture(cb, outputPath);\r\n            }\r\n            if(platform === 'darwin') {\r\n                this.performMacOSCapture(cb, outputPath);\r\n            }\r\n            if(platform === 'linux') {\r\n                this.performLinuxCapture(cb, outputPath);\r\n            }\r\n        }\r\n    \r\n        performLinuxCapture(cb, outputPath) {\r\n            // debian\r\n            exec(`import -window root \"${outputPath}\"`, (error, stdout, stderr) => {\r\n                if(error) {\r\n                    cb(error, null, outputPath);\r\n                } else {\r\n                    cb(null, stdout, outputPath);\r\n                }\r\n            });\r\n        }\r\n        performMacOSCapture(cb, outputPath) {\r\n            this.performWindowsCapture(cb, outputPath);\r\n        }\r\n        performWindowsCapture(cb, outputPath) {\r\n            require('hazardous');\r\n            screenshot(outputPath, (err, complete) => {\r\n                if(err) {\r\n                    cb(err, null, outputPath);\r\n                } else {\r\n                    cb(null, complete, outputPath);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /*/********************************************************************///\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/275947389",
    "html_url": "https://github.com/electron/electron/issues/8246#issuecomment-275947389",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8246",
    "id": 275947389,
    "user": {
      "login": "aredfox",
      "id": 1333704,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1333704?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aredfox",
      "html_url": "https://github.com/aredfox",
      "followers_url": "https://api.github.com/users/aredfox/followers",
      "following_url": "https://api.github.com/users/aredfox/following{/other_user}",
      "gists_url": "https://api.github.com/users/aredfox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aredfox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aredfox/subscriptions",
      "organizations_url": "https://api.github.com/users/aredfox/orgs",
      "repos_url": "https://api.github.com/users/aredfox/repos",
      "events_url": "https://api.github.com/users/aredfox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aredfox/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-29T21:26:09Z",
    "updated_at": "2017-01-29T21:26:09Z",
    "body": "Closing this, as for me it is solved - and no specific electron issue."
  }
]