[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/129741432",
    "html_url": "https://github.com/electron/electron/issues/2468#issuecomment-129741432",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2468",
    "id": 129741432,
    "user": {
      "login": "armaseg",
      "id": 1028859,
      "avatar_url": "https://avatars2.githubusercontent.com/u/1028859?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/armaseg",
      "html_url": "https://github.com/armaseg",
      "followers_url": "https://api.github.com/users/armaseg/followers",
      "following_url": "https://api.github.com/users/armaseg/following{/other_user}",
      "gists_url": "https://api.github.com/users/armaseg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/armaseg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/armaseg/subscriptions",
      "organizations_url": "https://api.github.com/users/armaseg/orgs",
      "repos_url": "https://api.github.com/users/armaseg/repos",
      "events_url": "https://api.github.com/users/armaseg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/armaseg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-11T07:37:57Z",
    "updated_at": "2015-08-11T07:37:57Z",
    "body": "I got the same errors on v0.30.4\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/130661276",
    "html_url": "https://github.com/electron/electron/issues/2468#issuecomment-130661276",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2468",
    "id": 130661276,
    "user": {
      "login": "mnemotiv",
      "id": 3081042,
      "avatar_url": "https://avatars1.githubusercontent.com/u/3081042?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mnemotiv",
      "html_url": "https://github.com/mnemotiv",
      "followers_url": "https://api.github.com/users/mnemotiv/followers",
      "following_url": "https://api.github.com/users/mnemotiv/following{/other_user}",
      "gists_url": "https://api.github.com/users/mnemotiv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mnemotiv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mnemotiv/subscriptions",
      "organizations_url": "https://api.github.com/users/mnemotiv/orgs",
      "repos_url": "https://api.github.com/users/mnemotiv/repos",
      "events_url": "https://api.github.com/users/mnemotiv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mnemotiv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-13T12:59:15Z",
    "updated_at": "2015-08-13T12:59:15Z",
    "body": "Same here. Bump.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/131142527",
    "html_url": "https://github.com/electron/electron/issues/2468#issuecomment-131142527",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2468",
    "id": 131142527,
    "user": {
      "login": "shrewdlogarithm",
      "id": 4963937,
      "avatar_url": "https://avatars0.githubusercontent.com/u/4963937?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shrewdlogarithm",
      "html_url": "https://github.com/shrewdlogarithm",
      "followers_url": "https://api.github.com/users/shrewdlogarithm/followers",
      "following_url": "https://api.github.com/users/shrewdlogarithm/following{/other_user}",
      "gists_url": "https://api.github.com/users/shrewdlogarithm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shrewdlogarithm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shrewdlogarithm/subscriptions",
      "organizations_url": "https://api.github.com/users/shrewdlogarithm/orgs",
      "repos_url": "https://api.github.com/users/shrewdlogarithm/repos",
      "events_url": "https://api.github.com/users/shrewdlogarithm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shrewdlogarithm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-14T15:12:20Z",
    "updated_at": "2015-08-14T15:12:20Z",
    "body": "I'll bump this too - last seen working in 0.29.2\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/131505395",
    "html_url": "https://github.com/electron/electron/issues/2468#issuecomment-131505395",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2468",
    "id": 131505395,
    "user": {
      "login": "hankbao",
      "id": 756604,
      "avatar_url": "https://avatars3.githubusercontent.com/u/756604?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hankbao",
      "html_url": "https://github.com/hankbao",
      "followers_url": "https://api.github.com/users/hankbao/followers",
      "following_url": "https://api.github.com/users/hankbao/following{/other_user}",
      "gists_url": "https://api.github.com/users/hankbao/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hankbao/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hankbao/subscriptions",
      "organizations_url": "https://api.github.com/users/hankbao/orgs",
      "repos_url": "https://api.github.com/users/hankbao/repos",
      "events_url": "https://api.github.com/users/hankbao/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hankbao/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-16T09:07:37Z",
    "updated_at": "2015-08-16T09:07:37Z",
    "body": "Same here. :fearful: \n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/131515469",
    "html_url": "https://github.com/electron/electron/issues/2468#issuecomment-131515469",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2468",
    "id": 131515469,
    "user": {
      "login": "hfcorriez",
      "id": 119550,
      "avatar_url": "https://avatars2.githubusercontent.com/u/119550?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hfcorriez",
      "html_url": "https://github.com/hfcorriez",
      "followers_url": "https://api.github.com/users/hfcorriez/followers",
      "following_url": "https://api.github.com/users/hfcorriez/following{/other_user}",
      "gists_url": "https://api.github.com/users/hfcorriez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hfcorriez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hfcorriez/subscriptions",
      "organizations_url": "https://api.github.com/users/hfcorriez/orgs",
      "repos_url": "https://api.github.com/users/hfcorriez/repos",
      "events_url": "https://api.github.com/users/hfcorriez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hfcorriez/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-16T09:49:32Z",
    "updated_at": "2015-08-16T09:49:32Z",
    "body": "Same here.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/133319200",
    "html_url": "https://github.com/electron/electron/issues/2468#issuecomment-133319200",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2468",
    "id": 133319200,
    "user": {
      "login": "armaseg",
      "id": 1028859,
      "avatar_url": "https://avatars2.githubusercontent.com/u/1028859?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/armaseg",
      "html_url": "https://github.com/armaseg",
      "followers_url": "https://api.github.com/users/armaseg/followers",
      "following_url": "https://api.github.com/users/armaseg/following{/other_user}",
      "gists_url": "https://api.github.com/users/armaseg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/armaseg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/armaseg/subscriptions",
      "organizations_url": "https://api.github.com/users/armaseg/orgs",
      "repos_url": "https://api.github.com/users/armaseg/repos",
      "events_url": "https://api.github.com/users/armaseg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/armaseg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-21T07:57:09Z",
    "updated_at": "2015-08-21T07:57:09Z",
    "body": "Is working again on v0.30.5\nThank you!\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/135215575",
    "html_url": "https://github.com/electron/electron/issues/2468#issuecomment-135215575",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2468",
    "id": 135215575,
    "user": {
      "login": "shrewdlogarithm",
      "id": 4963937,
      "avatar_url": "https://avatars0.githubusercontent.com/u/4963937?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shrewdlogarithm",
      "html_url": "https://github.com/shrewdlogarithm",
      "followers_url": "https://api.github.com/users/shrewdlogarithm/followers",
      "following_url": "https://api.github.com/users/shrewdlogarithm/following{/other_user}",
      "gists_url": "https://api.github.com/users/shrewdlogarithm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shrewdlogarithm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shrewdlogarithm/subscriptions",
      "organizations_url": "https://api.github.com/users/shrewdlogarithm/orgs",
      "repos_url": "https://api.github.com/users/shrewdlogarithm/repos",
      "events_url": "https://api.github.com/users/shrewdlogarithm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shrewdlogarithm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-27T00:19:41Z",
    "updated_at": "2015-08-27T00:19:41Z",
    "body": "Certainly fixed as of 0.30.6 - thanks!\n\nOn 21 August 2015 at 08:57, Armando Segnini notifications@github.com\nwrote:\n\n> Is working again on v0.30.5\n> Thank you!\n> \n> —\n> Reply to this email directly or view it on GitHub\n> https://github.com/atom/electron/issues/2468#issuecomment-133319200.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/137783469",
    "html_url": "https://github.com/electron/electron/issues/2468#issuecomment-137783469",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2468",
    "id": 137783469,
    "user": {
      "login": "shrewdlogarithm",
      "id": 4963937,
      "avatar_url": "https://avatars0.githubusercontent.com/u/4963937?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shrewdlogarithm",
      "html_url": "https://github.com/shrewdlogarithm",
      "followers_url": "https://api.github.com/users/shrewdlogarithm/followers",
      "following_url": "https://api.github.com/users/shrewdlogarithm/following{/other_user}",
      "gists_url": "https://api.github.com/users/shrewdlogarithm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shrewdlogarithm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shrewdlogarithm/subscriptions",
      "organizations_url": "https://api.github.com/users/shrewdlogarithm/orgs",
      "repos_url": "https://api.github.com/users/shrewdlogarithm/repos",
      "events_url": "https://api.github.com/users/shrewdlogarithm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shrewdlogarithm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-04T16:31:16Z",
    "updated_at": "2015-09-04T16:33:19Z",
    "body": "Updating this because it's stopped working - not sure exactly why, changed nothing in relation to the tray\n\n0.30.6 and 0.31.2 both throw an \"Error setting status tray icon image\" error - whether the app is unpacked (app directory) or packed (app.asar)\n\n0.29.2 works OK so I'm not entirely sure what's going on?\n\n!?!?!?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/141040158",
    "html_url": "https://github.com/electron/electron/issues/2468#issuecomment-141040158",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2468",
    "id": 141040158,
    "user": {
      "login": "hankbao",
      "id": 756604,
      "avatar_url": "https://avatars3.githubusercontent.com/u/756604?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hankbao",
      "html_url": "https://github.com/hankbao",
      "followers_url": "https://api.github.com/users/hankbao/followers",
      "following_url": "https://api.github.com/users/hankbao/following{/other_user}",
      "gists_url": "https://api.github.com/users/hankbao/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hankbao/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hankbao/subscriptions",
      "organizations_url": "https://api.github.com/users/hankbao/orgs",
      "repos_url": "https://api.github.com/users/hankbao/repos",
      "events_url": "https://api.github.com/users/hankbao/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hankbao/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-17T10:41:29Z",
    "updated_at": "2015-09-17T10:41:29Z",
    "body": "This issue may need to be reopened.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/142642614",
    "html_url": "https://github.com/electron/electron/issues/2468#issuecomment-142642614",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2468",
    "id": 142642614,
    "user": {
      "login": "ProteusCortex",
      "id": 1230251,
      "avatar_url": "https://avatars2.githubusercontent.com/u/1230251?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ProteusCortex",
      "html_url": "https://github.com/ProteusCortex",
      "followers_url": "https://api.github.com/users/ProteusCortex/followers",
      "following_url": "https://api.github.com/users/ProteusCortex/following{/other_user}",
      "gists_url": "https://api.github.com/users/ProteusCortex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ProteusCortex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ProteusCortex/subscriptions",
      "organizations_url": "https://api.github.com/users/ProteusCortex/orgs",
      "repos_url": "https://api.github.com/users/ProteusCortex/repos",
      "events_url": "https://api.github.com/users/ProteusCortex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ProteusCortex/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-23T15:40:06Z",
    "updated_at": "2015-09-23T15:40:06Z",
    "body": "@hankbao, I agree...\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/142684129",
    "html_url": "https://github.com/electron/electron/issues/2468#issuecomment-142684129",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2468",
    "id": 142684129,
    "user": {
      "login": "paulcbetts",
      "id": 1396,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1396?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulcbetts",
      "html_url": "https://github.com/paulcbetts",
      "followers_url": "https://api.github.com/users/paulcbetts/followers",
      "following_url": "https://api.github.com/users/paulcbetts/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulcbetts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulcbetts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulcbetts/subscriptions",
      "organizations_url": "https://api.github.com/users/paulcbetts/orgs",
      "repos_url": "https://api.github.com/users/paulcbetts/repos",
      "events_url": "https://api.github.com/users/paulcbetts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulcbetts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-23T18:10:45Z",
    "updated_at": "2015-09-23T18:10:45Z",
    "body": "So, after a _lot of suffering_, we've figured out that the advice we were given that culminated in #2328 (from a lead Windows OS developer!) was actually really bad for apps that use Squirrel. \n\n### How we _thought_ it works\n\nWhen Windows creates a Tray icon preference for your app, they use your EXE's full path as the \"key\" to that preference. However, when Squirrel for Windows moves the EXE's location, that key no longer matches, even though it's the same App. The solution to this is (we thought!) the GUID parameter, which we initially thought would be used _in place of_ the key. Use the same GUID for every version of the app, and you're all set. To automate this, #2328 tried to take your app's App Model ID (a similar concept of being able to group different EXEs into one \"App\") and blit it into a GUID. \n\n### How it _actually_ works\n\nWhen you use a GUID along with the Tray icon, it _still_ records the EXE's full path, but then proceeds to _disallow_ anyone else from using that GUID. This means that as you ship updates, eventually nobody will be able to see your tray icon, because IconStreams will have marked your GUID as belonging to an old version of the app.\n\n All of this information is stored in the Obfuscated, Binary blob inside the `IconStreams` key in `HKEY_CURRENT_USER\\SOFTWARE\\Classes\\Local Settings\\Software\\Microsoft\\Windows\\CurrentVersion\\TrayNotify`. As far as we can tell, there is no way to remove this corrupt information using public APIs, or even undocumented APIs.\n\n### What Slack does about it\n\nWe found about this problem way too late to be able to fix it via Electron, so we worked around it. On every startup, we run this block of code:\n\nhttps://gist.github.com/paulcbetts/c4e3412262324b551dda\n\nThis parses `IconStreams` directly, looking for an entry that would break our tray icon. If it's found, we rewrite IconStreams, then kill Explorer.exe because there's no way to get it to reread this information. \n\n### What you _should_ do about it\n\nThis is obviously a bad approach. I'm going to remove the GUID code from Electron entirely, which will bring back the original bug (multiple entries in the tray preferences). We'll then use the C# code above to filter IconStreams on startup, but _not_ kill Explorer, so while users might see one or two duplicate entries, they'll eventually clear out. \n"
  }
]