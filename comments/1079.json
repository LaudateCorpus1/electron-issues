[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/72373707",
    "html_url": "https://github.com/electron/electron/issues/1079#issuecomment-72373707",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1079",
    "id": 72373707,
    "user": {
      "login": "frankhale",
      "id": 190154,
      "avatar_url": "https://avatars2.githubusercontent.com/u/190154?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frankhale",
      "html_url": "https://github.com/frankhale",
      "followers_url": "https://api.github.com/users/frankhale/followers",
      "following_url": "https://api.github.com/users/frankhale/following{/other_user}",
      "gists_url": "https://api.github.com/users/frankhale/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frankhale/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frankhale/subscriptions",
      "organizations_url": "https://api.github.com/users/frankhale/orgs",
      "repos_url": "https://api.github.com/users/frankhale/repos",
      "events_url": "https://api.github.com/users/frankhale/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frankhale/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-01T17:20:53Z",
    "updated_at": "2015-02-01T17:20:53Z",
    "body": ":+1: \n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/72407223",
    "html_url": "https://github.com/electron/electron/issues/1079#issuecomment-72407223",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1079",
    "id": 72407223,
    "user": {
      "login": "mark-hahn",
      "id": 811455,
      "avatar_url": "https://avatars1.githubusercontent.com/u/811455?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mark-hahn",
      "html_url": "https://github.com/mark-hahn",
      "followers_url": "https://api.github.com/users/mark-hahn/followers",
      "following_url": "https://api.github.com/users/mark-hahn/following{/other_user}",
      "gists_url": "https://api.github.com/users/mark-hahn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mark-hahn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mark-hahn/subscriptions",
      "organizations_url": "https://api.github.com/users/mark-hahn/orgs",
      "repos_url": "https://api.github.com/users/mark-hahn/repos",
      "events_url": "https://api.github.com/users/mark-hahn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mark-hahn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-02T05:11:35Z",
    "updated_at": "2015-02-02T05:11:35Z",
    "body": "Use `\"http://www.google.com/s2/favicons?domain=#{domain}\"`\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/72412668",
    "html_url": "https://github.com/electron/electron/issues/1079#issuecomment-72412668",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1079",
    "id": 72412668,
    "user": {
      "login": "DemoHn",
      "id": 3737752,
      "avatar_url": "https://avatars1.githubusercontent.com/u/3737752?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DemoHn",
      "html_url": "https://github.com/DemoHn",
      "followers_url": "https://api.github.com/users/DemoHn/followers",
      "following_url": "https://api.github.com/users/DemoHn/following{/other_user}",
      "gists_url": "https://api.github.com/users/DemoHn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DemoHn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DemoHn/subscriptions",
      "organizations_url": "https://api.github.com/users/DemoHn/orgs",
      "repos_url": "https://api.github.com/users/DemoHn/repos",
      "events_url": "https://api.github.com/users/DemoHn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DemoHn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-02T06:41:48Z",
    "updated_at": "2015-02-02T06:41:48Z",
    "body": "Thank you for your link @mark-hahn .^_^\nBut I don't think it is a perfect way to rely on external resources.Because some websites (including my school's internal forum) cannot be captured by Google.\n\n_And in fact, Google is totally blocked in my country (WTF)_\n\nI have a solution about this, but I think it is really weird:\n1. in `index.html`\n\n```\n<webview src='https://github.com' preload=\"./__insert.js\"></webview>\n```\n1. And in `__insert.js`\n\n```\nvar ipc = require('ipc'),\n    url = require('url');\n\nwindow.onload = function () {\n    ipc.sendToHost(getFaviconLink(),'webview:favicon');\n}\n\nfunction getFaviconLink(){\n    var href = window.location.href;\n\n    var final_favicon = \"\";\n    var elem = document.getElementsByTagName('link');\n    for(var i=0;i<elem.length;i++){\n        if(/icon/.test(elem[i].rel) == true){\n            final_favicon = elem[i].href;\n\n            // if rel=\"shortcut icon\" ,it should be considered first.(WTF!!)\n            if(/^shortcut /.test(elem[i].rel) == true){\n                break;\n            }\n        }\n    }\n\n    if(final_favicon == \"\"){\n        return null;\n    }else{\n        return url.resolve(href,final_favicon);\n    }\n}\n```\n\nJust use `ipc.sendToHost` to get the whole content of the guest page where favicon is included and send it to the main frame.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/72515039",
    "html_url": "https://github.com/electron/electron/issues/1079#issuecomment-72515039",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1079",
    "id": 72515039,
    "user": {
      "login": "mark-hahn",
      "id": 811455,
      "avatar_url": "https://avatars1.githubusercontent.com/u/811455?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mark-hahn",
      "html_url": "https://github.com/mark-hahn",
      "followers_url": "https://api.github.com/users/mark-hahn/followers",
      "following_url": "https://api.github.com/users/mark-hahn/following{/other_user}",
      "gists_url": "https://api.github.com/users/mark-hahn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mark-hahn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mark-hahn/subscriptions",
      "organizations_url": "https://api.github.com/users/mark-hahn/orgs",
      "repos_url": "https://api.github.com/users/mark-hahn/repos",
      "events_url": "https://api.github.com/users/mark-hahn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mark-hahn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-02T18:56:45Z",
    "updated_at": "2015-02-02T18:56:45Z",
    "body": ">  get the whole content of the guest page where favicon is included\n\nWeb pages don't include favicons.  You have to do an extra read from the\nserver.  Webview never loads the favicon, just the page.  To do it like a\nbrowser does you will have to do that separate read.\n\nOn Sun, Feb 1, 2015 at 10:41 PM, Lu Mingchuan notifications@github.com\nwrote:\n\n> Thank you for your link @mark-hahn https://github.com/mark-hahn .^_^\n> But I don't think it is a perfect way to rely on external\n> resources.Because some websites (including my school's internal forum)\n> cannot be captured by Google.\n> \n> _And in fact, Google is totally blocked in my country (WTF)_\n> \n> I have a solution about this, but I think it is really weird:\n> 1. in index.html\n> \n> <webview src='https://github.com' preload=\"./__insert.js\"></webview>\n> 1. And in __insert.js\n> \n> var ipc = require('ipc'),\n>     url = require('url');\n> \n> window.onload = function () {\n>     ipc.sendToHost(getFaviconLink(),'webview:favicon');\n> }\n> \n> function getFaviconLink(){\n>     var href = window.location.href;\n> \n> ```\n> var final_favicon = \"\";\n> var elem = document.getElementsByTagName('link');\n> for(var i=0;i<elem.length;i++){\n>     if(/icon/.test(elem[i].rel) == true){\n>         final_favicon = elem[i].href;\n> \n>         // if rel=\"shortcut icon\" ,it should be considered first.(WTF!!)\n>         if(/^shortcut /.test(elem[i].rel) == true){\n>             break;\n>         }\n>     }\n> }\n> \n> if(final_favicon == \"\"){\n>     return null;\n> }else{\n>     return url.resolve(href,final_favicon);\n> }\n> ```\n> \n> }\n> \n> Just use ipc.sendToHost to get the whole content of the guest page where\n> favicon is included and send it to the main frame.\n> \n> â€”\n> Reply to this email directly or view it on GitHub\n> https://github.com/atom/atom-shell/issues/1079#issuecomment-72412668.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/72521468",
    "html_url": "https://github.com/electron/electron/issues/1079#issuecomment-72521468",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1079",
    "id": 72521468,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-02-02T19:32:43Z",
    "updated_at": "2015-02-02T19:32:43Z",
    "body": "Chromium has [an API](https://code.google.com/p/chromium/codesearch#chromium/src/content/public/browser/web_contents_observer.h&sq=package:chromium&l=310) to return the favicon urls of the page, as @mark-hahn said you still have to download the icons separately though.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/72590571",
    "html_url": "https://github.com/electron/electron/issues/1079#issuecomment-72590571",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1079",
    "id": 72590571,
    "user": {
      "login": "DemoHn",
      "id": 3737752,
      "avatar_url": "https://avatars1.githubusercontent.com/u/3737752?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DemoHn",
      "html_url": "https://github.com/DemoHn",
      "followers_url": "https://api.github.com/users/DemoHn/followers",
      "following_url": "https://api.github.com/users/DemoHn/following{/other_user}",
      "gists_url": "https://api.github.com/users/DemoHn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DemoHn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DemoHn/subscriptions",
      "organizations_url": "https://api.github.com/users/DemoHn/orgs",
      "repos_url": "https://api.github.com/users/DemoHn/repos",
      "events_url": "https://api.github.com/users/DemoHn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DemoHn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-03T04:23:56Z",
    "updated_at": "2015-02-03T04:23:56Z",
    "body": "I'm sorry for not describing it clearly..I mean I just fetch the favicon url from the guest page and download the icon separately.\nAnd if I want to use the API, is `webview.addEventListener('did-update-favicon-url')` reliable? Or still wating for upgrate?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/72591368",
    "html_url": "https://github.com/electron/electron/issues/1079#issuecomment-72591368",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1079",
    "id": 72591368,
    "user": {
      "login": "mark-hahn",
      "id": 811455,
      "avatar_url": "https://avatars1.githubusercontent.com/u/811455?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mark-hahn",
      "html_url": "https://github.com/mark-hahn",
      "followers_url": "https://api.github.com/users/mark-hahn/followers",
      "following_url": "https://api.github.com/users/mark-hahn/following{/other_user}",
      "gists_url": "https://api.github.com/users/mark-hahn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mark-hahn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mark-hahn/subscriptions",
      "organizations_url": "https://api.github.com/users/mark-hahn/orgs",
      "repos_url": "https://api.github.com/users/mark-hahn/repos",
      "events_url": "https://api.github.com/users/mark-hahn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mark-hahn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-03T04:35:25Z",
    "updated_at": "2015-02-03T04:35:25Z",
    "body": "I didn't know about `did-update-favicon-url`.  It isn't in https://github.com/atom/atom-shell/blob/master/docs/api/web-view-tag.md.  I'll have to read the source.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/72591660",
    "html_url": "https://github.com/electron/electron/issues/1079#issuecomment-72591660",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1079",
    "id": 72591660,
    "user": {
      "login": "DemoHn",
      "id": 3737752,
      "avatar_url": "https://avatars1.githubusercontent.com/u/3737752?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DemoHn",
      "html_url": "https://github.com/DemoHn",
      "followers_url": "https://api.github.com/users/DemoHn/followers",
      "following_url": "https://api.github.com/users/DemoHn/following{/other_user}",
      "gists_url": "https://api.github.com/users/DemoHn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DemoHn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DemoHn/subscriptions",
      "organizations_url": "https://api.github.com/users/DemoHn/orgs",
      "repos_url": "https://api.github.com/users/DemoHn/repos",
      "events_url": "https://api.github.com/users/DemoHn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DemoHn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-03T04:39:16Z",
    "updated_at": "2015-02-03T04:39:16Z",
    "body": "Yeah, that's just my guess.There is no such `did-update-favicon-url` listener.=w=\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/72592021",
    "html_url": "https://github.com/electron/electron/issues/1079#issuecomment-72592021",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1079",
    "id": 72592021,
    "user": {
      "login": "mark-hahn",
      "id": 811455,
      "avatar_url": "https://avatars1.githubusercontent.com/u/811455?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mark-hahn",
      "html_url": "https://github.com/mark-hahn",
      "followers_url": "https://api.github.com/users/mark-hahn/followers",
      "following_url": "https://api.github.com/users/mark-hahn/following{/other_user}",
      "gists_url": "https://api.github.com/users/mark-hahn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mark-hahn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mark-hahn/subscriptions",
      "organizations_url": "https://api.github.com/users/mark-hahn/orgs",
      "repos_url": "https://api.github.com/users/mark-hahn/repos",
      "events_url": "https://api.github.com/users/mark-hahn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mark-hahn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-03T04:44:19Z",
    "updated_at": "2015-02-03T04:44:19Z",
    "body": "> I mean I just fetch the favicon url from the guest page\n\nThere isn't a URL in the page.  There is nothing about them in the page at\nall.  The browser has to look around in the server to see if it can find\nanything.  There are standard files to look for.  I know about the old IE\nfavicon file and the newer apple one but there are probably even more\npossibilities.\n\nThis is why google started offering the free favicon service I mentioned.\nIt works well for me and most others in this situation.\n\nOn Mon, Feb 2, 2015 at 8:39 PM, Lu Mingchuan notifications@github.com\nwrote:\n\n> Yeah, that's just my guess.There is no such did-update-favicon-url\n> listener.=w=\n> \n> â€”\n> Reply to this email directly or view it on GitHub\n> https://github.com/atom/atom-shell/issues/1079#issuecomment-72591660.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/72593224",
    "html_url": "https://github.com/electron/electron/issues/1079#issuecomment-72593224",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1079",
    "id": 72593224,
    "user": {
      "login": "DemoHn",
      "id": 3737752,
      "avatar_url": "https://avatars1.githubusercontent.com/u/3737752?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DemoHn",
      "html_url": "https://github.com/DemoHn",
      "followers_url": "https://api.github.com/users/DemoHn/followers",
      "following_url": "https://api.github.com/users/DemoHn/following{/other_user}",
      "gists_url": "https://api.github.com/users/DemoHn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DemoHn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DemoHn/subscriptions",
      "organizations_url": "https://api.github.com/users/DemoHn/orgs",
      "repos_url": "https://api.github.com/users/DemoHn/repos",
      "events_url": "https://api.github.com/users/DemoHn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DemoHn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-03T04:59:39Z",
    "updated_at": "2015-02-03T05:00:29Z",
    "body": "Sorry but I don't agree with you.\nThere is a URL in the page,just written like this : `<link rel=\"icon\" href=\"{favicon link}\">`\n\nFor example, you can see such code:`<link rel=\"icon\" type=\"image/x-icon\" href=\"https://assets-cdn.github.com/favicon.ico\">` when viewing the source code of https://github.com/atom/atom-shell/issues/1079. That's GitHub's favicon URL.\n\nOr Stackoverflow: `<link rel=\"shortcut icon\" href=\"//cdn.sstatic.net/stackoverflow/img/favicon.ico?v=038622610830\">`\n\nSometimes there may not have a URL in the page, as you mentioned. Browsers may handle it by requesting `/favicon.ico`, I guess. like: [baidu](http://www.baidu.com). This page does not include the favicon url in the source code, so the default one `/favicon.ico` is available.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/72593909",
    "html_url": "https://github.com/electron/electron/issues/1079#issuecomment-72593909",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1079",
    "id": 72593909,
    "user": {
      "login": "mark-hahn",
      "id": 811455,
      "avatar_url": "https://avatars1.githubusercontent.com/u/811455?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mark-hahn",
      "html_url": "https://github.com/mark-hahn",
      "followers_url": "https://api.github.com/users/mark-hahn/followers",
      "following_url": "https://api.github.com/users/mark-hahn/following{/other_user}",
      "gists_url": "https://api.github.com/users/mark-hahn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mark-hahn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mark-hahn/subscriptions",
      "organizations_url": "https://api.github.com/users/mark-hahn/orgs",
      "repos_url": "https://api.github.com/users/mark-hahn/repos",
      "events_url": "https://api.github.com/users/mark-hahn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mark-hahn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-02-03T05:09:48Z",
    "updated_at": "2015-02-03T05:09:48Z",
    "body": "Thanks.  That is news to me.\n\nSo having the url in the page speeds things up a bit. It removes the\npossible need to search several places.  Not much speedup though because\nyou still have to load a file either way.  And your code has to be prepared\nfor either case.  And the server still needs to host in the old place for\nold browsers.\n\nIt is great that you can use a better file name and location.  The old IE\nstandard always bothered me.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/96338090",
    "html_url": "https://github.com/electron/electron/issues/1079#issuecomment-96338090",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1079",
    "id": 96338090,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-04-26T07:38:12Z",
    "updated_at": "2015-04-26T07:38:12Z",
    "body": "Fixed by #1438\n"
  }
]