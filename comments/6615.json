[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/235267644",
    "html_url": "https://github.com/electron/electron/issues/6615#issuecomment-235267644",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6615",
    "id": 235267644,
    "user": {
      "login": "tex0l",
      "id": 7548264,
      "avatar_url": "https://avatars2.githubusercontent.com/u/7548264?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tex0l",
      "html_url": "https://github.com/tex0l",
      "followers_url": "https://api.github.com/users/tex0l/followers",
      "following_url": "https://api.github.com/users/tex0l/following{/other_user}",
      "gists_url": "https://api.github.com/users/tex0l/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tex0l/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tex0l/subscriptions",
      "organizations_url": "https://api.github.com/users/tex0l/orgs",
      "repos_url": "https://api.github.com/users/tex0l/repos",
      "events_url": "https://api.github.com/users/tex0l/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tex0l/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-26T13:30:45Z",
    "updated_at": "2016-07-26T13:50:58Z",
    "body": "Actually, to make this issue even more troubling, the previous code runs properly: it emits the error and keep on running.\n\nBut the following code doesn't (without showing an errorBox):\n\n``` javascript\nimport {app, autoUpdater, dialog} from 'electron'\nimport {updateURL} from './config'\n\napp.on('ready', () => {\n  autoUpdater.on('error', e => {\n    console.log('an error was thrown')\n    dialog.showErrorBox('error', e.toString())\n  })\n  autoUpdater.setFeedURL(updateURL)\n  console.log('autoUpdater has been fed')\n})\n```\n\nAnd neither this one:\n\n``` javascript\nimport {app, autoUpdater} from 'electron'\nimport {updateURL} from './config'\n\napp.on('ready', () => {\n  autoUpdater.setFeedURL(updateURL)\n  console.log('autoUpdater has been fed')\n})\n```\n\nNor this one (which doesn't log the error):\n\n``` javascript\nimport {app, autoUpdater, dialog} from 'electron'\nimport {updateURL} from './config'\n\napp.on('ready', () => {\n  autoUpdater.on('error', e => {\n    console.log('error', e.toString())\n  })\n  autoUpdater.setFeedURL(updateURL)\n  console.log('autoUpdater has been fed')\n})\n```\n\nAny idea where it comes from ?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/235354468",
    "html_url": "https://github.com/electron/electron/issues/6615#issuecomment-235354468",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6615",
    "id": 235354468,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-07-26T18:07:36Z",
    "updated_at": "2016-07-26T18:07:36Z",
    "body": "@tex0l I'm having a little trouble reproducing this.\n\nWith your example I'm seeing:\n\n``` js\napp.on('ready', () => {\n  autoUpdater.on('error', e => {\n    console.log('error', e.toString())\n  })\n  autoUpdater.setFeedURL(updateURL)\n  console.log('autoUpdater has been fed')\n})\n```\n\nOutput:\n\n```\nan error was thrown\nError: Could not get code signature for running application\nautoUpdater has been fed\n```\n\nSo which of your code examples is the one that isn't working properly?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/235391521",
    "html_url": "https://github.com/electron/electron/issues/6615#issuecomment-235391521",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6615",
    "id": 235391521,
    "user": {
      "login": "tex0l",
      "id": 7548264,
      "avatar_url": "https://avatars2.githubusercontent.com/u/7548264?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tex0l",
      "html_url": "https://github.com/tex0l",
      "followers_url": "https://api.github.com/users/tex0l/followers",
      "following_url": "https://api.github.com/users/tex0l/following{/other_user}",
      "gists_url": "https://api.github.com/users/tex0l/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tex0l/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tex0l/subscriptions",
      "organizations_url": "https://api.github.com/users/tex0l/orgs",
      "repos_url": "https://api.github.com/users/tex0l/repos",
      "events_url": "https://api.github.com/users/tex0l/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tex0l/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-26T20:18:07Z",
    "updated_at": "2016-07-26T20:18:07Z",
    "body": "Ok, my bad. I didn't bother to reproduce the bug in a vanilla app, sorry. It's actually a bit more complicated. Let me clarify with this vanilla example I've tested with electron-prebuilt 1.3.0 on OSX 10.11.6 :\n\n``` javascript\nconst {app, autoUpdater, dialog} = require('electron')\n\napp.on('ready', () => {\n  Promise.resolve()\n    .then(() => {\n      dialog.showErrorBox('ok', 'ok')\n      // autoUpdater.on('error', e => {\n      //   console.error('listener', e)\n      //   dialog.showErrorBox('error', e)\n      // })\n      autoUpdater.setFeedURL('https://www.google.com/')\n      console.log('here')\n    })\n    .catch(e => {\n      console.error('catch', e)\n      dialog.showErrorBox('error', e)\n    })\n})\n\n```\n\nIn this example:\n- first an error box 'ok', 'ok' shows up\n- the `autoUpdater.setFeedURL`throws an error in the promise because no 'error' listener is set\n- the catch statement logs the error with `console.error`\n- then the app freezes as if an error box were displayed, but none is displayed.\n\nIf we try again uncommenting the commented part:\n- first an error box 'ok', 'ok' shows up\n- the `autoUpdater.setFeedURL` makes autoUpdater emit an 'error' event\n- the listener callback logs the error with `console.error`\n- then the app freezes as if an error box were displayed, but none is displayed.\n\nCan you reproduce this ?\n\nBTW: congratulations, it's astonishing to see how fast you handle issues with your team.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/235400487",
    "html_url": "https://github.com/electron/electron/issues/6615#issuecomment-235400487",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6615",
    "id": 235400487,
    "user": {
      "login": "tex0l",
      "id": 7548264,
      "avatar_url": "https://avatars2.githubusercontent.com/u/7548264?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tex0l",
      "html_url": "https://github.com/tex0l",
      "followers_url": "https://api.github.com/users/tex0l/followers",
      "following_url": "https://api.github.com/users/tex0l/following{/other_user}",
      "gists_url": "https://api.github.com/users/tex0l/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tex0l/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tex0l/subscriptions",
      "organizations_url": "https://api.github.com/users/tex0l/orgs",
      "repos_url": "https://api.github.com/users/tex0l/repos",
      "events_url": "https://api.github.com/users/tex0l/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tex0l/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-26T20:48:28Z",
    "updated_at": "2016-07-26T20:48:28Z",
    "body": "Sorry again, this example fails because I try to `dialog.showErrorBox('error', e)` instead of `dialog.showErrorBox('error', e.toString())` ...\n\nI've pinpointed the exact origin of my problem and it has nothing to do with the autoUpdater:\n\n``` javascript\nconst { app, dialog } = require('electron')\n\napp.on('ready', () => {\n  dialog.showErrorBox('show up', 'ok')\n  if (process.platform === 'darwin') {\n    app.dock.hide()\n  }\n  dialog.showErrorBox('doesn\\'t show up', 'and freezes the app')\n  console.log('here')\n})\n```\n\nIt is only because the error box is hidden when the dock icon is hidden...\n\nIs it the expected behaviour ? Can it be changed so that an error box would show up even if the dock icon is hidden ?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/235407761",
    "html_url": "https://github.com/electron/electron/issues/6615#issuecomment-235407761",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6615",
    "id": 235407761,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-07-26T21:14:57Z",
    "updated_at": "2016-07-26T21:14:57Z",
    "body": "> Is it the expected behaviour ? Can it be changed so that an error box would show up even if the dock icon is hidden ?\n\nYeah, this is unexpected to me but I'm not sure if it is something that can be addressed or if it is a macOS issue when an app with open dialogs is hidden from the dock, seems somewhat related to #4849\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/304823392",
    "html_url": "https://github.com/electron/electron/issues/6615#issuecomment-304823392",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6615",
    "id": 304823392,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2017-05-30T09:25:54Z",
    "updated_at": "2017-05-30T09:25:54Z",
    "body": "I'm closing this since it is an issue of macOS, I suggest reporting this to Apple instead."
  }
]