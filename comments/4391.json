[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/182658294",
    "html_url": "https://github.com/electron/electron/issues/4391#issuecomment-182658294",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4391",
    "id": 182658294,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-11T00:41:53Z",
    "updated_at": "2016-02-11T00:41:53Z",
    "body": "trace with `log-net-log` shows when the switch is not present it does hit the `SOCKET_POOL_STALLED_MAX_SOCKETS_PER_GROUP` but not otherwise so the switch works as expected. Based on this [comment](https://code.google.com/p/chromium/issues/detail?id=476749#c11)\n\nThe scenarios that cause queue and stall time\n1) handling disk cache entries\n2) delayed by resource scheduler due to  max connection rules\n3) delayed by resource handler due to asset type & priority\n4) waiting for a TCP socket in net stack  \n\nFor 1) we can disable-http-cache and the gain is negligent here, 3) is handled where we assign a higher priority for requests in `network_delegate`, 4) We allow creation of new sockets beyond on the six per group name, 2) is the main cause for queue time here, no direct way to control other than patching the schedule algorithm in `resource_scheduler.cc`.\n\n@zcbenz thoughts ?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/182665138",
    "html_url": "https://github.com/electron/electron/issues/4391#issuecomment-182665138",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4391",
    "id": 182665138,
    "user": {
      "login": "javan",
      "id": 5355,
      "avatar_url": "https://avatars0.githubusercontent.com/u/5355?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/javan",
      "html_url": "https://github.com/javan",
      "followers_url": "https://api.github.com/users/javan/followers",
      "following_url": "https://api.github.com/users/javan/following{/other_user}",
      "gists_url": "https://api.github.com/users/javan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/javan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/javan/subscriptions",
      "organizations_url": "https://api.github.com/users/javan/orgs",
      "repos_url": "https://api.github.com/users/javan/repos",
      "events_url": "https://api.github.com/users/javan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/javan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-11T01:11:17Z",
    "updated_at": "2016-02-11T01:11:17Z",
    "body": "> 2) delayed by resource scheduler due to max connection rules\n\nIsn't that what the `--ignore-connections-limit` switch is supposed to disabled? I assumed so based on name and wasn't able to find clarification.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/182671738",
    "html_url": "https://github.com/electron/electron/issues/4391#issuecomment-182671738",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4391",
    "id": 182671738,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-11T02:01:16Z",
    "updated_at": "2016-02-11T02:01:16Z",
    "body": "Sorry for not being clear, this is a bug with `ignore-connections-limit`. The resource scheduler is responsible for handling requests from renderer and it has a limit per host (6 connections) beyond which the request is queued. The number of sockets that can be created in the network layer was also limited to (6 for normal connections and some 2xx for websockets) , you can find information `client_socket_pool_base.cc` , beyond which chromium would wait for idle sockets to reuse or create one when socket is destroyed after its idle timeout. But with `ignore-connection-limit` we allowed creation of additional sockets beyond the limit but the queue caused by resource scheduler is still in place.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/182677131",
    "html_url": "https://github.com/electron/electron/issues/4391#issuecomment-182677131",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4391",
    "id": 182677131,
    "user": {
      "login": "javan",
      "id": 5355,
      "avatar_url": "https://avatars0.githubusercontent.com/u/5355?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/javan",
      "html_url": "https://github.com/javan",
      "followers_url": "https://api.github.com/users/javan/followers",
      "following_url": "https://api.github.com/users/javan/following{/other_user}",
      "gists_url": "https://api.github.com/users/javan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/javan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/javan/subscriptions",
      "organizations_url": "https://api.github.com/users/javan/orgs",
      "repos_url": "https://api.github.com/users/javan/repos",
      "events_url": "https://api.github.com/users/javan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/javan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-11T02:34:47Z",
    "updated_at": "2016-02-11T02:34:47Z",
    "body": "Gotcha. So `ignore-connection-limit` is doing _something_ currently, but not allowing exceeding the max 6 connections?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/182679630",
    "html_url": "https://github.com/electron/electron/issues/4391#issuecomment-182679630",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4391",
    "id": 182679630,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-11T03:01:03Z",
    "updated_at": "2016-02-11T03:01:03Z",
    "body": "Yup, not sure about the ideal way to fix this. Will look into it.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/184223198",
    "html_url": "https://github.com/electron/electron/issues/4391#issuecomment-184223198",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4391",
    "id": 184223198,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-02-15T14:14:18Z",
    "updated_at": "2016-02-15T14:14:41Z",
    "body": "The `ignore-connection-limit` is for enabling unlimited concurrent long connections, which was introduced for chat clients. What you asked is to enable unlimited concurrent requests, which has been marked as won't fix by Chromium long time ago: https://code.google.com/p/chromium/issues/detail?id=12066.\n\nChromium does have some private method to set maximum socket number, but it is not public and to use it we have to patch Chromium. I'm closing this since I don't think it worths the effort just for possible performance improvement.\n"
  }
]