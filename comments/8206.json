[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/270459440",
    "html_url": "https://github.com/electron/electron/issues/8206#issuecomment-270459440",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8206",
    "id": 270459440,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2017-01-04T19:14:22Z",
    "updated_at": "2017-01-04T19:14:22Z",
    "body": "Can you elaborate on what issue this is causing for you?\r\n\r\nThe unpacked area is a fallback location for things like `fs` APIs and `require` so `__dirname pointing to the packed area is intentional."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/270480217",
    "html_url": "https://github.com/electron/electron/issues/8206#issuecomment-270480217",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8206",
    "id": 270480217,
    "user": {
      "login": "scholtzm",
      "id": 2640934,
      "avatar_url": "https://avatars3.githubusercontent.com/u/2640934?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scholtzm",
      "html_url": "https://github.com/scholtzm",
      "followers_url": "https://api.github.com/users/scholtzm/followers",
      "following_url": "https://api.github.com/users/scholtzm/following{/other_user}",
      "gists_url": "https://api.github.com/users/scholtzm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scholtzm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scholtzm/subscriptions",
      "organizations_url": "https://api.github.com/users/scholtzm/orgs",
      "repos_url": "https://api.github.com/users/scholtzm/repos",
      "events_url": "https://api.github.com/users/scholtzm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scholtzm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-04T20:39:16Z",
    "updated_at": "2017-01-04T20:39:49Z",
    "body": "One of my critical dependencies is calling `.chdir(__dirname)` and I'd like to take advantage of `asar` (even if partially). Therefore I unpacked this specific dependency, but the `__dirname` still points to `app.asar`. This leads me to a conclusion that I can't use `asar` at all in my case.\r\n\r\nI originally described my issue [here](https://github.com/electron/asar/issues/55)."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/270489398",
    "html_url": "https://github.com/electron/electron/issues/8206#issuecomment-270489398",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8206",
    "id": 270489398,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2017-01-04T21:18:59Z",
    "updated_at": "2017-01-04T21:18:59Z",
    "body": "> One of my critical dependencies is calling .chdir(__dirname)\r\n\r\nCan you elaborate a bit on why `chdir` is needed by this dependency?\r\n\r\nHave you tried overriding `process.chdir` to handle this directly in your app?"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/270493738",
    "html_url": "https://github.com/electron/electron/issues/8206#issuecomment-270493738",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8206",
    "id": 270493738,
    "user": {
      "login": "scholtzm",
      "id": 2640934,
      "avatar_url": "https://avatars3.githubusercontent.com/u/2640934?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scholtzm",
      "html_url": "https://github.com/scholtzm",
      "followers_url": "https://api.github.com/users/scholtzm/followers",
      "following_url": "https://api.github.com/users/scholtzm/following{/other_user}",
      "gists_url": "https://api.github.com/users/scholtzm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scholtzm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scholtzm/subscriptions",
      "organizations_url": "https://api.github.com/users/scholtzm/orgs",
      "repos_url": "https://api.github.com/users/scholtzm/repos",
      "events_url": "https://api.github.com/users/scholtzm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scholtzm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-04T21:36:34Z",
    "updated_at": "2017-01-04T21:36:34Z",
    "body": "> Can you elaborate a bit on why chdir is needed by this dependency?\r\n\r\nAs far as I can tell, it could be avoided:\r\nhttps://github.com/seishun/node-steam-resources/blob/master/steam_language_parser/index.js\r\n\r\n> Have you tried overriding process.chdir to handle this directly in your app?\r\n\r\nHaven't done that yet, that would be my last resort solution though."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/271363793",
    "html_url": "https://github.com/electron/electron/issues/8206#issuecomment-271363793",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8206",
    "id": 271363793,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2017-01-09T18:27:15Z",
    "updated_at": "2017-01-09T18:27:15Z",
    "body": "Closing this out since this is a limitation of asar.\r\n\r\nSome options for resolving:\r\n\r\n- Use a forked version of `node-steam-resources` that doesn't `chdir`.\r\n- Ship `node-steam-resources` outside of both `app.asar` and `app.asar.unpacked` and access it from a child process where `chdir` would be possible."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/271368913",
    "html_url": "https://github.com/electron/electron/issues/8206#issuecomment-271368913",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8206",
    "id": 271368913,
    "user": {
      "login": "scholtzm",
      "id": 2640934,
      "avatar_url": "https://avatars3.githubusercontent.com/u/2640934?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scholtzm",
      "html_url": "https://github.com/scholtzm",
      "followers_url": "https://api.github.com/users/scholtzm/followers",
      "following_url": "https://api.github.com/users/scholtzm/following{/other_user}",
      "gists_url": "https://api.github.com/users/scholtzm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scholtzm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scholtzm/subscriptions",
      "organizations_url": "https://api.github.com/users/scholtzm/orgs",
      "repos_url": "https://api.github.com/users/scholtzm/repos",
      "events_url": "https://api.github.com/users/scholtzm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scholtzm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-09T18:46:33Z",
    "updated_at": "2017-01-09T18:46:33Z",
    "body": "Welp, `node-steam-resources` is an indirect dependency of my project. Using a fork would mean to fork all the other packages in the dependency chain.\r\n\r\nI guess the only way to fix this on my end would be to monkey patch `process.chdir`?"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/271371330",
    "html_url": "https://github.com/electron/electron/issues/8206#issuecomment-271371330",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8206",
    "id": 271371330,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2017-01-09T18:53:10Z",
    "updated_at": "2017-01-09T18:53:10Z",
    "body": "> I guess the only way to fix this on my end would be to monkey patch process.chdir?\r\n\r\nYou may be able to just patch `fs.readFileSync` with something like:\r\n\r\n```js\r\nconst originalReadFileSync = require('fs').readFileSync\r\nrequire('fs').readFileSync = (filePath, ...args) => {\r\n  if (filePath === 'steammsg.steamd') {\r\n    filePath = '/a/crafted/path/to/wherever/this/file/is/in/your/apps/bundle'\r\n  }\r\n  return originalReadFileSync(filePath, ...args)\r\n}\r\n```"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/271715436",
    "html_url": "https://github.com/electron/electron/issues/8206#issuecomment-271715436",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8206",
    "id": 271715436,
    "user": {
      "login": "scholtzm",
      "id": 2640934,
      "avatar_url": "https://avatars3.githubusercontent.com/u/2640934?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scholtzm",
      "html_url": "https://github.com/scholtzm",
      "followers_url": "https://api.github.com/users/scholtzm/followers",
      "following_url": "https://api.github.com/users/scholtzm/following{/other_user}",
      "gists_url": "https://api.github.com/users/scholtzm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scholtzm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scholtzm/subscriptions",
      "organizations_url": "https://api.github.com/users/scholtzm/orgs",
      "repos_url": "https://api.github.com/users/scholtzm/repos",
      "events_url": "https://api.github.com/users/scholtzm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scholtzm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-10T22:15:45Z",
    "updated_at": "2017-01-10T22:15:45Z",
    "body": "Went with your suggestion at the end and it works. Not the prettiest code, but having everything bundled is just so much better."
  }
]