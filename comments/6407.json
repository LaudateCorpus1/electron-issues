[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/238035707",
    "html_url": "https://github.com/electron/electron/issues/6407#issuecomment-238035707",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6407",
    "id": 238035707,
    "user": {
      "login": "MarshallOfSound",
      "id": 6634592,
      "avatar_url": "https://avatars0.githubusercontent.com/u/6634592?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarshallOfSound",
      "html_url": "https://github.com/MarshallOfSound",
      "followers_url": "https://api.github.com/users/MarshallOfSound/followers",
      "following_url": "https://api.github.com/users/MarshallOfSound/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarshallOfSound/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarshallOfSound/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarshallOfSound/subscriptions",
      "organizations_url": "https://api.github.com/users/MarshallOfSound/orgs",
      "repos_url": "https://api.github.com/users/MarshallOfSound/repos",
      "events_url": "https://api.github.com/users/MarshallOfSound/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarshallOfSound/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-06T17:40:10Z",
    "updated_at": "2016-08-06T17:40:10Z",
    "body": "In this particular case (`document.location`), after a bit of research I thought it was actually a bug so I went ahead and tackled it in #6758 \n\n/cc @zcbenz @mnquintana @vsemozhetbyt \n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/238038421",
    "html_url": "https://github.com/electron/electron/issues/6407#issuecomment-238038421",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6407",
    "id": 238038421,
    "user": {
      "login": "vsemozhetbyt",
      "id": 10393198,
      "avatar_url": "https://avatars2.githubusercontent.com/u/10393198?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vsemozhetbyt",
      "html_url": "https://github.com/vsemozhetbyt",
      "followers_url": "https://api.github.com/users/vsemozhetbyt/followers",
      "following_url": "https://api.github.com/users/vsemozhetbyt/following{/other_user}",
      "gists_url": "https://api.github.com/users/vsemozhetbyt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vsemozhetbyt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vsemozhetbyt/subscriptions",
      "organizations_url": "https://api.github.com/users/vsemozhetbyt/orgs",
      "repos_url": "https://api.github.com/users/vsemozhetbyt/repos",
      "events_url": "https://api.github.com/users/vsemozhetbyt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vsemozhetbyt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-06T18:36:03Z",
    "updated_at": "2016-08-06T18:36:03Z",
    "body": "@MarshallOfSound Thank you. It is a very useful fix.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/238229084",
    "html_url": "https://github.com/electron/electron/issues/6407#issuecomment-238229084",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6407",
    "id": 238229084,
    "user": {
      "login": "MarshallOfSound",
      "id": 6634592,
      "avatar_url": "https://avatars0.githubusercontent.com/u/6634592?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarshallOfSound",
      "html_url": "https://github.com/MarshallOfSound",
      "followers_url": "https://api.github.com/users/MarshallOfSound/followers",
      "following_url": "https://api.github.com/users/MarshallOfSound/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarshallOfSound/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarshallOfSound/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarshallOfSound/subscriptions",
      "organizations_url": "https://api.github.com/users/MarshallOfSound/orgs",
      "repos_url": "https://api.github.com/users/MarshallOfSound/repos",
      "events_url": "https://api.github.com/users/MarshallOfSound/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarshallOfSound/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-08T13:05:37Z",
    "updated_at": "2016-08-08T13:05:37Z",
    "body": "As discussed in #6758 \n\n> The current IPC implementation can send the `document.location` object correctly.\n> \n> ``` js\n> require('electron').ipcRenderer.on('foo', console.info.bind(console));\n> require('electron').remote.getCurrentWebContents().send('foo', document.location)\n> ```\n> \n> The issue appears to be that somewhere between \n> https://github.com/electron/electron/blob/master/lib/browser/api/web-contents.js#L113\n> and\n> https://github.com/electron/electron/blob/master/lib/browser/rpc-server.js#L185  \n> \n> The object becomes empty.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/238287452",
    "html_url": "https://github.com/electron/electron/issues/6407#issuecomment-238287452",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6407",
    "id": 238287452,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-08-08T16:13:16Z",
    "updated_at": "2016-08-08T16:13:16Z",
    "body": "> The current IPC implementation can send the document.location object correctly.\n\nIt looks like the properties on `document.location` are failing this check: https://github.com/electron/electron/blob/99ec841a8e4fe21182e2dfa7a1f085d70b80d6cf/atom/common/native_mate_converters/v8_value_converter.cc#L356-L357\n\nWhich is why they aren't getting serialized.\n\nFrom the issue it does mention:\n\n> It appears that the crash occurs when the V8ValueConverter is passed an object that has a named callback (v8::Object::HasRealNamedCallbackProperty()) that is an internal property (something that is not defined in JS, but intercepted by the c++ side).\n> \n> Something like a DOM input element is a good example of this.\n\nSo it looks like this might be expected given how the `Location` class is implemented.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/238290649",
    "html_url": "https://github.com/electron/electron/issues/6407#issuecomment-238290649",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6407",
    "id": 238290649,
    "user": {
      "login": "MarshallOfSound",
      "id": 6634592,
      "avatar_url": "https://avatars0.githubusercontent.com/u/6634592?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarshallOfSound",
      "html_url": "https://github.com/MarshallOfSound",
      "followers_url": "https://api.github.com/users/MarshallOfSound/followers",
      "following_url": "https://api.github.com/users/MarshallOfSound/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarshallOfSound/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarshallOfSound/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarshallOfSound/subscriptions",
      "organizations_url": "https://api.github.com/users/MarshallOfSound/orgs",
      "repos_url": "https://api.github.com/users/MarshallOfSound/repos",
      "events_url": "https://api.github.com/users/MarshallOfSound/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarshallOfSound/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-08T16:24:43Z",
    "updated_at": "2016-08-08T16:24:43Z",
    "body": "@kevinsawicki If `Object.assign` can fetch those properties and assign them to a new object though, why can't we fetch them during our serialization.\n\nAlso, they do get serialized in that example code (the object flows through to the main process then back to the renderer process and remains intact so I'm still not convinced that is what is going on.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/238293145",
    "html_url": "https://github.com/electron/electron/issues/6407#issuecomment-238293145",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6407",
    "id": 238293145,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-08-08T16:33:37Z",
    "updated_at": "2016-08-08T16:33:42Z",
    "body": "> Also, they do get serialized in that example code (the object flows through to the main process then back to the renderer process and remains intact so I'm still not convinced that is what is going on.\n\nI think your example isn't replicating the error exactly since you are using the `remote` module which serializes things a bit differently than raw IPC:\n\nTry this:\n\n``` js\nrequire('electron').ipcRenderer.send('foo', document.location)\n```\n\nThen in the main process:\n\n``` js\nrequire('electron').ipcMain.on('foo', (event, location) => {\n  console.log(location)\n})\n```\n"
  }
]