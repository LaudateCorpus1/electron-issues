[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/254684073",
    "html_url": "https://github.com/electron/electron/issues/7455#issuecomment-254684073",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7455",
    "id": 254684073,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-10-19T01:16:16Z",
    "updated_at": "2016-10-19T01:16:16Z",
    "body": "That's because the renderer only after the `document` object has been created, while the `preload` script is loaded before the `document` object gets created, so there is a chance that the message sent from the main process gets received too early.\n\nAn immediate workaround is to send the message after DOM has loaded, and I'm closing this since it is expected behavior.\n\n(We should probably have a more decent solution for the early messages though.)\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/255310415",
    "html_url": "https://github.com/electron/electron/issues/7455#issuecomment-255310415",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7455",
    "id": 255310415,
    "user": {
      "login": "changkun",
      "id": 5498964,
      "avatar_url": "https://avatars0.githubusercontent.com/u/5498964?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/changkun",
      "html_url": "https://github.com/changkun",
      "followers_url": "https://api.github.com/users/changkun/followers",
      "following_url": "https://api.github.com/users/changkun/following{/other_user}",
      "gists_url": "https://api.github.com/users/changkun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/changkun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/changkun/subscriptions",
      "organizations_url": "https://api.github.com/users/changkun/orgs",
      "repos_url": "https://api.github.com/users/changkun/repos",
      "events_url": "https://api.github.com/users/changkun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/changkun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-21T07:10:12Z",
    "updated_at": "2016-10-21T07:16:35Z",
    "body": "Well, I didn't realized that. Now here is the solution:\n\n``` js\n//\n// preload.js\n//\n'use strict';\n\nconst menu = require('./menu');\nconst {ipcRenderer} = require('electron');\n\nmenu.createMenu();\n\n// send the message when DOMConentLoaded event trigger\ndocument.addEventListener('DOMContentLoaded', function() {\n    ipcRenderer.send('menu', 'created');\n});\n```\n\nIt is indeed a strange behavior until now due to the message always received on macOS but not on Windows.\n\n@zcbenz This issue gives an example that shows how to change menu item status through process message communication. If menu created in main process, there is no way to change menu item status in runtime (except re-create it) I suppose?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/255672420",
    "html_url": "https://github.com/electron/electron/issues/7455#issuecomment-255672420",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7455",
    "id": 255672420,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-10-24T07:56:52Z",
    "updated_at": "2016-10-24T07:56:52Z",
    "body": "> @zcbenz This issue gives an example that shows how to change menu item status through process message communication. If menu created in main process, there is no way to change menu item status in runtime (except re-create it) I suppose?\n\nYeah currently you have to recreate menu to change items, we do plan to support dynamic menu and there is an issue tracking it.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/286406285",
    "html_url": "https://github.com/electron/electron/issues/7455#issuecomment-286406285",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7455",
    "id": 286406285,
    "user": {
      "login": "changkun",
      "id": 5498964,
      "avatar_url": "https://avatars0.githubusercontent.com/u/5498964?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/changkun",
      "html_url": "https://github.com/changkun",
      "followers_url": "https://api.github.com/users/changkun/followers",
      "following_url": "https://api.github.com/users/changkun/following{/other_user}",
      "gists_url": "https://api.github.com/users/changkun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/changkun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/changkun/subscriptions",
      "organizations_url": "https://api.github.com/users/changkun/orgs",
      "repos_url": "https://api.github.com/users/changkun/repos",
      "events_url": "https://api.github.com/users/changkun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/changkun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-14T12:28:35Z",
    "updated_at": "2017-03-14T12:28:35Z",
    "body": "@zcbenz Is Electron 2.0 plan to introduce dynamic menu?"
  }
]