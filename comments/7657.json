[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/254384419",
    "html_url": "https://github.com/electron/electron/issues/7657#issuecomment-254384419",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7657",
    "id": 254384419,
    "user": {
      "login": "MarshallOfSound",
      "id": 6634592,
      "avatar_url": "https://avatars0.githubusercontent.com/u/6634592?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarshallOfSound",
      "html_url": "https://github.com/MarshallOfSound",
      "followers_url": "https://api.github.com/users/MarshallOfSound/followers",
      "following_url": "https://api.github.com/users/MarshallOfSound/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarshallOfSound/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarshallOfSound/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarshallOfSound/subscriptions",
      "organizations_url": "https://api.github.com/users/MarshallOfSound/orgs",
      "repos_url": "https://api.github.com/users/MarshallOfSound/repos",
      "events_url": "https://api.github.com/users/MarshallOfSound/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarshallOfSound/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-18T01:49:55Z",
    "updated_at": "2016-10-18T01:49:55Z",
    "body": "I've been seeing this error on Electron `1.4.3` as well.  It is very rare but for me only occurs on macOS.  Across thousands of installs it has happened 37 times in the last 24 hours.\n\n![error](https://cloud.githubusercontent.com/assets/6634592/19461560/50060244-9531-11e6-83cc-23c67f684d84.PNG)\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/254384872",
    "html_url": "https://github.com/electron/electron/issues/7657#issuecomment-254384872",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7657",
    "id": 254384872,
    "user": {
      "login": "arantes555",
      "id": 99662,
      "avatar_url": "https://avatars2.githubusercontent.com/u/99662?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/arantes555",
      "html_url": "https://github.com/arantes555",
      "followers_url": "https://api.github.com/users/arantes555/followers",
      "following_url": "https://api.github.com/users/arantes555/following{/other_user}",
      "gists_url": "https://api.github.com/users/arantes555/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/arantes555/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/arantes555/subscriptions",
      "organizations_url": "https://api.github.com/users/arantes555/orgs",
      "repos_url": "https://api.github.com/users/arantes555/repos",
      "events_url": "https://api.github.com/users/arantes555/events{/privacy}",
      "received_events_url": "https://api.github.com/users/arantes555/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-18T01:53:14Z",
    "updated_at": "2016-10-18T01:53:14Z",
    "body": "Seeing the same thing here, on windows only.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/254385135",
    "html_url": "https://github.com/electron/electron/issues/7657#issuecomment-254385135",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7657",
    "id": 254385135,
    "user": {
      "login": "MarshallOfSound",
      "id": 6634592,
      "avatar_url": "https://avatars0.githubusercontent.com/u/6634592?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarshallOfSound",
      "html_url": "https://github.com/MarshallOfSound",
      "followers_url": "https://api.github.com/users/MarshallOfSound/followers",
      "following_url": "https://api.github.com/users/MarshallOfSound/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarshallOfSound/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarshallOfSound/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarshallOfSound/subscriptions",
      "organizations_url": "https://api.github.com/users/MarshallOfSound/orgs",
      "repos_url": "https://api.github.com/users/MarshallOfSound/repos",
      "events_url": "https://api.github.com/users/MarshallOfSound/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarshallOfSound/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-18T01:55:24Z",
    "updated_at": "2016-10-18T01:55:24Z",
    "body": "ðŸ”— https://sentry.io/gpmdp/electron-client/issues/171064047/\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/255109226",
    "html_url": "https://github.com/electron/electron/issues/7657#issuecomment-255109226",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7657",
    "id": 255109226,
    "user": {
      "login": "luoye-fe",
      "id": 11496663,
      "avatar_url": "https://avatars1.githubusercontent.com/u/11496663?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luoye-fe",
      "html_url": "https://github.com/luoye-fe",
      "followers_url": "https://api.github.com/users/luoye-fe/followers",
      "following_url": "https://api.github.com/users/luoye-fe/following{/other_user}",
      "gists_url": "https://api.github.com/users/luoye-fe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luoye-fe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luoye-fe/subscriptions",
      "organizations_url": "https://api.github.com/users/luoye-fe/orgs",
      "repos_url": "https://api.github.com/users/luoye-fe/repos",
      "events_url": "https://api.github.com/users/luoye-fe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luoye-fe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-20T13:42:52Z",
    "updated_at": "2016-10-20T13:42:52Z",
    "body": "+1 .. \nBut only recurrent on windows, and after updating `npm` from `3.8.5` to  `3.10.9`.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/255337712",
    "html_url": "https://github.com/electron/electron/issues/7657#issuecomment-255337712",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7657",
    "id": 255337712,
    "user": {
      "login": "luoye-fe",
      "id": 11496663,
      "avatar_url": "https://avatars1.githubusercontent.com/u/11496663?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luoye-fe",
      "html_url": "https://github.com/luoye-fe",
      "followers_url": "https://api.github.com/users/luoye-fe/followers",
      "following_url": "https://api.github.com/users/luoye-fe/following{/other_user}",
      "gists_url": "https://api.github.com/users/luoye-fe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luoye-fe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luoye-fe/subscriptions",
      "organizations_url": "https://api.github.com/users/luoye-fe/orgs",
      "repos_url": "https://api.github.com/users/luoye-fe/repos",
      "events_url": "https://api.github.com/users/luoye-fe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luoye-fe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-21T09:36:12Z",
    "updated_at": "2016-10-21T09:36:12Z",
    "body": "It's so speechless ...\n\nJust because of missing a picture ...\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/255673246",
    "html_url": "https://github.com/electron/electron/issues/7657#issuecomment-255673246",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7657",
    "id": 255673246,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-10-24T08:01:07Z",
    "updated_at": "2016-10-24T08:01:07Z",
    "body": "This error happens when the icon does not exist for any reason, throwing exception for this was a decision made on the first day and I'm still not sure whether it is a good design.\n\nAnyway if you want to ignore this error you can use `naitveImage` to create an icon from path and then pass it to `Tray`, and it silences the error.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/255675213",
    "html_url": "https://github.com/electron/electron/issues/7657#issuecomment-255675213",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7657",
    "id": 255675213,
    "user": {
      "login": "MarshallOfSound",
      "id": 6634592,
      "avatar_url": "https://avatars0.githubusercontent.com/u/6634592?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarshallOfSound",
      "html_url": "https://github.com/MarshallOfSound",
      "followers_url": "https://api.github.com/users/MarshallOfSound/followers",
      "following_url": "https://api.github.com/users/MarshallOfSound/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarshallOfSound/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarshallOfSound/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarshallOfSound/subscriptions",
      "organizations_url": "https://api.github.com/users/MarshallOfSound/orgs",
      "repos_url": "https://api.github.com/users/MarshallOfSound/repos",
      "events_url": "https://api.github.com/users/MarshallOfSound/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarshallOfSound/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-24T08:10:52Z",
    "updated_at": "2016-10-24T08:10:52Z",
    "body": "@zcbenz I managed to get one of my users with the error being thrown to check their app directory and the file exists within the ASAR.  Is their anything else that could cause this?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/255816869",
    "html_url": "https://github.com/electron/electron/issues/7657#issuecomment-255816869",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7657",
    "id": 255816869,
    "user": {
      "login": "tex0l",
      "id": 7548264,
      "avatar_url": "https://avatars2.githubusercontent.com/u/7548264?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tex0l",
      "html_url": "https://github.com/tex0l",
      "followers_url": "https://api.github.com/users/tex0l/followers",
      "following_url": "https://api.github.com/users/tex0l/following{/other_user}",
      "gists_url": "https://api.github.com/users/tex0l/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tex0l/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tex0l/subscriptions",
      "organizations_url": "https://api.github.com/users/tex0l/orgs",
      "repos_url": "https://api.github.com/users/tex0l/repos",
      "events_url": "https://api.github.com/users/tex0l/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tex0l/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-24T18:00:00Z",
    "updated_at": "2016-10-24T18:00:00Z",
    "body": "In my case it happens when the app isn't packaged into an asar yet.\nWhen I run my app multiple times from the same directory (starting without rebuilding my code and resources), it sometimes works, and sometimes it doesn't. Out of 50 launches from the same directory: 30 crash with the error, 20 successfully start the app and have the icon in the tray.\nI haven't had the problem with the packaged app since I ship my windows version with a PNG instead of an ICO, and it seems more stable.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/256251080",
    "html_url": "https://github.com/electron/electron/issues/7657#issuecomment-256251080",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7657",
    "id": 256251080,
    "user": {
      "login": "darkpixel",
      "id": 158380,
      "avatar_url": "https://avatars0.githubusercontent.com/u/158380?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/darkpixel",
      "html_url": "https://github.com/darkpixel",
      "followers_url": "https://api.github.com/users/darkpixel/followers",
      "following_url": "https://api.github.com/users/darkpixel/following{/other_user}",
      "gists_url": "https://api.github.com/users/darkpixel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/darkpixel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/darkpixel/subscriptions",
      "organizations_url": "https://api.github.com/users/darkpixel/orgs",
      "repos_url": "https://api.github.com/users/darkpixel/repos",
      "events_url": "https://api.github.com/users/darkpixel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/darkpixel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-26T05:10:00Z",
    "updated_at": "2016-10-26T05:10:00Z",
    "body": "I can't tell if I'm running in to this problem, or if I'm just a n00b about packaging/referencing assets.\nIf I create a tray icon `Tray('favicon.ico');` it shows up while I'm debugging and running it via `electron main.js`.\n\nOnce I build it, I get the error `TypeError: Error processing argument at index 0, conversion failure from ...`\n\nIf I change it to `Tray(app.getAppPath(), 'favicon.ico'));` and build it, it works fine, but during development the path resolves to `/tank/code/myapp/node_modules/electron-prebuilt/dist/resources/default_app.asar/favicon.ico` when I think it should resolve to `/tank/code/myapp/favicon.ico`.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/256875462",
    "html_url": "https://github.com/electron/electron/issues/7657#issuecomment-256875462",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7657",
    "id": 256875462,
    "user": {
      "login": "isNeilLin",
      "id": 18683728,
      "avatar_url": "https://avatars1.githubusercontent.com/u/18683728?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/isNeilLin",
      "html_url": "https://github.com/isNeilLin",
      "followers_url": "https://api.github.com/users/isNeilLin/followers",
      "following_url": "https://api.github.com/users/isNeilLin/following{/other_user}",
      "gists_url": "https://api.github.com/users/isNeilLin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/isNeilLin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/isNeilLin/subscriptions",
      "organizations_url": "https://api.github.com/users/isNeilLin/orgs",
      "repos_url": "https://api.github.com/users/isNeilLin/repos",
      "events_url": "https://api.github.com/users/isNeilLin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/isNeilLin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-28T09:22:30Z",
    "updated_at": "2016-10-28T09:22:30Z",
    "body": "You can specify an absolute path. like this:\n![image](https://cloud.githubusercontent.com/assets/18683728/19801708/ee57c29e-9d32-11e6-98f6-455bbac83af8.png)\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/258640314",
    "html_url": "https://github.com/electron/electron/issues/7657#issuecomment-258640314",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7657",
    "id": 258640314,
    "user": {
      "login": "darkpixel",
      "id": 158380,
      "avatar_url": "https://avatars0.githubusercontent.com/u/158380?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/darkpixel",
      "html_url": "https://github.com/darkpixel",
      "followers_url": "https://api.github.com/users/darkpixel/followers",
      "following_url": "https://api.github.com/users/darkpixel/following{/other_user}",
      "gists_url": "https://api.github.com/users/darkpixel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/darkpixel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/darkpixel/subscriptions",
      "organizations_url": "https://api.github.com/users/darkpixel/orgs",
      "repos_url": "https://api.github.com/users/darkpixel/repos",
      "events_url": "https://api.github.com/users/darkpixel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/darkpixel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-05T21:00:17Z",
    "updated_at": "2016-11-05T21:00:17Z",
    "body": "Thanks @isNeilLin .\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/273445142",
    "html_url": "https://github.com/electron/electron/issues/7657#issuecomment-273445142",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7657",
    "id": 273445142,
    "user": {
      "login": "stop2stare",
      "id": 5373041,
      "avatar_url": "https://avatars1.githubusercontent.com/u/5373041?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stop2stare",
      "html_url": "https://github.com/stop2stare",
      "followers_url": "https://api.github.com/users/stop2stare/followers",
      "following_url": "https://api.github.com/users/stop2stare/following{/other_user}",
      "gists_url": "https://api.github.com/users/stop2stare/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stop2stare/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stop2stare/subscriptions",
      "organizations_url": "https://api.github.com/users/stop2stare/orgs",
      "repos_url": "https://api.github.com/users/stop2stare/repos",
      "events_url": "https://api.github.com/users/stop2stare/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stop2stare/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-18T10:54:29Z",
    "updated_at": "2017-01-18T10:54:49Z",
    "body": "Thanks @isNeilLin ,but it's still not working correctly even if I've specified an absolute path.\r\nDo you have any other workaround?"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/285393985",
    "html_url": "https://github.com/electron/electron/issues/7657#issuecomment-285393985",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7657",
    "id": 285393985,
    "user": {
      "login": "limoragni",
      "id": 824621,
      "avatar_url": "https://avatars1.githubusercontent.com/u/824621?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/limoragni",
      "html_url": "https://github.com/limoragni",
      "followers_url": "https://api.github.com/users/limoragni/followers",
      "following_url": "https://api.github.com/users/limoragni/following{/other_user}",
      "gists_url": "https://api.github.com/users/limoragni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/limoragni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/limoragni/subscriptions",
      "organizations_url": "https://api.github.com/users/limoragni/orgs",
      "repos_url": "https://api.github.com/users/limoragni/repos",
      "events_url": "https://api.github.com/users/limoragni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/limoragni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-09T16:02:23Z",
    "updated_at": "2017-03-09T16:02:23Z",
    "body": "This is happening to me also. I have around 20 users and this is happening to only one of them, but he can't even boot the app. Will try using NativeImage and see what happens. "
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/288781831",
    "html_url": "https://github.com/electron/electron/issues/7657#issuecomment-288781831",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7657",
    "id": 288781831,
    "user": {
      "login": "teterovic",
      "id": 7413906,
      "avatar_url": "https://avatars2.githubusercontent.com/u/7413906?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/teterovic",
      "html_url": "https://github.com/teterovic",
      "followers_url": "https://api.github.com/users/teterovic/followers",
      "following_url": "https://api.github.com/users/teterovic/following{/other_user}",
      "gists_url": "https://api.github.com/users/teterovic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/teterovic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/teterovic/subscriptions",
      "organizations_url": "https://api.github.com/users/teterovic/orgs",
      "repos_url": "https://api.github.com/users/teterovic/repos",
      "events_url": "https://api.github.com/users/teterovic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/teterovic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-23T16:41:17Z",
    "updated_at": "2017-03-23T16:41:17Z",
    "body": "Have the same issue MACOS"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/297240479",
    "html_url": "https://github.com/electron/electron/issues/7657#issuecomment-297240479",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7657",
    "id": 297240479,
    "user": {
      "login": "tbogard",
      "id": 1978642,
      "avatar_url": "https://avatars2.githubusercontent.com/u/1978642?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tbogard",
      "html_url": "https://github.com/tbogard",
      "followers_url": "https://api.github.com/users/tbogard/followers",
      "following_url": "https://api.github.com/users/tbogard/following{/other_user}",
      "gists_url": "https://api.github.com/users/tbogard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tbogard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tbogard/subscriptions",
      "organizations_url": "https://api.github.com/users/tbogard/orgs",
      "repos_url": "https://api.github.com/users/tbogard/repos",
      "events_url": "https://api.github.com/users/tbogard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tbogard/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-26T05:17:52Z",
    "updated_at": "2017-04-26T05:21:07Z",
    "body": "I was able to solve it figuring out if the file exists in the project files or not. for that I have first to verify the existence of the file, then convert the image as nativeImage. I'm using fs-jetpack to verify quickly if it is \"file\" the output of the console... The problem is that likely you guys are pointing to a file where the app doesn't have access....\r\n\r\n`\r\n\tconst {\r\n\t\tapp,\r\n\t\tTray,\r\n\t\tMenu,\r\n\t\tipcMain,\r\n\t\tnativeImage\r\n\t} = require('electron');\r\n\tconst main       = require('../main');\r\n\tconst path = require('path');\r\n\tconst jetpack = require('fs-jetpack');\r\n\tlet appIcon = null;\r\n\r\n\tipcMain.on('go-tray', (event) => {\r\n\t\tconst iconName = '16.png';\r\n\t\tconst iconPath = path.join(__dirname,'..','assets','icons',iconName);\r\n\t\tconsole.log(jetpack.exists(iconPath)); //should be \"file\", otherwise you are not pointing to your icon file \r\n\t\tlet nimage = nativeImage.createFromPath(iconPath);\r\n\t\tappIcon = new Tray(nimage);\r\n\t\tconst contextMenu = Menu.buildFromTemplate([{\r\n\t\t\tlabel : 'Restore to Design Mode',\r\n\t\t\tclick : () =>{\r\n\t\t\t\tappIcon.destroy();\r\n\t\t\t\tmain.mainWindow.show();\r\n\t\t\t}\r\n\t\t}]);\r\n\t\tappIcon.setToolTip('app is on tray icon');\r\n\t\tappIcon.setContextMenu(contextMenu);\r\n\t\tmain.mainWindow.hide();\r\n\t});\r\n\r\n\tapp.on('window-all-closed',() => {\r\n\t\tif (appIcon) appIcon.destroy();\r\n\t});\r\n`"
  }
]