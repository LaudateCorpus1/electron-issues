[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/158263808",
    "html_url": "https://github.com/electron/electron/issues/3512#issuecomment-158263808",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3512",
    "id": 158263808,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-11-20T02:51:00Z",
    "updated_at": "2015-11-20T02:51:00Z",
    "body": "We do support executing script in asar archive with `child_process.execFile`, and it is implemented exactly by copying the file out.\n\nHowever `exec` and `spawn` are different stories because they accept `command` instead of `file`, and the commands are executed under shell. There is no reliable way to determine whether a `command` uses a file in asar archive, and even if we do, we can not be sure whether we can replace the path in `command` without side effects.\n\nSo I think the only solution is to use `execFile` in your module.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/158376821",
    "html_url": "https://github.com/electron/electron/issues/3512#issuecomment-158376821",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3512",
    "id": 158376821,
    "user": {
      "login": "jviotti",
      "id": 2192773,
      "avatar_url": "https://avatars3.githubusercontent.com/u/2192773?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jviotti",
      "html_url": "https://github.com/jviotti",
      "followers_url": "https://api.github.com/users/jviotti/followers",
      "following_url": "https://api.github.com/users/jviotti/following{/other_user}",
      "gists_url": "https://api.github.com/users/jviotti/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jviotti/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jviotti/subscriptions",
      "organizations_url": "https://api.github.com/users/jviotti/orgs",
      "repos_url": "https://api.github.com/users/jviotti/repos",
      "events_url": "https://api.github.com/users/jviotti/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jviotti/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-20T12:03:56Z",
    "updated_at": "2015-11-20T12:03:56Z",
    "body": "@zcbenz Thanks for the information, will try `execFile`.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/158841616",
    "html_url": "https://github.com/electron/electron/issues/3512#issuecomment-158841616",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3512",
    "id": 158841616,
    "user": {
      "login": "jviotti",
      "id": 2192773,
      "avatar_url": "https://avatars3.githubusercontent.com/u/2192773?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jviotti",
      "html_url": "https://github.com/jviotti",
      "followers_url": "https://api.github.com/users/jviotti/followers",
      "following_url": "https://api.github.com/users/jviotti/following{/other_user}",
      "gists_url": "https://api.github.com/users/jviotti/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jviotti/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jviotti/subscriptions",
      "organizations_url": "https://api.github.com/users/jviotti/orgs",
      "repos_url": "https://api.github.com/users/jviotti/repos",
      "events_url": "https://api.github.com/users/jviotti/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jviotti/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-23T03:20:48Z",
    "updated_at": "2015-11-23T03:20:48Z",
    "body": "@zcbenz I've tried using `execFile` in my module. The script seems to be found, however I get an `EACCES`:\n\n```\nError: spawn EACCES\n    at exports._errnoException (util.js:837:11)\n    at ChildProcess.spawn (internal/child_process.js:298:11)\n    at exports.spawn (child_process.js:351:9)\n    at Object.exports.execFile (child_process.js:153:15)\n    at Object.module.(anonymous function) [as execFile] (ATOM_SHELL_ASAR.js:178:18)\n    at Object.exports.run (/Users/jviotti/Projects/resin/herostratus/release/Herostratus-darwin-x64/Herostratus.app/Contents/Resources/app.asar/node_modules/drivelist/build/scripts.js:21:24)\n    at Object.exports.list (/Users/jviotti/Projects/resin/herostratus/release/Herostratus-darwin-x64/Herostratus.app/Contents/Resources/app.asar/node_modules/drivelist/build/drivelist.js:16:18)\n    at Object.tryCatcher (/Users/jviotti/Projects/resin/herostratus/release/Herostratus-darwin-x64/Herostratus.app/Contents/Resources/app.asar/node_modules/bluebird/js/release/util.js:11:23)\n    at Object.ret [as listAsync] (eval at <anonymous> (/Users/jviotti/Projects/resin/herostratus/release/Herostratus-darwin-x64/Herostratus.app/Contents/Resources/app.asar/node_modules/bluebird/js/release/promisify.js:184:12), <anonymous>:13:39)\n    at Object.exports.listRemovable (/Users/jviotti/Projects/resin/herostratus/release/Herostratus-darwin-x64/Herostratus.app/Contents/Resources/app.asar/lib/src/drives.js:46:20)\n    at callFunction (/Users/jviotti/Projects/resin/herostratus/release/Herostratus-darwin-x64/Herostratus.app/Contents/Resources/atom.asar/browser/lib/rpc-server.js:176:18)\n    at EventEmitter.<anonymous> (/Users/jviotti/Projects/resin/herostratus/release/Herostratus-darwin-x64/Herostratus.app/Contents/Resources/atom.asar/browser/lib/rpc-server.js:272:14)\n    at emitMany (events.js:108:13)\n    at EventEmitter.emit (events.js:182:7)\n    at EventEmitter.<anonymous> (/Users/jviotti/Projects/resin/herostratus/release/Herostratus-darwin-x64/Herostratus.app/Contents/Resources/atom.asar/browser/api/lib/web-contents.js:95:27)\n    at emitTwo (events.js:87:13)\n    at EventEmitter.emit (events.js:172:7)\n```\n\nAre executable permissions conserved the packaging to an `asar`?\n\nI've found the following issues: https://github.com/atom/asar/issues/27 about preserving permissions when unpacking, and given that you say `execFile` is implemented by copying the file out (extracting), the permissions should be kept. \n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/158842903",
    "html_url": "https://github.com/electron/electron/issues/3512#issuecomment-158842903",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3512",
    "id": 158842903,
    "user": {
      "login": "jviotti",
      "id": 2192773,
      "avatar_url": "https://avatars3.githubusercontent.com/u/2192773?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jviotti",
      "html_url": "https://github.com/jviotti",
      "followers_url": "https://api.github.com/users/jviotti/followers",
      "following_url": "https://api.github.com/users/jviotti/following{/other_user}",
      "gists_url": "https://api.github.com/users/jviotti/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jviotti/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jviotti/subscriptions",
      "organizations_url": "https://api.github.com/users/jviotti/orgs",
      "repos_url": "https://api.github.com/users/jviotti/repos",
      "events_url": "https://api.github.com/users/jviotti/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jviotti/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-23T03:30:13Z",
    "updated_at": "2015-11-23T03:31:21Z",
    "body": "I've tried executing the script as `execFile('sh', [ 'path/to/script.sh' ])` which throws a different error:\n\n```\nError: Command failed: sh /Users/jviotti/Projects/resin/herostratus/release/Herostratus-darwin-x64/Herostratus.app/Contents/Resources/app.asar/node_modules/drivelist/scripts/darwin.sh\nsh: /Users/jviotti/Projects/resin/herostratus/release/Herostratus-darwin-x64/Herostratus.app/Contents/Resources/app.asar/node_modules/drivelist/scripts/darwin.sh: Not a directory\n\n    at ChildProcess.exithandler (child_process.js:209:12)\n    at emitTwo (events.js:87:13)\n    at ChildProcess.emit (events.js:172:7)\n    at maybeClose (internal/child_process.js:764:16)\n    at Socket.<anonymous> (internal/child_process.js:319:11)\n    at emitOne (events.js:77:13)\n    at Socket.emit (events.js:169:7)\n    at Pipe._onclose (net.js:469:12)\n```\n\nHowever I don't understand why I get a `Not a directory` error. The same code runs fine without packaging as an `asar`.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/158844367",
    "html_url": "https://github.com/electron/electron/issues/3512#issuecomment-158844367",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3512",
    "id": 158844367,
    "user": {
      "login": "jviotti",
      "id": 2192773,
      "avatar_url": "https://avatars3.githubusercontent.com/u/2192773?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jviotti",
      "html_url": "https://github.com/jviotti",
      "followers_url": "https://api.github.com/users/jviotti/followers",
      "following_url": "https://api.github.com/users/jviotti/following{/other_user}",
      "gists_url": "https://api.github.com/users/jviotti/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jviotti/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jviotti/subscriptions",
      "organizations_url": "https://api.github.com/users/jviotti/orgs",
      "repos_url": "https://api.github.com/users/jviotti/repos",
      "events_url": "https://api.github.com/users/jviotti/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jviotti/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-23T03:33:22Z",
    "updated_at": "2015-11-23T03:34:05Z",
    "body": "My guess is that `execFile` only attempts to read the file argument from the `asar`, so passing the script path as an argument doesn't work, so the error gets thrown because `app.asar` is not a directory.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/158846681",
    "html_url": "https://github.com/electron/electron/issues/3512#issuecomment-158846681",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3512",
    "id": 158846681,
    "user": {
      "login": "jviotti",
      "id": 2192773,
      "avatar_url": "https://avatars3.githubusercontent.com/u/2192773?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jviotti",
      "html_url": "https://github.com/jviotti",
      "followers_url": "https://api.github.com/users/jviotti/followers",
      "following_url": "https://api.github.com/users/jviotti/following{/other_user}",
      "gists_url": "https://api.github.com/users/jviotti/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jviotti/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jviotti/subscriptions",
      "organizations_url": "https://api.github.com/users/jviotti/orgs",
      "repos_url": "https://api.github.com/users/jviotti/repos",
      "events_url": "https://api.github.com/users/jviotti/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jviotti/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-23T03:44:53Z",
    "updated_at": "2015-11-23T03:44:53Z",
    "body": "@zcbenz I've tried running `fs.chmod()` on the script right before calling it with `execFile` however this function doesn't seems to be patched to work with `asar`, since I get `ENOTDIR` errors again.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/158847339",
    "html_url": "https://github.com/electron/electron/issues/3512#issuecomment-158847339",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3512",
    "id": 158847339,
    "user": {
      "login": "jviotti",
      "id": 2192773,
      "avatar_url": "https://avatars3.githubusercontent.com/u/2192773?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jviotti",
      "html_url": "https://github.com/jviotti",
      "followers_url": "https://api.github.com/users/jviotti/followers",
      "following_url": "https://api.github.com/users/jviotti/following{/other_user}",
      "gists_url": "https://api.github.com/users/jviotti/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jviotti/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jviotti/subscriptions",
      "organizations_url": "https://api.github.com/users/jviotti/orgs",
      "repos_url": "https://api.github.com/users/jviotti/repos",
      "events_url": "https://api.github.com/users/jviotti/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jviotti/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-23T03:51:51Z",
    "updated_at": "2015-11-23T03:51:51Z",
    "body": "I suspect the issue should be fixed by setting execution permissions on the new path where the patched `execFile` extracts the original script here: https://github.com/atom/electron/blob/master/atom/common/lib/asar.coffee#L105.\n\nI have no idea how to test my app with a modified Electron to give it a try though.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/158890233",
    "html_url": "https://github.com/electron/electron/issues/3512#issuecomment-158890233",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3512",
    "id": 158890233,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-11-23T09:49:48Z",
    "updated_at": "2015-11-23T09:49:48Z",
    "body": "Yeah it is because the execution permission bit is not added when the file is copied out, I'll fix it on Electron's side.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/158925294",
    "html_url": "https://github.com/electron/electron/issues/3512#issuecomment-158925294",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3512",
    "id": 158925294,
    "user": {
      "login": "jviotti",
      "id": 2192773,
      "avatar_url": "https://avatars3.githubusercontent.com/u/2192773?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jviotti",
      "html_url": "https://github.com/jviotti",
      "followers_url": "https://api.github.com/users/jviotti/followers",
      "following_url": "https://api.github.com/users/jviotti/following{/other_user}",
      "gists_url": "https://api.github.com/users/jviotti/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jviotti/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jviotti/subscriptions",
      "organizations_url": "https://api.github.com/users/jviotti/orgs",
      "repos_url": "https://api.github.com/users/jviotti/repos",
      "events_url": "https://api.github.com/users/jviotti/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jviotti/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-23T12:49:17Z",
    "updated_at": "2015-11-23T12:49:17Z",
    "body": "@zcbenz Cool, thank you very much!\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/159792387",
    "html_url": "https://github.com/electron/electron/issues/3512#issuecomment-159792387",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3512",
    "id": 159792387,
    "user": {
      "login": "EragonJ",
      "id": 68322,
      "avatar_url": "https://avatars0.githubusercontent.com/u/68322?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/EragonJ",
      "html_url": "https://github.com/EragonJ",
      "followers_url": "https://api.github.com/users/EragonJ/followers",
      "following_url": "https://api.github.com/users/EragonJ/following{/other_user}",
      "gists_url": "https://api.github.com/users/EragonJ/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/EragonJ/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/EragonJ/subscriptions",
      "organizations_url": "https://api.github.com/users/EragonJ/orgs",
      "repos_url": "https://api.github.com/users/EragonJ/repos",
      "events_url": "https://api.github.com/users/EragonJ/events{/privacy}",
      "received_events_url": "https://api.github.com/users/EragonJ/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-26T03:21:26Z",
    "updated_at": "2015-11-26T03:21:26Z",
    "body": "I think I hit the same problem when using trying to pack my application as `asar`. I think the most confusing part is `ENOTDIR` error because for devs, what electron did in the background like what @jviotti said at https://github.com/atom/electron/issues/3512#issuecomment-158847339 is quite a black box.\n\nI have been struggled for a while and had no idea about to fix the problem even if I did check the manual (https://github.com/atom/electron/blob/master/docs/tutorial/application-packaging.md#adding-unpacked-files-in-asar-archive) for several times. If possible, can @zcbenz add few lines (just few lines !) in that document about this magic when you are trying to give it a patch? It would be helpful for devs to know how to do further debugging and testing when hitting any bug related to this in the future :smiley: \n\nThanks ++\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/159902782",
    "html_url": "https://github.com/electron/electron/issues/3512#issuecomment-159902782",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3512",
    "id": 159902782,
    "user": {
      "login": "jviotti",
      "id": 2192773,
      "avatar_url": "https://avatars3.githubusercontent.com/u/2192773?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jviotti",
      "html_url": "https://github.com/jviotti",
      "followers_url": "https://api.github.com/users/jviotti/followers",
      "following_url": "https://api.github.com/users/jviotti/following{/other_user}",
      "gists_url": "https://api.github.com/users/jviotti/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jviotti/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jviotti/subscriptions",
      "organizations_url": "https://api.github.com/users/jviotti/orgs",
      "repos_url": "https://api.github.com/users/jviotti/repos",
      "events_url": "https://api.github.com/users/jviotti/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jviotti/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-26T12:42:09Z",
    "updated_at": "2015-11-26T12:43:09Z",
    "body": "@EragonJ\n\nI've been playing more with it and I'm in the process of sending a pull request for it, which gave some insight about how to test these kinds of issues:\n- Follow the [build instructions](https://github.com/atom/electron/tree/master/docs/development) appropriate to your operating system.\n- Build the debug target: `./script/build.py -c D`, so you can find an `electron` binary in `out/D/electron`.\n- Package your app as an `asar` with `asar pack path/to/myapp app.asar` (I'm my case I created a dummy app that uses `execFile` to run a script inside the app directory).\n- Run the `asar` package with the compiled electron: `./out/D/electron path/to/app.asar`.\n- Play around with electron's code.\n\nHope it helps!\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/160106034",
    "html_url": "https://github.com/electron/electron/issues/3512#issuecomment-160106034",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3512",
    "id": 160106034,
    "user": {
      "login": "EragonJ",
      "id": 68322,
      "avatar_url": "https://avatars0.githubusercontent.com/u/68322?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/EragonJ",
      "html_url": "https://github.com/EragonJ",
      "followers_url": "https://api.github.com/users/EragonJ/followers",
      "following_url": "https://api.github.com/users/EragonJ/following{/other_user}",
      "gists_url": "https://api.github.com/users/EragonJ/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/EragonJ/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/EragonJ/subscriptions",
      "organizations_url": "https://api.github.com/users/EragonJ/orgs",
      "repos_url": "https://api.github.com/users/EragonJ/repos",
      "events_url": "https://api.github.com/users/EragonJ/events{/privacy}",
      "received_events_url": "https://api.github.com/users/EragonJ/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-11-27T10:19:53Z",
    "updated_at": "2015-11-27T10:19:53Z",
    "body": "@jviotti cool thanks !! I'll give it a try ! :+1: \n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/301458675",
    "html_url": "https://github.com/electron/electron/issues/3512#issuecomment-301458675",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3512",
    "id": 301458675,
    "user": {
      "login": "oleiba",
      "id": 16321515,
      "avatar_url": "https://avatars2.githubusercontent.com/u/16321515?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oleiba",
      "html_url": "https://github.com/oleiba",
      "followers_url": "https://api.github.com/users/oleiba/followers",
      "following_url": "https://api.github.com/users/oleiba/following{/other_user}",
      "gists_url": "https://api.github.com/users/oleiba/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oleiba/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oleiba/subscriptions",
      "organizations_url": "https://api.github.com/users/oleiba/orgs",
      "repos_url": "https://api.github.com/users/oleiba/repos",
      "events_url": "https://api.github.com/users/oleiba/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oleiba/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-15T12:21:19Z",
    "updated_at": "2017-05-15T12:21:19Z",
    "body": "Hi, I tried using `execFile` in the context of executing a node script (such that is referenced from `npm start`):\r\n```js\r\n  var modulePath = path.join(__dirname, 'node_modules/my-module')\r\n  var moduleEntry = require(path.join(modulePath, 'package.json')).main\r\n  var scriptPath = path.join(modulePath, moduleEntry)\r\n  var t = cp.execFile('node', [scriptPath])\r\n```\r\nDoes not seem to work. Not in asar mode, this scripts succeeds and launches the server found at my-module, and in asar mode (packaged app) it doesn't.\r\nAny help will be appreciated."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/309302933",
    "html_url": "https://github.com/electron/electron/issues/3512#issuecomment-309302933",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3512",
    "id": 309302933,
    "user": {
      "login": "alexis1990",
      "id": 3267694,
      "avatar_url": "https://avatars1.githubusercontent.com/u/3267694?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexis1990",
      "html_url": "https://github.com/alexis1990",
      "followers_url": "https://api.github.com/users/alexis1990/followers",
      "following_url": "https://api.github.com/users/alexis1990/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexis1990/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexis1990/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexis1990/subscriptions",
      "organizations_url": "https://api.github.com/users/alexis1990/orgs",
      "repos_url": "https://api.github.com/users/alexis1990/repos",
      "events_url": "https://api.github.com/users/alexis1990/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexis1990/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-18T21:05:32Z",
    "updated_at": "2017-06-18T21:05:32Z",
    "body": "Do you find a solution ? I have this error : /bin/sh npm: command not found. It is my path : ./node_modules/.bin/electron ."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/309424516",
    "html_url": "https://github.com/electron/electron/issues/3512#issuecomment-309424516",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3512",
    "id": 309424516,
    "user": {
      "login": "oleiba",
      "id": 16321515,
      "avatar_url": "https://avatars2.githubusercontent.com/u/16321515?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oleiba",
      "html_url": "https://github.com/oleiba",
      "followers_url": "https://api.github.com/users/oleiba/followers",
      "following_url": "https://api.github.com/users/oleiba/following{/other_user}",
      "gists_url": "https://api.github.com/users/oleiba/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oleiba/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oleiba/subscriptions",
      "organizations_url": "https://api.github.com/users/oleiba/orgs",
      "repos_url": "https://api.github.com/users/oleiba/repos",
      "events_url": "https://api.github.com/users/oleiba/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oleiba/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-19T12:26:06Z",
    "updated_at": "2017-06-19T12:26:06Z",
    "body": "@alexis1990 I worked around this issue by using `fork` rather than `execFile('node', ...)`:\r\n```js\r\n var t = cp.fork(modulePath, [], {stdio: ['ignore', 'ignore', process.stderr, 'ipc']})\r\n```"
  }
]