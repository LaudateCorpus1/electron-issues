[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/141074865",
    "html_url": "https://github.com/electron/electron/issues/2809#issuecomment-141074865",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2809",
    "id": 141074865,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-09-17T13:01:26Z",
    "updated_at": "2015-09-17T13:01:26Z",
    "body": "Can you provide an example?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/141380370",
    "html_url": "https://github.com/electron/electron/issues/2809#issuecomment-141380370",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2809",
    "id": 141380370,
    "user": {
      "login": "MikeGCV",
      "id": 12415581,
      "avatar_url": "https://avatars2.githubusercontent.com/u/12415581?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MikeGCV",
      "html_url": "https://github.com/MikeGCV",
      "followers_url": "https://api.github.com/users/MikeGCV/followers",
      "following_url": "https://api.github.com/users/MikeGCV/following{/other_user}",
      "gists_url": "https://api.github.com/users/MikeGCV/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MikeGCV/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MikeGCV/subscriptions",
      "organizations_url": "https://api.github.com/users/MikeGCV/orgs",
      "repos_url": "https://api.github.com/users/MikeGCV/repos",
      "events_url": "https://api.github.com/users/MikeGCV/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MikeGCV/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-18T08:27:58Z",
    "updated_at": "2015-09-18T08:28:12Z",
    "body": "As i was making an example of this issue, i saw that 0.33.0 was released. Tested the same code against 0.33.0 and no problem. Very strange. Well, seems solved.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/141640642",
    "html_url": "https://github.com/electron/electron/issues/2809#issuecomment-141640642",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2809",
    "id": 141640642,
    "user": {
      "login": "MikeGCV",
      "id": 12415581,
      "avatar_url": "https://avatars2.githubusercontent.com/u/12415581?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MikeGCV",
      "html_url": "https://github.com/MikeGCV",
      "followers_url": "https://api.github.com/users/MikeGCV/followers",
      "following_url": "https://api.github.com/users/MikeGCV/following{/other_user}",
      "gists_url": "https://api.github.com/users/MikeGCV/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MikeGCV/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MikeGCV/subscriptions",
      "organizations_url": "https://api.github.com/users/MikeGCV/orgs",
      "repos_url": "https://api.github.com/users/MikeGCV/repos",
      "events_url": "https://api.github.com/users/MikeGCV/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MikeGCV/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-19T09:36:59Z",
    "updated_at": "2015-09-19T09:38:04Z",
    "body": "The problem has returned, i don't understand, in 0.32.2 this code works perfectly:\n\n```\n        var _fs = require('fs');\n        var request = require('request');\n\n        var _file = _fs.createWriteStream(path + '/' + file, { bufferSize: 64 * 1024 });\n        var cur = 0;\n        var req = request({\n            method: 'GET',\n            uri: _app.serverIP + '/resources/files/' + file\n        });\n\n        req.on('response', function ( data ) {\n            console.log(data.statusCode);\n            console.log( data.headers[ 'content-length' ] );\n\n            req.pipe(_file);\n            _file.on('finish', function() {\n                _file.close(resolve);\n                _file = null;\n            });\n        });\n\n        req.on('data', function (chunk) {\n            //console.log(chunk.length);\n            cur += chunk.length;\n            console.log((100.0 * cur / total).toFixed(0));\n        });\n\n        req.on('error', function(err){\n            _fs.unlink(path + '/' + file);\n            reject(err);\n        });\n\n        req.on('end', function() {\n            req = null;\n        });\n```\n\nIn 0.32.3 and 0.33 gives me this error on big files: ESOCKETTIMEDOUT. This is executed in the renderer process.\n\nThanks\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/141708258",
    "html_url": "https://github.com/electron/electron/issues/2809#issuecomment-141708258",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2809",
    "id": 141708258,
    "user": {
      "login": "MikeGCV",
      "id": 12415581,
      "avatar_url": "https://avatars2.githubusercontent.com/u/12415581?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MikeGCV",
      "html_url": "https://github.com/MikeGCV",
      "followers_url": "https://api.github.com/users/MikeGCV/followers",
      "following_url": "https://api.github.com/users/MikeGCV/following{/other_user}",
      "gists_url": "https://api.github.com/users/MikeGCV/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MikeGCV/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MikeGCV/subscriptions",
      "organizations_url": "https://api.github.com/users/MikeGCV/orgs",
      "repos_url": "https://api.github.com/users/MikeGCV/repos",
      "events_url": "https://api.github.com/users/MikeGCV/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MikeGCV/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-19T21:17:05Z",
    "updated_at": "2015-09-19T21:17:05Z",
    "body": "Same error happening in the main process, no errors on 0.32.2. This is in windows.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/141759413",
    "html_url": "https://github.com/electron/electron/issues/2809#issuecomment-141759413",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2809",
    "id": 141759413,
    "user": {
      "login": "MikeGCV",
      "id": 12415581,
      "avatar_url": "https://avatars2.githubusercontent.com/u/12415581?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MikeGCV",
      "html_url": "https://github.com/MikeGCV",
      "followers_url": "https://api.github.com/users/MikeGCV/followers",
      "following_url": "https://api.github.com/users/MikeGCV/following{/other_user}",
      "gists_url": "https://api.github.com/users/MikeGCV/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MikeGCV/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MikeGCV/subscriptions",
      "organizations_url": "https://api.github.com/users/MikeGCV/orgs",
      "repos_url": "https://api.github.com/users/MikeGCV/repos",
      "events_url": "https://api.github.com/users/MikeGCV/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MikeGCV/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-20T09:01:46Z",
    "updated_at": "2015-09-20T09:01:46Z",
    "body": "Just tested in Linux, same error on 0.33\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/141872392",
    "html_url": "https://github.com/electron/electron/issues/2809#issuecomment-141872392",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2809",
    "id": 141872392,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-09-21T04:08:06Z",
    "updated_at": "2015-09-21T04:08:06Z",
    "body": "It is hard to determine since you are sending a request to your own server, can you try if following example works?\n\n``` js\nvar req = require('request')('https://github.com');\nvar file = require('fs').createWriteStream(process.env.USERPROFILE + '/Desktop/test.html');\nreq.on('response', function() {\n  req.pipe(file);\n});\n```\n\nAlso if you are creating a server inside Electron you have to paste a full example, otherwise it would be impossible to debug this since the cause is very likely to be in other parts of your code.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/142155874",
    "html_url": "https://github.com/electron/electron/issues/2809#issuecomment-142155874",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2809",
    "id": 142155874,
    "user": {
      "login": "MikeGCV",
      "id": 12415581,
      "avatar_url": "https://avatars2.githubusercontent.com/u/12415581?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MikeGCV",
      "html_url": "https://github.com/MikeGCV",
      "followers_url": "https://api.github.com/users/MikeGCV/followers",
      "following_url": "https://api.github.com/users/MikeGCV/following{/other_user}",
      "gists_url": "https://api.github.com/users/MikeGCV/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MikeGCV/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MikeGCV/subscriptions",
      "organizations_url": "https://api.github.com/users/MikeGCV/orgs",
      "repos_url": "https://api.github.com/users/MikeGCV/repos",
      "events_url": "https://api.github.com/users/MikeGCV/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MikeGCV/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-22T01:32:44Z",
    "updated_at": "2015-09-22T01:36:13Z",
    "body": "It's an external server, i've been doing some tests, it's very strange, your code works perfectly, but not for big files, i will be doing more tests tomorrow. The most frequent error is RangeError: length out of bounds\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/142291989",
    "html_url": "https://github.com/electron/electron/issues/2809#issuecomment-142291989",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2809",
    "id": 142291989,
    "user": {
      "login": "MikeGCV",
      "id": 12415581,
      "avatar_url": "https://avatars2.githubusercontent.com/u/12415581?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MikeGCV",
      "html_url": "https://github.com/MikeGCV",
      "followers_url": "https://api.github.com/users/MikeGCV/followers",
      "following_url": "https://api.github.com/users/MikeGCV/following{/other_user}",
      "gists_url": "https://api.github.com/users/MikeGCV/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MikeGCV/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MikeGCV/subscriptions",
      "organizations_url": "https://api.github.com/users/MikeGCV/orgs",
      "repos_url": "https://api.github.com/users/MikeGCV/repos",
      "events_url": "https://api.github.com/users/MikeGCV/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MikeGCV/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-22T13:39:13Z",
    "updated_at": "2015-09-22T13:39:13Z",
    "body": "Ok, here's my scripts, nothing interfering, this is on 0.33.1 windows 8.1.\n\nmain.js loaded in the renderer\n\n```\nwindow.addEventListener('DOMContentLoaded', function () {\n    'use strict';\n\n    var req = require('request')  ('http://distribution.bbb3d.renderfarming.net/video/mp4/bbb_sunflower_1080p_60fps_normal.mp4');\n    var file = require('fs').createWriteStream(__dirname + '/testing.mp4');\n\n    req.on('response', function() {\n        console.log('Transfer start');\n        req.pipe(file);\n    });\n\n    req.on('end', function(){\n         console.log('Transfer end');\n    });\n});\n```\n\napp.js for the main process:\n\n```\n'use strict';\nconst app = require('app');\nconst BrowserWindow = require('browser-window');\n\nlet mainWindow;\n\nfunction onClosed() {\nmainWindow = null;\n}\n\nfunction createMainWindow() {\nconst win = new BrowserWindow({\n    width: 600,\n    height: 400\n});\n\nwin.loadUrl(`file://${__dirname}/index.html`);\nwin.on('closed', onClosed);\nwin.webContents.on('dom-ready', function(){\n    win.openDevTools({detach: true});\n});\nreturn win;\n}\n\napp.on('window-all-closed', () => {\nif (process.platform !== 'darwin') {\n    app.quit();\n}\n});\n\napp.on('activate-with-no-open-windows', () => {\nif (!mainWindow) {\n    mainWindow = createMainWindow();\n}\n});\n\napp.on('ready', () => {\nmainWindow = createMainWindow();\n});\n```\n\nMany times, the download fails with timeouts or RangeError: length out of bounds. \nIn version 0.32.2 this never happens\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/142486745",
    "html_url": "https://github.com/electron/electron/issues/2809#issuecomment-142486745",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2809",
    "id": 142486745,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-09-23T04:22:44Z",
    "updated_at": "2015-09-23T04:22:44Z",
    "body": "Thanks for the test case, it seems that the length of Buffer becomes zero sometimes.\n"
  }
]