[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/86221076",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-86221076",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 86221076,
    "user": {
      "login": "thomasjo",
      "id": 3622,
      "avatar_url": "https://avatars0.githubusercontent.com/u/3622?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thomasjo",
      "html_url": "https://github.com/thomasjo",
      "followers_url": "https://api.github.com/users/thomasjo/followers",
      "following_url": "https://api.github.com/users/thomasjo/following{/other_user}",
      "gists_url": "https://api.github.com/users/thomasjo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thomasjo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thomasjo/subscriptions",
      "organizations_url": "https://api.github.com/users/thomasjo/orgs",
      "repos_url": "https://api.github.com/users/thomasjo/repos",
      "events_url": "https://api.github.com/users/thomasjo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thomasjo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-25T21:17:41Z",
    "updated_at": "2015-03-25T21:19:07Z",
    "body": "The current behavior is correct. In no way, shape or form is `file:///C:/default` equivalent to `file:///default`. On Windows, the drive alias (e.g. `C:`) is a crucial part of the path. It's akin to `/` (aka root). If the user has multiple drives, either physical or logical, you absolutely need the drive alias in the URI. How else would you know which drive the path belongs to?\n\nIn summary, yes your thinking is flawed. You usually need to handle Windows as a special case. \nHopefully this was somewhat helpful.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/86233151",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-86233151",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 86233151,
    "user": {
      "login": "paulcbetts",
      "id": 1396,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1396?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulcbetts",
      "html_url": "https://github.com/paulcbetts",
      "followers_url": "https://api.github.com/users/paulcbetts/followers",
      "following_url": "https://api.github.com/users/paulcbetts/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulcbetts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulcbetts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulcbetts/subscriptions",
      "organizations_url": "https://api.github.com/users/paulcbetts/orgs",
      "repos_url": "https://api.github.com/users/paulcbetts/repos",
      "events_url": "https://api.github.com/users/paulcbetts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulcbetts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-25T22:09:13Z",
    "updated_at": "2015-03-25T22:09:13Z",
    "body": "Why are you including the extra slash? Don't you want `file://C:/Default`?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/86249107",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-86249107",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 86249107,
    "user": {
      "login": "akrieger",
      "id": 667719,
      "avatar_url": "https://avatars2.githubusercontent.com/u/667719?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akrieger",
      "html_url": "https://github.com/akrieger",
      "followers_url": "https://api.github.com/users/akrieger/followers",
      "following_url": "https://api.github.com/users/akrieger/following{/other_user}",
      "gists_url": "https://api.github.com/users/akrieger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akrieger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akrieger/subscriptions",
      "organizations_url": "https://api.github.com/users/akrieger/orgs",
      "repos_url": "https://api.github.com/users/akrieger/repos",
      "events_url": "https://api.github.com/users/akrieger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akrieger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-25T23:11:36Z",
    "updated_at": "2015-03-25T23:11:36Z",
    "body": "@paulcbetts, on Windows, the full file protocol is file://hostname/drive:/path, but if it's localhost then hostname is omitted and and collapsed, resulting in a triple slash. According to wikipedia.\n\n@thomasjo, alright. It's unfortunate because these aren't meant to be paths to a local resource. Again, in my (flawed) thinking, an href of /foo means 'document foo relative to the absolute root of the domain', but 'absolute root of the domain' is an implementation detail rather than something to be exposed, when in the client context. In the renderer/browser context, sure, I can understand it there.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/86250680",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-86250680",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 86250680,
    "user": {
      "login": "akrieger",
      "id": 667719,
      "avatar_url": "https://avatars2.githubusercontent.com/u/667719?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akrieger",
      "html_url": "https://github.com/akrieger",
      "followers_url": "https://api.github.com/users/akrieger/followers",
      "following_url": "https://api.github.com/users/akrieger/following{/other_user}",
      "gists_url": "https://api.github.com/users/akrieger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akrieger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akrieger/subscriptions",
      "organizations_url": "https://api.github.com/users/akrieger/orgs",
      "repos_url": "https://api.github.com/users/akrieger/repos",
      "events_url": "https://api.github.com/users/akrieger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akrieger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-25T23:22:09Z",
    "updated_at": "2015-03-25T23:22:09Z",
    "body": "I've played around with it more and agree that your definition makes sense. It would make me happier if the drive letter wasn't automagically prepended such that querying for href returned consistent values across platforms, or that URI.getPath() would 'deal with it', but that would just move the special casing out of app code into atom code, where it suddenly becomes a magical behavior. Thanks for the explanation.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/86261857",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-86261857",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 86261857,
    "user": {
      "login": "akrieger",
      "id": 667719,
      "avatar_url": "https://avatars2.githubusercontent.com/u/667719?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akrieger",
      "html_url": "https://github.com/akrieger",
      "followers_url": "https://api.github.com/users/akrieger/followers",
      "following_url": "https://api.github.com/users/akrieger/following{/other_user}",
      "gists_url": "https://api.github.com/users/akrieger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akrieger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akrieger/subscriptions",
      "organizations_url": "https://api.github.com/users/akrieger/orgs",
      "repos_url": "https://api.github.com/users/akrieger/repos",
      "events_url": "https://api.github.com/users/akrieger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akrieger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-26T00:22:21Z",
    "updated_at": "2015-03-26T00:22:51Z",
    "body": "In the interest of following up, I decided to add a file:// protocol handler which rewrites requests to load relative to our resources directory. Then we load our root document with no drive specification (eg. mainWindow.loadUrl('file:///index.html')). This causes any clicked links to be relative to '', which results in the .href property looking like file:///foo on Windows and OSX, as we wanted.\n\nIf I run into issues with this in the future, I will obviously revisit this. But for now this works the way Iexpect and may even solve some issues we're encountering with the library rewriting history and breaking future resource loads.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/86272418",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-86272418",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 86272418,
    "user": {
      "login": "bwin",
      "id": 1673361,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1673361?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bwin",
      "html_url": "https://github.com/bwin",
      "followers_url": "https://api.github.com/users/bwin/followers",
      "following_url": "https://api.github.com/users/bwin/following{/other_user}",
      "gists_url": "https://api.github.com/users/bwin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bwin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bwin/subscriptions",
      "organizations_url": "https://api.github.com/users/bwin/orgs",
      "repos_url": "https://api.github.com/users/bwin/repos",
      "events_url": "https://api.github.com/users/bwin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bwin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-26T01:04:15Z",
    "updated_at": "2015-03-26T01:04:54Z",
    "body": "> Why are you including the extra slash? Don't you want file://C:/Default?\n\n~~@paulcbetts When the hostname is omitted, there's 3 slashes after `file:`. See http://en.wikipedia.org/wiki/File_URI_scheme~~\n\nSorry, ignore this, I wasn't done reading comments and akrieger already pointed that out...\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/86275465",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-86275465",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 86275465,
    "user": {
      "login": "bwin",
      "id": 1673361,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1673361?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bwin",
      "html_url": "https://github.com/bwin",
      "followers_url": "https://api.github.com/users/bwin/followers",
      "following_url": "https://api.github.com/users/bwin/following{/other_user}",
      "gists_url": "https://api.github.com/users/bwin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bwin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bwin/subscriptions",
      "organizations_url": "https://api.github.com/users/bwin/orgs",
      "repos_url": "https://api.github.com/users/bwin/repos",
      "events_url": "https://api.github.com/users/bwin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bwin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-26T01:11:42Z",
    "updated_at": "2015-03-26T01:11:42Z",
    "body": "@akrieger \n\n> I decided to add a file:// protocol handler which rewrites requests to load relative to our resources directory.\n\nAFAIK file-URIs are always absolute (and platform specific). Wouldn't it be better to add a new protocol for your use-case, because the meaning of file-URIs is already defined?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/86276225",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-86276225",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 86276225,
    "user": {
      "login": "paulcbetts",
      "id": 1396,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1396?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulcbetts",
      "html_url": "https://github.com/paulcbetts",
      "followers_url": "https://api.github.com/users/paulcbetts/followers",
      "following_url": "https://api.github.com/users/paulcbetts/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulcbetts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulcbetts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulcbetts/subscriptions",
      "organizations_url": "https://api.github.com/users/paulcbetts/orgs",
      "repos_url": "https://api.github.com/users/paulcbetts/repos",
      "events_url": "https://api.github.com/users/paulcbetts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulcbetts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-26T01:13:41Z",
    "updated_at": "2015-03-26T01:13:41Z",
    "body": "@akrieger Hm, that might be the spec but that doesn't line up with how people use them though, because on *nix that means you would have to write `file:////usr/bin/foo` (four slashes!) to get an absolute path, but people very often write three slashes for absolute paths\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/86282287",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-86282287",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 86282287,
    "user": {
      "login": "bwin",
      "id": 1673361,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1673361?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bwin",
      "html_url": "https://github.com/bwin",
      "followers_url": "https://api.github.com/users/bwin/followers",
      "following_url": "https://api.github.com/users/bwin/following{/other_user}",
      "gists_url": "https://api.github.com/users/bwin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bwin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bwin/subscriptions",
      "organizations_url": "https://api.github.com/users/bwin/orgs",
      "repos_url": "https://api.github.com/users/bwin/repos",
      "events_url": "https://api.github.com/users/bwin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bwin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-26T01:22:52Z",
    "updated_at": "2015-03-26T01:44:22Z",
    "body": "@paulcbetts good point about the 4 slashes. I couldn't find anything about that.\nMaybe it's because `file:///etc/fstab` is short for `file://localhost/etc/fstab` and you don't use double slashes inside the `path`, just as a protocol-separator. Because otherwise it would be `file://localhost//etc/fstab` in long-form (with host).\n\n**Edit:** Also because they are always absolute, maybe the leading slash on *nix is implied. **Edit again:** I think that's most plausible.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/86336867",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-86336867",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 86336867,
    "user": {
      "login": "akrieger",
      "id": 667719,
      "avatar_url": "https://avatars2.githubusercontent.com/u/667719?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akrieger",
      "html_url": "https://github.com/akrieger",
      "followers_url": "https://api.github.com/users/akrieger/followers",
      "following_url": "https://api.github.com/users/akrieger/following{/other_user}",
      "gists_url": "https://api.github.com/users/akrieger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akrieger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akrieger/subscriptions",
      "organizations_url": "https://api.github.com/users/akrieger/orgs",
      "repos_url": "https://api.github.com/users/akrieger/repos",
      "events_url": "https://api.github.com/users/akrieger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akrieger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-26T04:26:05Z",
    "updated_at": "2015-03-26T04:58:27Z",
    "body": "I tried adding a custom protocol. So our main.js looked like [**EDIT** put `app.on('ready', ...` first]\n\n```\napp.on('ready', function() {\n...\n  protocol.registerProtocol('custom', function(request) {\n    // Rewrite the request url to point to our assets.\n  });\n  mainWindow.loadUrl('custom:///index.html');\n});\n```\n\nThis worked at loading index.html. But, an inline <script src=\"/bundle.js\"></script> tag we had would not load. Just, at all. There were no errors, for some reason the runtime just wasn't trying to fetch bundle.js in any way shape or form.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/86337138",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-86337138",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 86337138,
    "user": {
      "login": "akrieger",
      "id": 667719,
      "avatar_url": "https://avatars2.githubusercontent.com/u/667719?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akrieger",
      "html_url": "https://github.com/akrieger",
      "followers_url": "https://api.github.com/users/akrieger/followers",
      "following_url": "https://api.github.com/users/akrieger/following{/other_user}",
      "gists_url": "https://api.github.com/users/akrieger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akrieger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akrieger/subscriptions",
      "organizations_url": "https://api.github.com/users/akrieger/orgs",
      "repos_url": "https://api.github.com/users/akrieger/repos",
      "events_url": "https://api.github.com/users/akrieger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akrieger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-26T04:28:37Z",
    "updated_at": "2015-03-26T04:28:37Z",
    "body": "```\nakrieger$ cat src/index.html\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en-US\" lang=\"en-US\">\n  <head>\n    <meta charset=\"utf-8\">\n  </head>\n  <body>\n    <div id=\"foo\"></div>\n    <script type=\"text/javascript\" src=\"/bundle.js\" charset=\"utf-8\"></script>\n  </body>\n</html>\n```\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/86337258",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-86337258",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 86337258,
    "user": {
      "login": "bwin",
      "id": 1673361,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1673361?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bwin",
      "html_url": "https://github.com/bwin",
      "followers_url": "https://api.github.com/users/bwin/followers",
      "following_url": "https://api.github.com/users/bwin/following{/other_user}",
      "gists_url": "https://api.github.com/users/bwin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bwin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bwin/subscriptions",
      "organizations_url": "https://api.github.com/users/bwin/orgs",
      "repos_url": "https://api.github.com/users/bwin/repos",
      "events_url": "https://api.github.com/users/bwin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bwin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-26T04:30:25Z",
    "updated_at": "2015-03-26T04:33:13Z",
    "body": "Could you try setting the custom protocol in the script-src?\n`<script type=\"text/javascript\" src=\"custom:///bundle.js\" charset=\"utf-8\"></script>`\n\n**Edit:**\nOr do you want to avoid this (e.g. staying protocol-relative to the document)? In that case you could try\n`<script type=\"text/javascript\" src=\"//bundle.js\" charset=\"utf-8\"></script>`\n\nThese are just thoughts, haven't tried it myself.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/86337792",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-86337792",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 86337792,
    "user": {
      "login": "akrieger",
      "id": 667719,
      "avatar_url": "https://avatars2.githubusercontent.com/u/667719?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akrieger",
      "html_url": "https://github.com/akrieger",
      "followers_url": "https://api.github.com/users/akrieger/followers",
      "following_url": "https://api.github.com/users/akrieger/following{/other_user}",
      "gists_url": "https://api.github.com/users/akrieger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akrieger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akrieger/subscriptions",
      "organizations_url": "https://api.github.com/users/akrieger/orgs",
      "repos_url": "https://api.github.com/users/akrieger/repos",
      "events_url": "https://api.github.com/users/akrieger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akrieger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-26T04:34:48Z",
    "updated_at": "2015-03-26T04:36:28Z",
    "body": "That does work. But then I would have to set the custom protocol on every single resource in my code. Every single image for example. It's... unsightly, I guess.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/86338196",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-86338196",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 86338196,
    "user": {
      "login": "akrieger",
      "id": 667719,
      "avatar_url": "https://avatars2.githubusercontent.com/u/667719?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akrieger",
      "html_url": "https://github.com/akrieger",
      "followers_url": "https://api.github.com/users/akrieger/followers",
      "following_url": "https://api.github.com/users/akrieger/following{/other_user}",
      "gists_url": "https://api.github.com/users/akrieger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akrieger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akrieger/subscriptions",
      "organizations_url": "https://api.github.com/users/akrieger/orgs",
      "repos_url": "https://api.github.com/users/akrieger/repos",
      "events_url": "https://api.github.com/users/akrieger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akrieger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-26T04:36:18Z",
    "updated_at": "2015-03-26T04:36:18Z",
    "body": "Also using the custom scheme seems to mysteriously break the app even after it loads, whereas using the same behavior but for file:// seems to equally mysteriously just work.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/86339080",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-86339080",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 86339080,
    "user": {
      "login": "bwin",
      "id": 1673361,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1673361?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bwin",
      "html_url": "https://github.com/bwin",
      "followers_url": "https://api.github.com/users/bwin/followers",
      "following_url": "https://api.github.com/users/bwin/following{/other_user}",
      "gists_url": "https://api.github.com/users/bwin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bwin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bwin/subscriptions",
      "organizations_url": "https://api.github.com/users/bwin/orgs",
      "repos_url": "https://api.github.com/users/bwin/repos",
      "events_url": "https://api.github.com/users/bwin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bwin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-26T04:39:13Z",
    "updated_at": "2015-03-26T04:39:13Z",
    "body": "Have you tried with `//`-prefixed URLs (I edited my previous comment)? Or do you dislike this, too? This is the protocol-relative way.\nIf you're still interested in this, could you describe how it breaks your app.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/86340358",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-86340358",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 86340358,
    "user": {
      "login": "akrieger",
      "id": 667719,
      "avatar_url": "https://avatars2.githubusercontent.com/u/667719?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akrieger",
      "html_url": "https://github.com/akrieger",
      "followers_url": "https://api.github.com/users/akrieger/followers",
      "following_url": "https://api.github.com/users/akrieger/following{/other_user}",
      "gists_url": "https://api.github.com/users/akrieger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akrieger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akrieger/subscriptions",
      "organizations_url": "https://api.github.com/users/akrieger/orgs",
      "repos_url": "https://api.github.com/users/akrieger/repos",
      "events_url": "https://api.github.com/users/akrieger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akrieger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-26T04:45:01Z",
    "updated_at": "2015-03-26T04:45:14Z",
    "body": "If I try `//bundle.js` and scheme `custom`, then the script does not autoload.\n\nIf I try `//bundle.js` with scheme `file`, then I get a very mysterious request url\n`file request for file://bundle.js/`\n\nThis obviously fails to load.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/86342536",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-86342536",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 86342536,
    "user": {
      "login": "akrieger",
      "id": 667719,
      "avatar_url": "https://avatars2.githubusercontent.com/u/667719?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akrieger",
      "html_url": "https://github.com/akrieger",
      "followers_url": "https://api.github.com/users/akrieger/followers",
      "following_url": "https://api.github.com/users/akrieger/following{/other_user}",
      "gists_url": "https://api.github.com/users/akrieger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akrieger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akrieger/subscriptions",
      "organizations_url": "https://api.github.com/users/akrieger/orgs",
      "repos_url": "https://api.github.com/users/akrieger/repos",
      "events_url": "https://api.github.com/users/akrieger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akrieger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-26T04:52:54Z",
    "updated_at": "2015-03-26T04:53:06Z",
    "body": "When I said 'breaks the app.' , what appears to be happening, using scheme `custom://`, loading `custom:///index.html` with `<script src=\"custom:///bundle.js\" />`, is that when clicking a link, the href is completely, totally, garbage.\n\n![screen shot 2015-03-25 at 9 50 52 pm](https://cloud.githubusercontent.com/assets/667719/6840617/489a4e5e-d339-11e4-80db-ec8af997da0a.png)\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/86342590",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-86342590",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 86342590,
    "user": {
      "login": "bwin",
      "id": 1673361,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1673361?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bwin",
      "html_url": "https://github.com/bwin",
      "followers_url": "https://api.github.com/users/bwin/followers",
      "following_url": "https://api.github.com/users/bwin/following{/other_user}",
      "gists_url": "https://api.github.com/users/bwin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bwin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bwin/subscriptions",
      "organizations_url": "https://api.github.com/users/bwin/orgs",
      "repos_url": "https://api.github.com/users/bwin/repos",
      "events_url": "https://api.github.com/users/bwin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bwin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-26T04:53:05Z",
    "updated_at": "2015-03-26T04:53:05Z",
    "body": "> This module [protocol] can only be used after the ready event was emitted.\n\nIn your example you have `registerProtocol` before `app.on('ready', ...`. Was this just in your example?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/86343531",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-86343531",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 86343531,
    "user": {
      "login": "akrieger",
      "id": 667719,
      "avatar_url": "https://avatars2.githubusercontent.com/u/667719?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akrieger",
      "html_url": "https://github.com/akrieger",
      "followers_url": "https://api.github.com/users/akrieger/followers",
      "following_url": "https://api.github.com/users/akrieger/following{/other_user}",
      "gists_url": "https://api.github.com/users/akrieger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akrieger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akrieger/subscriptions",
      "organizations_url": "https://api.github.com/users/akrieger/orgs",
      "repos_url": "https://api.github.com/users/akrieger/repos",
      "events_url": "https://api.github.com/users/akrieger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akrieger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-26T04:55:54Z",
    "updated_at": "2015-03-26T04:55:54Z",
    "body": "Even if that weren't the case, some other code appears to be attempting history rewriting. This is okay with file:// but not with custom://.\n\nI readily admit that a large part of my difficulties are stemming from my choice of libraries. I am eagerly researching alternatives.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/86343729",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-86343729",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 86343729,
    "user": {
      "login": "akrieger",
      "id": 667719,
      "avatar_url": "https://avatars2.githubusercontent.com/u/667719?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akrieger",
      "html_url": "https://github.com/akrieger",
      "followers_url": "https://api.github.com/users/akrieger/followers",
      "following_url": "https://api.github.com/users/akrieger/following{/other_user}",
      "gists_url": "https://api.github.com/users/akrieger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akrieger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akrieger/subscriptions",
      "organizations_url": "https://api.github.com/users/akrieger/orgs",
      "repos_url": "https://api.github.com/users/akrieger/repos",
      "events_url": "https://api.github.com/users/akrieger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akrieger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-26T04:56:43Z",
    "updated_at": "2015-03-26T04:56:43Z",
    "body": "@bwin oops, yes, just in my example code. All of this is executing inside `app.on('ready', ...)`.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/86345966",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-86345966",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 86345966,
    "user": {
      "login": "bwin",
      "id": 1673361,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1673361?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bwin",
      "html_url": "https://github.com/bwin",
      "followers_url": "https://api.github.com/users/bwin/followers",
      "following_url": "https://api.github.com/users/bwin/following{/other_user}",
      "gists_url": "https://api.github.com/users/bwin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bwin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bwin/subscriptions",
      "organizations_url": "https://api.github.com/users/bwin/orgs",
      "repos_url": "https://api.github.com/users/bwin/repos",
      "events_url": "https://api.github.com/users/bwin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bwin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-26T05:10:32Z",
    "updated_at": "2015-03-26T05:10:32Z",
    "body": "Ok, I'm experiencing some weird things... Tomorrow I'll look at it again. (It's late)(or early...)\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/86346187",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-86346187",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 86346187,
    "user": {
      "login": "akrieger",
      "id": 667719,
      "avatar_url": "https://avatars2.githubusercontent.com/u/667719?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akrieger",
      "html_url": "https://github.com/akrieger",
      "followers_url": "https://api.github.com/users/akrieger/followers",
      "following_url": "https://api.github.com/users/akrieger/following{/other_user}",
      "gists_url": "https://api.github.com/users/akrieger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akrieger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akrieger/subscriptions",
      "organizations_url": "https://api.github.com/users/akrieger/orgs",
      "repos_url": "https://api.github.com/users/akrieger/repos",
      "events_url": "https://api.github.com/users/akrieger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akrieger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-26T05:13:45Z",
    "updated_at": "2015-03-26T05:13:45Z",
    "body": "Thanks for looking into it! I really appreciate it.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/87758055",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-87758055",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 87758055,
    "user": {
      "login": "akrieger",
      "id": 667719,
      "avatar_url": "https://avatars2.githubusercontent.com/u/667719?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akrieger",
      "html_url": "https://github.com/akrieger",
      "followers_url": "https://api.github.com/users/akrieger/followers",
      "following_url": "https://api.github.com/users/akrieger/following{/other_user}",
      "gists_url": "https://api.github.com/users/akrieger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akrieger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akrieger/subscriptions",
      "organizations_url": "https://api.github.com/users/akrieger/orgs",
      "repos_url": "https://api.github.com/users/akrieger/repos",
      "events_url": "https://api.github.com/users/akrieger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akrieger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-30T17:19:51Z",
    "updated_at": "2015-03-30T17:19:51Z",
    "body": "@bwin should I open a separate issue about what I linked above, where I click on a link with `href=\"/search\"` but the property on the JS object returns `custom:///index.html`?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/87788213",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-87788213",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 87788213,
    "user": {
      "login": "bwin",
      "id": 1673361,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1673361?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bwin",
      "html_url": "https://github.com/bwin",
      "followers_url": "https://api.github.com/users/bwin/followers",
      "following_url": "https://api.github.com/users/bwin/following{/other_user}",
      "gists_url": "https://api.github.com/users/bwin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bwin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bwin/subscriptions",
      "organizations_url": "https://api.github.com/users/bwin/orgs",
      "repos_url": "https://api.github.com/users/bwin/repos",
      "events_url": "https://api.github.com/users/bwin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bwin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-30T18:47:27Z",
    "updated_at": "2015-03-30T18:53:39Z",
    "body": "I couldn't look into it, because some bad things happened in my private life in the last days. I'm sorry. To me, some things (about the behaviour of custom protocols) didn't make sense. Yes, it's probably best to open a new issue and see what others think about it. Again, I'm sorry to not have answered in the last days, but I won't look into it soon. Best of luck anyway.\n**Edit:** Just to clarify: not end-of-the-world bad, but bad enough to not look into GitHub issues ATM, sorry.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/87835813",
    "html_url": "https://github.com/electron/electron/issues/1298#issuecomment-87835813",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1298",
    "id": 87835813,
    "user": {
      "login": "akrieger",
      "id": 667719,
      "avatar_url": "https://avatars2.githubusercontent.com/u/667719?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akrieger",
      "html_url": "https://github.com/akrieger",
      "followers_url": "https://api.github.com/users/akrieger/followers",
      "following_url": "https://api.github.com/users/akrieger/following{/other_user}",
      "gists_url": "https://api.github.com/users/akrieger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akrieger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akrieger/subscriptions",
      "organizations_url": "https://api.github.com/users/akrieger/orgs",
      "repos_url": "https://api.github.com/users/akrieger/repos",
      "events_url": "https://api.github.com/users/akrieger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akrieger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-30T21:26:59Z",
    "updated_at": "2015-03-30T21:26:59Z",
    "body": "That's cool! I grateful you even said you'll look into a closed issue's followup questions :)\n"
  }
]