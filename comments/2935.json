[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/144270444",
    "html_url": "https://github.com/electron/electron/issues/2935#issuecomment-144270444",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2935",
    "id": 144270444,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-30T03:17:41Z",
    "updated_at": "2015-09-30T03:17:41Z",
    "body": "@etiktin i wouldnt call this regression, the behaviour is now consistent with what you get when explicitly calling `mainWindow.hide()` . And you have `mainWindow.getSize` to use in those scenario.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/144270959",
    "html_url": "https://github.com/electron/electron/issues/2935#issuecomment-144270959",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2935",
    "id": 144270959,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-09-30T03:23:00Z",
    "updated_at": "2015-09-30T03:23:00Z",
    "body": "From the [W3C draft](https://drafts.csswg.org/cssom-view/):\n\n> The outerHeight attribute must return the height of the client window. If there is no client window this attribute must return zero.\n\nIt says nothing about how it should behave when window is hidden, and it seems that Chrome treats hidden window as \"no client window\".\n\nI'm :+1: on keeping current behavior because it is how Chrome is expected to behave, and what we did was wrong.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/144438436",
    "html_url": "https://github.com/electron/electron/issues/2935#issuecomment-144438436",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2935",
    "id": 144438436,
    "user": {
      "login": "etiktin",
      "id": 4381579,
      "avatar_url": "https://avatars1.githubusercontent.com/u/4381579?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/etiktin",
      "html_url": "https://github.com/etiktin",
      "followers_url": "https://api.github.com/users/etiktin/followers",
      "following_url": "https://api.github.com/users/etiktin/following{/other_user}",
      "gists_url": "https://api.github.com/users/etiktin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/etiktin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/etiktin/subscriptions",
      "organizations_url": "https://api.github.com/users/etiktin/orgs",
      "repos_url": "https://api.github.com/users/etiktin/repos",
      "events_url": "https://api.github.com/users/etiktin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/etiktin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-30T15:00:46Z",
    "updated_at": "2015-10-01T03:03:14Z",
    "body": "Is there anything else that might be effected by this change, other than `outerHeight`, `outerWidth` and `document.hidden`?\n\nThere are scenarios when you want to run Electron without showing it and you still want it to render everything as if it was visible. Here's 2 examples that come to mind:\n- When a new BrowserWindow is created, you first see a white background until the page is loaded with your custom css. This is especially annoying if your app uses dark colors. To mitigate this issue, we start our apps hidden and show it only after it's rendered. This solution was suggested in a couple of issues. For example [here](https://github.com/atom/electron/issues/861#issuecomment-64399281). For us, when `outerHeight` and `outerWidth` are set to zero, the rendering is incorrect.\n- Electron, doesn't have a proper off screen support, so instead some projects choose to run it with `show = false`. One such project is [`Nightmare`](http://www.nightmarejs.org/), which is a browser automation library (similar to PhantomJS). It's supposed to test your web apps as if it was running in a visible browser, but now some rendering will break.\n  / cc @matthewmueller\n\n> And you have mainWindow.getSize to use in those scenario\n\nIt doesn't always return the same values as `outerHeight` and `outerWidth`. For example when running using the reconstruction code with `show = true` the outer dimensions are: 784x561\nWhen running `mainWindow.getContentSize()` I get: 784x541.\nWhen running `mainWindow.getSize()` I get: 800x600.\nSo as you can see non of the values is exactly the same.\nIn any case, even if it worked, we couldn't have changed it in all the sources, since some of them are from the web. We could have tried to fake it using `preload` script, but that only works for `window === window.top` (preload scripts don't currently run in iframes etc., see #2605). **Edit:** It also seems that `outerHeight`, `outerWidth` are set to read only.\n\nI also tried to use `web-preferences.page-visibility = true`, thinking that it might cause the page to think it's visible, but the result was the same (the dimensions were 0). Even if it had worked, I would still need some way to reset it after the initial display because of it's adverse effect on battery life.\n\nI respect wanting to confirm to the spec, but I also think we should provide a way to run an app hidden and make it think it's visible so it can render everything as expected. Some possible solutions:\n- Add a new option (or a new possible value to `show`) so we can skip the initial set as hidden which will make it act like before. This way the default behavior will confirm with the spec, but the use cases I mentioned will be able to work with minimal changes.\n- Remove the change, and instead fake `document.hidden` like the workaround mentioned [here](https://github.com/atom/electron/issues/2826#issue-107131275) (maybe add it to override.coffee).\n\nWhat do you think?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/144443006",
    "html_url": "https://github.com/electron/electron/issues/2935#issuecomment-144443006",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2935",
    "id": 144443006,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-09-30T15:16:40Z",
    "updated_at": "2015-09-30T15:16:40Z",
    "body": "@etiktin Excellent explanation, it looks quite reasonable to keep the old behavior, I'm more lean to the second solution, e.g. hacking the `document.hidden`, so we can still fix the original issue, while keeping everything else unchanged.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/144480334",
    "html_url": "https://github.com/electron/electron/issues/2935#issuecomment-144480334",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2935",
    "id": 144480334,
    "user": {
      "login": "etiktin",
      "id": 4381579,
      "avatar_url": "https://avatars1.githubusercontent.com/u/4381579?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/etiktin",
      "html_url": "https://github.com/etiktin",
      "followers_url": "https://api.github.com/users/etiktin/followers",
      "following_url": "https://api.github.com/users/etiktin/following{/other_user}",
      "gists_url": "https://api.github.com/users/etiktin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/etiktin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/etiktin/subscriptions",
      "organizations_url": "https://api.github.com/users/etiktin/orgs",
      "repos_url": "https://api.github.com/users/etiktin/repos",
      "events_url": "https://api.github.com/users/etiktin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/etiktin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-30T17:14:07Z",
    "updated_at": "2015-09-30T17:14:07Z",
    "body": "Thanks :)\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/144525137",
    "html_url": "https://github.com/electron/electron/issues/2935#issuecomment-144525137",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2935",
    "id": 144525137,
    "user": {
      "login": "benmkramer",
      "id": 2603478,
      "avatar_url": "https://avatars3.githubusercontent.com/u/2603478?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benmkramer",
      "html_url": "https://github.com/benmkramer",
      "followers_url": "https://api.github.com/users/benmkramer/followers",
      "following_url": "https://api.github.com/users/benmkramer/following{/other_user}",
      "gists_url": "https://api.github.com/users/benmkramer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benmkramer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benmkramer/subscriptions",
      "organizations_url": "https://api.github.com/users/benmkramer/orgs",
      "repos_url": "https://api.github.com/users/benmkramer/repos",
      "events_url": "https://api.github.com/users/benmkramer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benmkramer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-30T20:06:22Z",
    "updated_at": "2015-09-30T20:06:33Z",
    "body": "I'm working on a project doing similar work in a hidden background window that I need to be hidden, but needs to think it is visible for rendering purposes.\n\nI am using 0.33.1 for the time being, as it still seems to work at that version.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/144605518",
    "html_url": "https://github.com/electron/electron/issues/2935#issuecomment-144605518",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2935",
    "id": 144605518,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-01T03:23:09Z",
    "updated_at": "2015-10-01T03:23:09Z",
    "body": "@etiktin thanks for explaining :) \n\n> Remove the change, and instead fake document.hidden like the workaround mentioned here (maybe add it to override.coffee).\n\n:+1: \n"
  }
]