[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/195883559",
    "html_url": "https://github.com/electron/electron/issues/4767#issuecomment-195883559",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4767",
    "id": 195883559,
    "user": {
      "login": "Darkle",
      "id": 6868833,
      "avatar_url": "https://avatars1.githubusercontent.com/u/6868833?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Darkle",
      "html_url": "https://github.com/Darkle",
      "followers_url": "https://api.github.com/users/Darkle/followers",
      "following_url": "https://api.github.com/users/Darkle/following{/other_user}",
      "gists_url": "https://api.github.com/users/Darkle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Darkle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Darkle/subscriptions",
      "organizations_url": "https://api.github.com/users/Darkle/orgs",
      "repos_url": "https://api.github.com/users/Darkle/repos",
      "events_url": "https://api.github.com/users/Darkle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Darkle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-13T05:38:14Z",
    "updated_at": "2016-03-13T05:38:26Z",
    "body": "I'm getting the same with:\nelectron 0.37.1\nnode 5.1.1\nOSX 10.11.3\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/195918667",
    "html_url": "https://github.com/electron/electron/issues/4767#issuecomment-195918667",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4767",
    "id": 195918667,
    "user": {
      "login": "whphhg",
      "id": 12498154,
      "avatar_url": "https://avatars2.githubusercontent.com/u/12498154?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/whphhg",
      "html_url": "https://github.com/whphhg",
      "followers_url": "https://api.github.com/users/whphhg/followers",
      "following_url": "https://api.github.com/users/whphhg/following{/other_user}",
      "gists_url": "https://api.github.com/users/whphhg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/whphhg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/whphhg/subscriptions",
      "organizations_url": "https://api.github.com/users/whphhg/orgs",
      "repos_url": "https://api.github.com/users/whphhg/repos",
      "events_url": "https://api.github.com/users/whphhg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/whphhg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-13T08:57:00Z",
    "updated_at": "2016-03-13T08:57:00Z",
    "body": "Tried with 0.37.1 now, issue persists.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/195919406",
    "html_url": "https://github.com/electron/electron/issues/4767#issuecomment-195919406",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4767",
    "id": 195919406,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-03-13T09:12:59Z",
    "updated_at": "2016-03-13T09:12:59Z",
    "body": "I'm unable to reproduce with the default app, can you provide a reproducible example?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/195935611",
    "html_url": "https://github.com/electron/electron/issues/4767#issuecomment-195935611",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4767",
    "id": 195935611,
    "user": {
      "login": "whphhg",
      "id": 12498154,
      "avatar_url": "https://avatars2.githubusercontent.com/u/12498154?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/whphhg",
      "html_url": "https://github.com/whphhg",
      "followers_url": "https://api.github.com/users/whphhg/followers",
      "following_url": "https://api.github.com/users/whphhg/following{/other_user}",
      "gists_url": "https://api.github.com/users/whphhg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/whphhg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/whphhg/subscriptions",
      "organizations_url": "https://api.github.com/users/whphhg/orgs",
      "repos_url": "https://api.github.com/users/whphhg/repos",
      "events_url": "https://api.github.com/users/whphhg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/whphhg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-13T11:01:55Z",
    "updated_at": "2016-03-13T22:32:38Z",
    "body": "[Here's](https://github.com/whphhg/atom-electron-issue-4767-example) a reproducible example. To make sure it happens every time, click through devtools tabs and exit.\n\nelectron-compile is at 2.0.7 due to https://github.com/electronjs/electron-compile/issues/73, but behaviour persits if you update it to 2.1.2.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/196044486",
    "html_url": "https://github.com/electron/electron/issues/4767#issuecomment-196044486",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4767",
    "id": 196044486,
    "user": {
      "login": "bbondy",
      "id": 831718,
      "avatar_url": "https://avatars1.githubusercontent.com/u/831718?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bbondy",
      "html_url": "https://github.com/bbondy",
      "followers_url": "https://api.github.com/users/bbondy/followers",
      "following_url": "https://api.github.com/users/bbondy/following{/other_user}",
      "gists_url": "https://api.github.com/users/bbondy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bbondy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bbondy/subscriptions",
      "organizations_url": "https://api.github.com/users/bbondy/orgs",
      "repos_url": "https://api.github.com/users/bbondy/repos",
      "events_url": "https://api.github.com/users/bbondy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bbondy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-13T20:09:32Z",
    "updated_at": "2016-03-13T20:09:32Z",
    "body": "Brave's electron is also hanging on app quit as well.   It's not the same sample program as above but probably the same issue.  The hang happens after all shutdown operations work fine.  Particularly on the marked line of code below when freeing the js-env. \n\n```\nvoid AtomBrowserMainParts::PostMainMessageLoopRun() {\n  brightray::BrowserMainParts::PostMainMessageLoopRun();\n\n#if defined(OS_MACOSX)\n  FreeAppDelegate();\n#endif\n\n  // Make sure destruction callbacks are called before message loop is\n  // destroyed, otherwise some objects that need to be deleted on IO thread\n  // won't be freed.\n  // We don't use ranged for loop because iterators are getting invalided when\n  // the callback runs.\n  for (auto iter = destructors_.begin(); iter != destructors_.end();) {\n    base::Closure& callback = *iter;\n    ++iter;\n    callback.Run();\n  }\n\n  // Destroy JavaScript environment immediately after running destruction\n  // callbacks.\n  gc_timer_.Stop();\n  node_debugger_.reset();\n  atom_bindings_.reset();\n  node_bindings_.reset();\n  js_env_.reset(); <------ hangs here when the pointer is freed.\n}\n```\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/196044533",
    "html_url": "https://github.com/electron/electron/issues/4767#issuecomment-196044533",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4767",
    "id": 196044533,
    "user": {
      "login": "bbondy",
      "id": 831718,
      "avatar_url": "https://avatars1.githubusercontent.com/u/831718?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bbondy",
      "html_url": "https://github.com/bbondy",
      "followers_url": "https://api.github.com/users/bbondy/followers",
      "following_url": "https://api.github.com/users/bbondy/following{/other_user}",
      "gists_url": "https://api.github.com/users/bbondy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bbondy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bbondy/subscriptions",
      "organizations_url": "https://api.github.com/users/bbondy/orgs",
      "repos_url": "https://api.github.com/users/bbondy/repos",
      "events_url": "https://api.github.com/users/bbondy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bbondy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-13T20:10:15Z",
    "updated_at": "2016-03-13T20:10:15Z",
    "body": "Maybe the node submodule needs to be updated \n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/196080801",
    "html_url": "https://github.com/electron/electron/issues/4767#issuecomment-196080801",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4767",
    "id": 196080801,
    "user": {
      "login": "paulcbetts",
      "id": 1396,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1396?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulcbetts",
      "html_url": "https://github.com/paulcbetts",
      "followers_url": "https://api.github.com/users/paulcbetts/followers",
      "following_url": "https://api.github.com/users/paulcbetts/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulcbetts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulcbetts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulcbetts/subscriptions",
      "organizations_url": "https://api.github.com/users/paulcbetts/orgs",
      "repos_url": "https://api.github.com/users/paulcbetts/repos",
      "events_url": "https://api.github.com/users/paulcbetts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulcbetts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-13T23:27:47Z",
    "updated_at": "2016-03-13T23:27:47Z",
    "body": "Yep, we're seeing this too in the Slack app on 0.37.1\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/196085531",
    "html_url": "https://github.com/electron/electron/issues/4767#issuecomment-196085531",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4767",
    "id": 196085531,
    "user": {
      "login": "bbondy",
      "id": 831718,
      "avatar_url": "https://avatars1.githubusercontent.com/u/831718?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bbondy",
      "html_url": "https://github.com/bbondy",
      "followers_url": "https://api.github.com/users/bbondy/followers",
      "following_url": "https://api.github.com/users/bbondy/following{/other_user}",
      "gists_url": "https://api.github.com/users/bbondy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bbondy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bbondy/subscriptions",
      "organizations_url": "https://api.github.com/users/bbondy/orgs",
      "repos_url": "https://api.github.com/users/bbondy/repos",
      "events_url": "https://api.github.com/users/bbondy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bbondy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-13T23:56:16Z",
    "updated_at": "2016-03-13T23:56:16Z",
    "body": "I'm guessing upgrading the node submodule to V8 4.9 will fix this.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/196098787",
    "html_url": "https://github.com/electron/electron/issues/4767#issuecomment-196098787",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4767",
    "id": 196098787,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-03-14T01:35:02Z",
    "updated_at": "2016-03-14T01:35:02Z",
    "body": "There was [a change in V8](https://chromium.googlesource.com/v8/v8/+/60e7ea8a9970f5a08c14a0aa052c099ac4ea4c08) that makes the main thread waiting for background threads to finish when quitting, it seems that we are not shutting down V8 correctly.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/196680812",
    "html_url": "https://github.com/electron/electron/issues/4767#issuecomment-196680812",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4767",
    "id": 196680812,
    "user": {
      "login": "bbondy",
      "id": 831718,
      "avatar_url": "https://avatars1.githubusercontent.com/u/831718?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bbondy",
      "html_url": "https://github.com/bbondy",
      "followers_url": "https://api.github.com/users/bbondy/followers",
      "following_url": "https://api.github.com/users/bbondy/following{/other_user}",
      "gists_url": "https://api.github.com/users/bbondy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bbondy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bbondy/subscriptions",
      "organizations_url": "https://api.github.com/users/bbondy/orgs",
      "repos_url": "https://api.github.com/users/bbondy/repos",
      "events_url": "https://api.github.com/users/bbondy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bbondy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-15T06:15:03Z",
    "updated_at": "2016-03-15T06:15:03Z",
    "body": "I upgrade the Bave fork of node to 5.8 and was able to revert this shutdown fix.\nI did have to revert https://github.com/brave/node/commit/05134726ca2c42b0332db4eacd043775b2148a4c because it was causing dev tools not to work (found by bisecting).\n"
  }
]