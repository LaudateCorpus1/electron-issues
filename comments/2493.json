[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/130595842",
    "html_url": "https://github.com/electron/electron/issues/2493#issuecomment-130595842",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2493",
    "id": 130595842,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-13T09:52:46Z",
    "updated_at": "2015-08-13T09:52:46Z",
    "body": "the situation is two independent browser context operating on same storage partition path, these race conditions are to happen. You need to set a different user data path for the new instance.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/130604473",
    "html_url": "https://github.com/electron/electron/issues/2493#issuecomment-130604473",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2493",
    "id": 130604473,
    "user": {
      "login": "duanyao",
      "id": 1684137,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1684137?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/duanyao",
      "html_url": "https://github.com/duanyao",
      "followers_url": "https://api.github.com/users/duanyao/followers",
      "following_url": "https://api.github.com/users/duanyao/following{/other_user}",
      "gists_url": "https://api.github.com/users/duanyao/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/duanyao/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/duanyao/subscriptions",
      "organizations_url": "https://api.github.com/users/duanyao/orgs",
      "repos_url": "https://api.github.com/users/duanyao/repos",
      "events_url": "https://api.github.com/users/duanyao/events{/privacy}",
      "received_events_url": "https://api.github.com/users/duanyao/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-13T10:22:35Z",
    "updated_at": "2015-08-13T10:22:35Z",
    "body": "@deepak1556 Note that this issue is about multiple instances of a **same** electron app, so the user data path must be the same for those instances.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/131216836",
    "html_url": "https://github.com/electron/electron/issues/2493#issuecomment-131216836",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2493",
    "id": 131216836,
    "user": {
      "login": "etiktin",
      "id": 4381579,
      "avatar_url": "https://avatars1.githubusercontent.com/u/4381579?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/etiktin",
      "html_url": "https://github.com/etiktin",
      "followers_url": "https://api.github.com/users/etiktin/followers",
      "following_url": "https://api.github.com/users/etiktin/following{/other_user}",
      "gists_url": "https://api.github.com/users/etiktin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/etiktin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/etiktin/subscriptions",
      "organizations_url": "https://api.github.com/users/etiktin/orgs",
      "repos_url": "https://api.github.com/users/etiktin/repos",
      "events_url": "https://api.github.com/users/etiktin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/etiktin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-14T19:39:58Z",
    "updated_at": "2015-08-14T19:39:58Z",
    "body": "One possible way to overcome this (while a real solution is being worked on), is to modify your app in the following manner:\nWhen the application loads, it checks if there's another instance. If there isn't it loads the business logic. If there is, it will notify the other instance and exit. The other instance will open a new window for your app so it will appear like you have 2 instances running. The underline assumption here is that the issue doesn't happen in 2 windows generated from the same main process. This way you should be able to bypass the persistency issues, but it will complicate the main process.\n\nRegarding the following:\n\n> If two instances make changes to a same key, the last change win (becomes persistent) after all of them exit.\n\nThe fact that that the change is written when they exit, is a problem. But the last change wins, isn't (that's exactly how localStorage is designed to work). \n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/131261598",
    "html_url": "https://github.com/electron/electron/issues/2493#issuecomment-131261598",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2493",
    "id": 131261598,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-14T22:42:12Z",
    "updated_at": "2015-08-14T22:42:12Z",
    "body": "@duanyao sorry i suggested it as solution for `Electron` prohibitng multiple instances, i believe it should be left to app developers if they should allow multiple instances. The limiting factor for these storage api usage in multiple instances is because of the backend they rely on , for one indexdb, file system cant be used as leveldb has this [issue](https://groups.google.com/forum/#!topic/leveldb/7WyCMZ3egOo) . And localstorage is a real [racy api](https://www.chromium.org/developers/design-documents/indexeddb/indexeddbbackup)  (no storage mutex implementation). I am not sure if these can be patched in Electron.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/131287079",
    "html_url": "https://github.com/electron/electron/issues/2493#issuecomment-131287079",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2493",
    "id": 131287079,
    "user": {
      "login": "duanyao",
      "id": 1684137,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1684137?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/duanyao",
      "html_url": "https://github.com/duanyao",
      "followers_url": "https://api.github.com/users/duanyao/followers",
      "following_url": "https://api.github.com/users/duanyao/following{/other_user}",
      "gists_url": "https://api.github.com/users/duanyao/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/duanyao/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/duanyao/subscriptions",
      "organizations_url": "https://api.github.com/users/duanyao/orgs",
      "repos_url": "https://api.github.com/users/duanyao/repos",
      "events_url": "https://api.github.com/users/duanyao/events{/privacy}",
      "received_events_url": "https://api.github.com/users/duanyao/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-15T03:20:34Z",
    "updated_at": "2015-08-15T03:20:34Z",
    "body": "@etiktin \n\n> When the application loads, it checks if there's another instance. If there isn't it loads the business logic. If there is, it will notify the other instance and exit. The other instance will open a new window for your app so it will appear like you have 2 instances running. \n\nYeah, this is what I'm doing now. If this is the only way to safely use localStorage etc. in Electron, shouldn't Electron make it default, or at least provides a API/config option to do so? However in #648, Electron team asked developers to do it themselves, which made me thought that multi-instance mode is safe and supported.\n\n> But the last change wins, isn't (that's exactly how localStorage is designed to work).\n\nYes, but other instances can't see the change and just assumes they have won (imaging a text editor which saves files in localStorage). If Electron can't make localStorage work as expected in multi-instance mode, I think it's better to make localStorage's API throw for following instances.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/131287369",
    "html_url": "https://github.com/electron/electron/issues/2493#issuecomment-131287369",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2493",
    "id": 131287369,
    "user": {
      "login": "duanyao",
      "id": 1684137,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1684137?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/duanyao",
      "html_url": "https://github.com/duanyao",
      "followers_url": "https://api.github.com/users/duanyao/followers",
      "following_url": "https://api.github.com/users/duanyao/following{/other_user}",
      "gists_url": "https://api.github.com/users/duanyao/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/duanyao/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/duanyao/subscriptions",
      "organizations_url": "https://api.github.com/users/duanyao/orgs",
      "repos_url": "https://api.github.com/users/duanyao/repos",
      "events_url": "https://api.github.com/users/duanyao/events{/privacy}",
      "received_events_url": "https://api.github.com/users/duanyao/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-15T03:29:35Z",
    "updated_at": "2015-08-15T03:29:35Z",
    "body": "@deepak1556 Thanks for the explanation. If there are implementation limitation in chomium, I think it is better for Electron to fail nosily when multiple instances are trying to access these storage APIs.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/169353764",
    "html_url": "https://github.com/electron/electron/issues/2493#issuecomment-169353764",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2493",
    "id": 169353764,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-01-06T15:21:06Z",
    "updated_at": "2016-01-06T15:21:06Z",
    "body": "I'm closing this won't fix, localStorage is simply not designed to be used by two instances together.\n"
  }
]