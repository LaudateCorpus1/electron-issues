[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/148029088",
    "html_url": "https://github.com/electron/electron/issues/3081#issuecomment-148029088",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3081",
    "id": 148029088,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-10-14T12:06:40Z",
    "updated_at": "2015-10-14T12:06:40Z",
    "body": "You can override the `Notification` function in `preload` script to do whatever you want when a notification shows.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/148029749",
    "html_url": "https://github.com/electron/electron/issues/3081#issuecomment-148029749",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3081",
    "id": 148029749,
    "user": {
      "login": "IdanAdar",
      "id": 7255583,
      "avatar_url": "https://avatars3.githubusercontent.com/u/7255583?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/IdanAdar",
      "html_url": "https://github.com/IdanAdar",
      "followers_url": "https://api.github.com/users/IdanAdar/followers",
      "following_url": "https://api.github.com/users/IdanAdar/following{/other_user}",
      "gists_url": "https://api.github.com/users/IdanAdar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/IdanAdar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/IdanAdar/subscriptions",
      "organizations_url": "https://api.github.com/users/IdanAdar/orgs",
      "repos_url": "https://api.github.com/users/IdanAdar/repos",
      "events_url": "https://api.github.com/users/IdanAdar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/IdanAdar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-14T12:10:01Z",
    "updated_at": "2015-10-14T12:16:06Z",
    "body": "What is the \"preload script\"? I do not see it in my project structure.\n\nI have:\n- icons\n- main.js\n- package.json\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/148030555",
    "html_url": "https://github.com/electron/electron/issues/3081#issuecomment-148030555",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3081",
    "id": 148030555,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-10-14T12:15:06Z",
    "updated_at": "2015-10-14T12:15:06Z",
    "body": "There is a `preload` attribute in `web-preferences` option:\nhttp://electron.atom.io/docs/v0.33.0/api/browser-window/#new-browserwindow-options\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/148036332",
    "html_url": "https://github.com/electron/electron/issues/3081#issuecomment-148036332",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3081",
    "id": 148036332,
    "user": {
      "login": "IdanAdar",
      "id": 7255583,
      "avatar_url": "https://avatars3.githubusercontent.com/u/7255583?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/IdanAdar",
      "html_url": "https://github.com/IdanAdar",
      "followers_url": "https://api.github.com/users/IdanAdar/followers",
      "following_url": "https://api.github.com/users/IdanAdar/following{/other_user}",
      "gists_url": "https://api.github.com/users/IdanAdar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/IdanAdar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/IdanAdar/subscriptions",
      "organizations_url": "https://api.github.com/users/IdanAdar/orgs",
      "repos_url": "https://api.github.com/users/IdanAdar/repos",
      "events_url": "https://api.github.com/users/IdanAdar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/IdanAdar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-14T12:36:24Z",
    "updated_at": "2015-10-14T12:39:29Z",
    "body": "Hmm... no joy. Is there anything in particular to do in my case?\n\n```\napp.on('ready', function() {\nmainWindow = new BrowserWindow({width: 1500, height: 1024, \"web-preferences\": {preload: \"/custom.js\" }});\n\nmainWindow.loadUrl('some URL');\n...\n...\n```\n\nI'm getting the following error:\n\n> Unable to load preload script /custom.js(anonymous function) @ /usr/local/lib/node_modules/electron-prebuilt/dist/Electron.app/Contents/Resources/atom.asar/render…:94(anonymous function) @ /usr/local/lib/node_modules/electron-prebuilt/dist/Electron.app/Contents/Resources/atom.asar/render…:102Module._compile @ module.js:434Module._extensions..js @ module.js:452Module.load @ module.js:355Module._load @ module.js:310Module.runMain @ module.js:475startup @ node.js:129(anonymous function) @ node.js:981\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/148040150",
    "html_url": "https://github.com/electron/electron/issues/3081#issuecomment-148040150",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3081",
    "id": 148040150,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-10-14T12:49:39Z",
    "updated_at": "2015-10-14T12:49:39Z",
    "body": "As documented:\n\n> the path of preload script has to be absolute path.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/148040762",
    "html_url": "https://github.com/electron/electron/issues/3081#issuecomment-148040762",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3081",
    "id": 148040762,
    "user": {
      "login": "IdanAdar",
      "id": 7255583,
      "avatar_url": "https://avatars3.githubusercontent.com/u/7255583?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/IdanAdar",
      "html_url": "https://github.com/IdanAdar",
      "followers_url": "https://api.github.com/users/IdanAdar/followers",
      "following_url": "https://api.github.com/users/IdanAdar/following{/other_user}",
      "gists_url": "https://api.github.com/users/IdanAdar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/IdanAdar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/IdanAdar/subscriptions",
      "organizations_url": "https://api.github.com/users/IdanAdar/orgs",
      "repos_url": "https://api.github.com/users/IdanAdar/repos",
      "events_url": "https://api.github.com/users/IdanAdar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/IdanAdar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-14T12:52:33Z",
    "updated_at": "2015-10-14T12:53:08Z",
    "body": "loadUrl is a remote URL (a website), whereas custom.js is a local file (next to main.js), so what are you referring to in \"absolute URL\"? Can you provide an example please?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/148042633",
    "html_url": "https://github.com/electron/electron/issues/3081#issuecomment-148042633",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3081",
    "id": 148042633,
    "user": {
      "login": "etiktin",
      "id": 4381579,
      "avatar_url": "https://avatars1.githubusercontent.com/u/4381579?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/etiktin",
      "html_url": "https://github.com/etiktin",
      "followers_url": "https://api.github.com/users/etiktin/followers",
      "following_url": "https://api.github.com/users/etiktin/following{/other_user}",
      "gists_url": "https://api.github.com/users/etiktin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/etiktin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/etiktin/subscriptions",
      "organizations_url": "https://api.github.com/users/etiktin/orgs",
      "repos_url": "https://api.github.com/users/etiktin/repos",
      "events_url": "https://api.github.com/users/etiktin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/etiktin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-14T13:01:49Z",
    "updated_at": "2015-10-14T13:01:49Z",
    "body": "It means it needs to be the absolute _file_ path. For example `c:\\foo\\preload.js` on Windows, or `/foo/preload.js` on POSIX. You can use node.js built-in `path` module to resolve a relative path to a full path.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/148043123",
    "html_url": "https://github.com/electron/electron/issues/3081#issuecomment-148043123",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3081",
    "id": 148043123,
    "user": {
      "login": "nasht00",
      "id": 329834,
      "avatar_url": "https://avatars3.githubusercontent.com/u/329834?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nasht00",
      "html_url": "https://github.com/nasht00",
      "followers_url": "https://api.github.com/users/nasht00/followers",
      "following_url": "https://api.github.com/users/nasht00/following{/other_user}",
      "gists_url": "https://api.github.com/users/nasht00/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nasht00/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nasht00/subscriptions",
      "organizations_url": "https://api.github.com/users/nasht00/orgs",
      "repos_url": "https://api.github.com/users/nasht00/repos",
      "events_url": "https://api.github.com/users/nasht00/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nasht00/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-14T13:04:07Z",
    "updated_at": "2015-10-14T13:04:38Z",
    "body": "Well I obviously would not want to hardcode a path specific to my machine.\nCan you give an example?\nIt's pretty basic, say I have a file called custom.js at the root of my electron app.\nThe same level as my main.js.\n\nHow would I refer to this file? So it would work for everyone.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/148043586",
    "html_url": "https://github.com/electron/electron/issues/3081#issuecomment-148043586",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3081",
    "id": 148043586,
    "user": {
      "login": "sbruchmann",
      "id": 141435,
      "avatar_url": "https://avatars1.githubusercontent.com/u/141435?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sbruchmann",
      "html_url": "https://github.com/sbruchmann",
      "followers_url": "https://api.github.com/users/sbruchmann/followers",
      "following_url": "https://api.github.com/users/sbruchmann/following{/other_user}",
      "gists_url": "https://api.github.com/users/sbruchmann/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sbruchmann/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sbruchmann/subscriptions",
      "organizations_url": "https://api.github.com/users/sbruchmann/orgs",
      "repos_url": "https://api.github.com/users/sbruchmann/repos",
      "events_url": "https://api.github.com/users/sbruchmann/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sbruchmann/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-14T13:06:16Z",
    "updated_at": "2015-10-14T13:06:16Z",
    "body": "@nasht00 You are looking for `path.resolve(__dirname, 'custom.js')`. See [docs](https://nodejs.org/docs/latest/api/path.html#path_path_resolve_from_to).\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/148044588",
    "html_url": "https://github.com/electron/electron/issues/3081#issuecomment-148044588",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3081",
    "id": 148044588,
    "user": {
      "login": "nasht00",
      "id": 329834,
      "avatar_url": "https://avatars3.githubusercontent.com/u/329834?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nasht00",
      "html_url": "https://github.com/nasht00",
      "followers_url": "https://api.github.com/users/nasht00/followers",
      "following_url": "https://api.github.com/users/nasht00/following{/other_user}",
      "gists_url": "https://api.github.com/users/nasht00/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nasht00/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nasht00/subscriptions",
      "organizations_url": "https://api.github.com/users/nasht00/orgs",
      "repos_url": "https://api.github.com/users/nasht00/repos",
      "events_url": "https://api.github.com/users/nasht00/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nasht00/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-14T13:10:39Z",
    "updated_at": "2015-10-14T13:10:39Z",
    "body": "Thank you, that was it!\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/148046376",
    "html_url": "https://github.com/electron/electron/issues/3081#issuecomment-148046376",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3081",
    "id": 148046376,
    "user": {
      "login": "IdanAdar",
      "id": 7255583,
      "avatar_url": "https://avatars3.githubusercontent.com/u/7255583?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/IdanAdar",
      "html_url": "https://github.com/IdanAdar",
      "followers_url": "https://api.github.com/users/IdanAdar/followers",
      "following_url": "https://api.github.com/users/IdanAdar/following{/other_user}",
      "gists_url": "https://api.github.com/users/IdanAdar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/IdanAdar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/IdanAdar/subscriptions",
      "organizations_url": "https://api.github.com/users/IdanAdar/orgs",
      "repos_url": "https://api.github.com/users/IdanAdar/repos",
      "events_url": "https://api.github.com/users/IdanAdar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/IdanAdar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-14T13:16:31Z",
    "updated_at": "2015-10-14T13:16:31Z",
    "body": "Thank you sbruchmann.\n\nJust to clarify the original intent of this issue: the remote URL that is loaded outputs desktop notifications in OS X. We would like to capture these in order to add a badge to the Electron-based app.\n\nzcbenz suggested to override the Notification function in a preloaded script.\nDoes this mean to actually create our own instance of Notification() per https://developer.mozilla.org/en/docs/Web/API/notification?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/148086448",
    "html_url": "https://github.com/electron/electron/issues/3081#issuecomment-148086448",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3081",
    "id": 148086448,
    "user": {
      "login": "IdanAdar",
      "id": 7255583,
      "avatar_url": "https://avatars3.githubusercontent.com/u/7255583?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/IdanAdar",
      "html_url": "https://github.com/IdanAdar",
      "followers_url": "https://api.github.com/users/IdanAdar/followers",
      "following_url": "https://api.github.com/users/IdanAdar/following{/other_user}",
      "gists_url": "https://api.github.com/users/IdanAdar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/IdanAdar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/IdanAdar/subscriptions",
      "organizations_url": "https://api.github.com/users/IdanAdar/orgs",
      "repos_url": "https://api.github.com/users/IdanAdar/repos",
      "events_url": "https://api.github.com/users/IdanAdar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/IdanAdar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-14T15:29:37Z",
    "updated_at": "2015-10-14T15:29:37Z",
    "body": "Solved by using this: https://github.com/atom/electron/issues/1803\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/148289584",
    "html_url": "https://github.com/electron/electron/issues/3081#issuecomment-148289584",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3081",
    "id": 148289584,
    "user": {
      "login": "nasht00",
      "id": 329834,
      "avatar_url": "https://avatars3.githubusercontent.com/u/329834?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nasht00",
      "html_url": "https://github.com/nasht00",
      "followers_url": "https://api.github.com/users/nasht00/followers",
      "following_url": "https://api.github.com/users/nasht00/following{/other_user}",
      "gists_url": "https://api.github.com/users/nasht00/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nasht00/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nasht00/subscriptions",
      "organizations_url": "https://api.github.com/users/nasht00/orgs",
      "repos_url": "https://api.github.com/users/nasht00/repos",
      "events_url": "https://api.github.com/users/nasht00/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nasht00/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-15T05:53:30Z",
    "updated_at": "2015-10-15T05:56:38Z",
    "body": "@sbruchmann \nEverything was working fine, until we used `electron-packager` and now the preload does not load at all.\n\nNevermind, it looks to be a version issue. I was packaging with v31, and with v33 it works.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/237049083",
    "html_url": "https://github.com/electron/electron/issues/3081#issuecomment-237049083",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3081",
    "id": 237049083,
    "user": {
      "login": "akashnimare",
      "id": 2263909,
      "avatar_url": "https://avatars3.githubusercontent.com/u/2263909?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akashnimare",
      "html_url": "https://github.com/akashnimare",
      "followers_url": "https://api.github.com/users/akashnimare/followers",
      "following_url": "https://api.github.com/users/akashnimare/following{/other_user}",
      "gists_url": "https://api.github.com/users/akashnimare/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akashnimare/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akashnimare/subscriptions",
      "organizations_url": "https://api.github.com/users/akashnimare/orgs",
      "repos_url": "https://api.github.com/users/akashnimare/repos",
      "events_url": "https://api.github.com/users/akashnimare/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akashnimare/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-02T21:25:22Z",
    "updated_at": "2016-08-02T21:25:22Z",
    "body": "@IdanAdar How did you override the native notifications?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/279238075",
    "html_url": "https://github.com/electron/electron/issues/3081#issuecomment-279238075",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3081",
    "id": 279238075,
    "user": {
      "login": "quanglam2807",
      "id": 1548835,
      "avatar_url": "https://avatars0.githubusercontent.com/u/1548835?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/quanglam2807",
      "html_url": "https://github.com/quanglam2807",
      "followers_url": "https://api.github.com/users/quanglam2807/followers",
      "following_url": "https://api.github.com/users/quanglam2807/following{/other_user}",
      "gists_url": "https://api.github.com/users/quanglam2807/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/quanglam2807/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/quanglam2807/subscriptions",
      "organizations_url": "https://api.github.com/users/quanglam2807/orgs",
      "repos_url": "https://api.github.com/users/quanglam2807/repos",
      "events_url": "https://api.github.com/users/quanglam2807/events{/privacy}",
      "received_events_url": "https://api.github.com/users/quanglam2807/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-12T18:34:35Z",
    "updated_at": "2017-02-12T18:34:35Z",
    "body": "@IdanAdar I have similar question with @akashnimare. Please help."
  }
]