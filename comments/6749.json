[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/238021889",
    "html_url": "https://github.com/electron/electron/issues/6749#issuecomment-238021889",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6749",
    "id": 238021889,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-06T12:50:15Z",
    "updated_at": "2016-08-06T12:50:15Z",
    "body": "`uploadData` will contain form data, the problem here is usage of `xhr` which explicitly only constructs post data for http(s) scheme in [blink](https://cs.chromium.org/chromium/src/third_party/WebKit/Source/core/xmlhttprequest/XMLHttpRequest.cpp?l=681). Instead you can use fetch api and things should work fine.\n\n@zcbenz should we add CORS enabling WebSecurityPolicy to `WebFrame::RegisterURLSchemeAsPrivileged` ?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/238022992",
    "html_url": "https://github.com/electron/electron/issues/6749#issuecomment-238022992",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6749",
    "id": 238022992,
    "user": {
      "login": "cuixiping",
      "id": 1104492,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1104492?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cuixiping",
      "html_url": "https://github.com/cuixiping",
      "followers_url": "https://api.github.com/users/cuixiping/followers",
      "following_url": "https://api.github.com/users/cuixiping/following{/other_user}",
      "gists_url": "https://api.github.com/users/cuixiping/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cuixiping/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cuixiping/subscriptions",
      "organizations_url": "https://api.github.com/users/cuixiping/orgs",
      "repos_url": "https://api.github.com/users/cuixiping/repos",
      "events_url": "https://api.github.com/users/cuixiping/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cuixiping/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-06T13:19:33Z",
    "updated_at": "2016-08-06T13:19:33Z",
    "body": "fetch api only receive \"https\" and \"http\" scheme. \n\nIf fetch a custom scheme url, one of the 2 errors will occur: \n- URL scheme \"app\" is not supported.\n- URL scheme must be \"http\" or \"https\" for CORS request.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/238023155",
    "html_url": "https://github.com/electron/electron/issues/6749#issuecomment-238023155",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6749",
    "id": 238023155,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-06T13:24:21Z",
    "updated_at": "2016-08-06T13:24:21Z",
    "body": "Use [webFrame.registerURLSchemeAsPrivileged](https://github.com/electron/electron/blob/master/docs/api/web-frame.md#webframeregisterurlschemeasprivilegedscheme) for fetch api to support the scheme. Although if you are trying to send CORS request it will error at the moment.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/238025687",
    "html_url": "https://github.com/electron/electron/issues/6749#issuecomment-238025687",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6749",
    "id": 238025687,
    "user": {
      "login": "cuixiping",
      "id": 1104492,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1104492?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cuixiping",
      "html_url": "https://github.com/cuixiping",
      "followers_url": "https://api.github.com/users/cuixiping/followers",
      "following_url": "https://api.github.com/users/cuixiping/following{/other_user}",
      "gists_url": "https://api.github.com/users/cuixiping/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cuixiping/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cuixiping/subscriptions",
      "organizations_url": "https://api.github.com/users/cuixiping/orgs",
      "repos_url": "https://api.github.com/users/cuixiping/repos",
      "events_url": "https://api.github.com/users/cuixiping/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cuixiping/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-06T14:25:11Z",
    "updated_at": "2016-08-06T14:25:11Z",
    "body": "Thanks @deepak1556 .  fetch works after using  [webFrame.registerURLSchemeAsPrivileged](http://electron.atom.io/docs/api/web-frame/)\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/238157691",
    "html_url": "https://github.com/electron/electron/issues/6749#issuecomment-238157691",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6749",
    "id": 238157691,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-08-08T07:08:47Z",
    "updated_at": "2016-08-08T07:08:47Z",
    "body": "Closing since this question has been solved.\n\n> @zcbenz should we add CORS enabling WebSecurityPolicy to WebFrame::RegisterURLSchemeAsPrivileged ?\n\nI think it is already calling `registerURLSchemeAsBypassingContentSecurityPolicy`?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/238177677",
    "html_url": "https://github.com/electron/electron/issues/6749#issuecomment-238177677",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6749",
    "id": 238177677,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-08T08:51:20Z",
    "updated_at": "2016-08-08T08:51:20Z",
    "body": "Blink denies cross origin requests for schemes that are not registered as CORS enabled [here](https://cs.chromium.org/chromium/src/third_party/WebKit/Source/core/loader/DocumentThreadableLoader.cpp?l=277-281). The following,\n\n```\n// window.location.href = 'test://host'.\n<script>\n  require('electron').webFrame.registerURLSchemeAsPrivileged('app')\n  fetch('app://myhost/get')\n</script>\n```\n\nwill give the following error:\n\n```\nFetch API cannot load app://myhost/get. Cross origin requests are only supported for protocol schemes: http, data, chrome, https.\n```\n\nadding the WebSecurityPolicy `registerURLSchemeAsCORSEnabled` should fix this.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/238208294",
    "html_url": "https://github.com/electron/electron/issues/6749#issuecomment-238208294",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6749",
    "id": 238208294,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-08-08T11:20:45Z",
    "updated_at": "2016-08-08T11:20:45Z",
    "body": "Didn't know that, I'm 👍 on calling `registerURLSchemeAsCORSEnabled`. \n"
  }
]