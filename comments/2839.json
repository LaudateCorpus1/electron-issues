[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/141872525",
    "html_url": "https://github.com/electron/electron/issues/2839#issuecomment-141872525",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2839",
    "id": 141872525,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-09-21T04:10:53Z",
    "updated_at": "2015-09-21T04:10:53Z",
    "body": "Can you provide a full example? This is related to where and how you call `remote.getCurrentWindow`, and we didn't see similar issues in Atom which uses Electron and creates multiple windows.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/141903097",
    "html_url": "https://github.com/electron/electron/issues/2839#issuecomment-141903097",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2839",
    "id": 141903097,
    "user": {
      "login": "grofit",
      "id": 927201,
      "avatar_url": "https://avatars0.githubusercontent.com/u/927201?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grofit",
      "html_url": "https://github.com/grofit",
      "followers_url": "https://api.github.com/users/grofit/followers",
      "following_url": "https://api.github.com/users/grofit/following{/other_user}",
      "gists_url": "https://api.github.com/users/grofit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grofit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grofit/subscriptions",
      "organizations_url": "https://api.github.com/users/grofit/orgs",
      "repos_url": "https://api.github.com/users/grofit/repos",
      "events_url": "https://api.github.com/users/grofit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grofit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-21T08:02:10Z",
    "updated_at": "2015-09-21T08:02:10Z",
    "body": "Here is a overly simplified example of what is happening, it also shows another issue I run into where it deletes the window context of another window.\n\n![Example Issue](https://dl.dropboxusercontent.com/u/98595151/ShareX/EMBERSOFT1/15/09/2015-09-21_08-57-44.gif)\n\nHere is the example file if you want it:\n\nhttps://dl.dropboxusercontent.com/u/98595151/menu-test.rar\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/141981512",
    "html_url": "https://github.com/electron/electron/issues/2839#issuecomment-141981512",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2839",
    "id": 141981512,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-09-21T13:40:21Z",
    "updated_at": "2015-09-21T13:40:21Z",
    "body": "You are creating a new application menu in your second window, so the callback of \"Toggle DevTools\" is ran in the second window even though you click it in the first window.\n\nYou should either only set menu for current window in each page, or set the menu in the main process. And the latter way is preferred under most cases.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/142039820",
    "html_url": "https://github.com/electron/electron/issues/2839#issuecomment-142039820",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2839",
    "id": 142039820,
    "user": {
      "login": "grofit",
      "id": 927201,
      "avatar_url": "https://avatars0.githubusercontent.com/u/927201?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grofit",
      "html_url": "https://github.com/grofit",
      "followers_url": "https://api.github.com/users/grofit/followers",
      "following_url": "https://api.github.com/users/grofit/following{/other_user}",
      "gists_url": "https://api.github.com/users/grofit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grofit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grofit/subscriptions",
      "organizations_url": "https://api.github.com/users/grofit/orgs",
      "repos_url": "https://api.github.com/users/grofit/repos",
      "events_url": "https://api.github.com/users/grofit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grofit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-21T16:48:49Z",
    "updated_at": "2015-09-21T16:48:49Z",
    "body": "Sorry to be a simpleton but what do you mean exactly? I need each window to have a menu and function as its own application, so are you saying that if I set it once in the main application then never set it again it will carry over or something?\n\nA brief code example of how to best handle this scenario would be very much appreciated.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/142158339",
    "html_url": "https://github.com/electron/electron/issues/2839#issuecomment-142158339",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2839",
    "id": 142158339,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-09-22T01:57:14Z",
    "updated_at": "2015-09-22T01:57:14Z",
    "body": "`setApplicationMenu` is equivalent to call `setMenu` for every window on Windows, in your case you can call `remote.getCurrentWindow().setMenu` instead of `setApplicationMenu` to fix it.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/142200644",
    "html_url": "https://github.com/electron/electron/issues/2839#issuecomment-142200644",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2839",
    "id": 142200644,
    "user": {
      "login": "grofit",
      "id": 927201,
      "avatar_url": "https://avatars0.githubusercontent.com/u/927201?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grofit",
      "html_url": "https://github.com/grofit",
      "followers_url": "https://api.github.com/users/grofit/followers",
      "following_url": "https://api.github.com/users/grofit/following{/other_user}",
      "gists_url": "https://api.github.com/users/grofit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grofit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grofit/subscriptions",
      "organizations_url": "https://api.github.com/users/grofit/orgs",
      "repos_url": "https://api.github.com/users/grofit/repos",
      "events_url": "https://api.github.com/users/grofit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grofit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-22T07:19:25Z",
    "updated_at": "2015-09-22T07:19:25Z",
    "body": "Thanks, will give this a try.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/142350729",
    "html_url": "https://github.com/electron/electron/issues/2839#issuecomment-142350729",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2839",
    "id": 142350729,
    "user": {
      "login": "etiktin",
      "id": 4381579,
      "avatar_url": "https://avatars1.githubusercontent.com/u/4381579?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/etiktin",
      "html_url": "https://github.com/etiktin",
      "followers_url": "https://api.github.com/users/etiktin/followers",
      "following_url": "https://api.github.com/users/etiktin/following{/other_user}",
      "gists_url": "https://api.github.com/users/etiktin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/etiktin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/etiktin/subscriptions",
      "organizations_url": "https://api.github.com/users/etiktin/orgs",
      "repos_url": "https://api.github.com/users/etiktin/repos",
      "events_url": "https://api.github.com/users/etiktin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/etiktin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-22T17:05:48Z",
    "updated_at": "2015-09-22T17:05:48Z",
    "body": "@zcbenz, according to the [docs](https://github.com/atom/electron/blob/master/docs/api/browser-window.md#winsetmenumenu-os-x) `setMenu` is only available on OS X, is that incorrect?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/142424654",
    "html_url": "https://github.com/electron/electron/issues/2839#issuecomment-142424654",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2839",
    "id": 142424654,
    "user": {
      "login": "grofit",
      "id": 927201,
      "avatar_url": "https://avatars0.githubusercontent.com/u/927201?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grofit",
      "html_url": "https://github.com/grofit",
      "followers_url": "https://api.github.com/users/grofit/followers",
      "following_url": "https://api.github.com/users/grofit/following{/other_user}",
      "gists_url": "https://api.github.com/users/grofit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grofit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grofit/subscriptions",
      "organizations_url": "https://api.github.com/users/grofit/orgs",
      "repos_url": "https://api.github.com/users/grofit/repos",
      "events_url": "https://api.github.com/users/grofit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grofit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-22T21:13:44Z",
    "updated_at": "2015-09-22T21:13:44Z",
    "body": "It did seem to work for me, and I am on windows.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/142482085",
    "html_url": "https://github.com/electron/electron/issues/2839#issuecomment-142482085",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2839",
    "id": 142482085,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-09-23T03:44:42Z",
    "updated_at": "2015-09-23T03:44:42Z",
    "body": "> @zcbenz, according to the docs setMenu is only available on OS X, is that incorrect?\n\nWe made a mistake there, it is actually not available on OS X. \n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/142520807",
    "html_url": "https://github.com/electron/electron/issues/2839#issuecomment-142520807",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2839",
    "id": 142520807,
    "user": {
      "login": "grofit",
      "id": 927201,
      "avatar_url": "https://avatars0.githubusercontent.com/u/927201?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grofit",
      "html_url": "https://github.com/grofit",
      "followers_url": "https://api.github.com/users/grofit/followers",
      "following_url": "https://api.github.com/users/grofit/following{/other_user}",
      "gists_url": "https://api.github.com/users/grofit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grofit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grofit/subscriptions",
      "organizations_url": "https://api.github.com/users/grofit/orgs",
      "repos_url": "https://api.github.com/users/grofit/repos",
      "events_url": "https://api.github.com/users/grofit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grofit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-23T07:42:24Z",
    "updated_at": "2015-09-23T07:42:24Z",
    "body": "So if `setMenu` doesnt work on OS X what is the desired approach in that environment to achieve the same thing?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/142646648",
    "html_url": "https://github.com/electron/electron/issues/2839#issuecomment-142646648",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2839",
    "id": 142646648,
    "user": {
      "login": "etiktin",
      "id": 4381579,
      "avatar_url": "https://avatars1.githubusercontent.com/u/4381579?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/etiktin",
      "html_url": "https://github.com/etiktin",
      "followers_url": "https://api.github.com/users/etiktin/followers",
      "following_url": "https://api.github.com/users/etiktin/following{/other_user}",
      "gists_url": "https://api.github.com/users/etiktin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/etiktin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/etiktin/subscriptions",
      "organizations_url": "https://api.github.com/users/etiktin/orgs",
      "repos_url": "https://api.github.com/users/etiktin/repos",
      "events_url": "https://api.github.com/users/etiktin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/etiktin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-23T15:55:16Z",
    "updated_at": "2015-09-23T15:55:16Z",
    "body": "I reckon you can replace the application menu when ever a window comes into focus.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/142658392",
    "html_url": "https://github.com/electron/electron/issues/2839#issuecomment-142658392",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2839",
    "id": 142658392,
    "user": {
      "login": "grofit",
      "id": 927201,
      "avatar_url": "https://avatars0.githubusercontent.com/u/927201?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grofit",
      "html_url": "https://github.com/grofit",
      "followers_url": "https://api.github.com/users/grofit/followers",
      "following_url": "https://api.github.com/users/grofit/following{/other_user}",
      "gists_url": "https://api.github.com/users/grofit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grofit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grofit/subscriptions",
      "organizations_url": "https://api.github.com/users/grofit/orgs",
      "repos_url": "https://api.github.com/users/grofit/repos",
      "events_url": "https://api.github.com/users/grofit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grofit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-23T16:44:11Z",
    "updated_at": "2015-09-23T16:44:39Z",
    "body": "ok so do `setApplicationMenu` every time the window is selected?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/142670426",
    "html_url": "https://github.com/electron/electron/issues/2839#issuecomment-142670426",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2839",
    "id": 142670426,
    "user": {
      "login": "etiktin",
      "id": 4381579,
      "avatar_url": "https://avatars1.githubusercontent.com/u/4381579?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/etiktin",
      "html_url": "https://github.com/etiktin",
      "followers_url": "https://api.github.com/users/etiktin/followers",
      "following_url": "https://api.github.com/users/etiktin/following{/other_user}",
      "gists_url": "https://api.github.com/users/etiktin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/etiktin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/etiktin/subscriptions",
      "organizations_url": "https://api.github.com/users/etiktin/orgs",
      "repos_url": "https://api.github.com/users/etiktin/repos",
      "events_url": "https://api.github.com/users/etiktin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/etiktin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-23T17:21:56Z",
    "updated_at": "2015-09-23T17:21:56Z",
    "body": "Yes. I would probably just hold menu objects on the browser window that uses it, so when you get a `browser-window-focus` app event you just call `Menu.setApplicationMenu(window.mainMenu)`.\nIf you encounter some performance issues, you can optimize the code to switch menus only when needed, so if your window lost focus because the user opened another app, coming back to the same window, won't switch the menu (you can do this easily by keeping track of the window id).\n"
  }
]