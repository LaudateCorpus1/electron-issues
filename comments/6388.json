[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/231255092",
    "html_url": "https://github.com/electron/electron/issues/6388#issuecomment-231255092",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6388",
    "id": 231255092,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-07-08T01:41:08Z",
    "updated_at": "2016-07-08T01:41:08Z",
    "body": "Can you provide a minimal app that can reproduce this problem?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/231307788",
    "html_url": "https://github.com/electron/electron/issues/6388#issuecomment-231307788",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6388",
    "id": 231307788,
    "user": {
      "login": "jeroenseegers",
      "id": 811475,
      "avatar_url": "https://avatars2.githubusercontent.com/u/811475?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jeroenseegers",
      "html_url": "https://github.com/jeroenseegers",
      "followers_url": "https://api.github.com/users/jeroenseegers/followers",
      "following_url": "https://api.github.com/users/jeroenseegers/following{/other_user}",
      "gists_url": "https://api.github.com/users/jeroenseegers/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jeroenseegers/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jeroenseegers/subscriptions",
      "organizations_url": "https://api.github.com/users/jeroenseegers/orgs",
      "repos_url": "https://api.github.com/users/jeroenseegers/repos",
      "events_url": "https://api.github.com/users/jeroenseegers/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jeroenseegers/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-08T08:47:54Z",
    "updated_at": "2016-07-08T09:29:40Z",
    "body": "I think I'm encountering the same issue using `electron-prebuilt` 1.2.6. Using `electron-prebuilt` 1.2.2 the behaviour is as expected (session is persisted), using a version above 1.2.2 shows the behaviour described below.\n\n``` javascript\nconst electron = require('electron');\n\nconst {app, session} = electron;\n\nlet currentSession = null;\n\napp.on('ready', function() {\n    'use strict';\n\n    currentSession = session.fromPartition('persist:sessionName').cookies;\n\n    currentSession.get({}, function(error, cookies) {\n        console.dir(cookies);\n        if (error) {\n            console.dir(error);\n        }\n    });\n\n    currentSession.set({\n        name: 'someCookie',\n        url: 'http://www.example.com',\n        value: 'myValue',\n        expirationDate: 1531036000\n    }, function(error) {\n        console.log('Cookie set');\n        if (error) {\n            console.dir(error);\n        }\n    });\n\n    currentSession.get({}, function(error, cookies) {\n        console.dir(cookies);\n        if (error) {\n            console.dir(error);\n        }\n    });\n});\n```\n\nWill always return in the following output between restarts:\n\n``` javascript\n[]\nCookie set\n[ { name: 'someCookie',\n    value: 'myValue',\n    domain: 'www.example.com',\n    hostOnly: true,\n    path: '/',\n    secure: false,\n    httpOnly: false,\n    session: false,\n    expirationDate: 1531036000 } ]\nnull\n```\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/231318468",
    "html_url": "https://github.com/electron/electron/issues/6388#issuecomment-231318468",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6388",
    "id": 231318468,
    "user": {
      "login": "jeroenseegers",
      "id": 811475,
      "avatar_url": "https://avatars2.githubusercontent.com/u/811475?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jeroenseegers",
      "html_url": "https://github.com/jeroenseegers",
      "followers_url": "https://api.github.com/users/jeroenseegers/followers",
      "following_url": "https://api.github.com/users/jeroenseegers/following{/other_user}",
      "gists_url": "https://api.github.com/users/jeroenseegers/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jeroenseegers/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jeroenseegers/subscriptions",
      "organizations_url": "https://api.github.com/users/jeroenseegers/orgs",
      "repos_url": "https://api.github.com/users/jeroenseegers/repos",
      "events_url": "https://api.github.com/users/jeroenseegers/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jeroenseegers/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-08T09:40:28Z",
    "updated_at": "2016-07-08T09:40:28Z",
    "body": "Could this have anything to do with the changes made in #5904?\n\nIt seems to me that https://github.com/electron/electron/blob/master/lib/browser/api/session.js#L19 should read:\n\n``` javascript\nif (partition === '') return Session.defaultSession\n```\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/231573250",
    "html_url": "https://github.com/electron/electron/issues/6388#issuecomment-231573250",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6388",
    "id": 231573250,
    "user": {
      "login": "bensie",
      "id": 4595,
      "avatar_url": "https://avatars3.githubusercontent.com/u/4595?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bensie",
      "html_url": "https://github.com/bensie",
      "followers_url": "https://api.github.com/users/bensie/followers",
      "following_url": "https://api.github.com/users/bensie/following{/other_user}",
      "gists_url": "https://api.github.com/users/bensie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bensie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bensie/subscriptions",
      "organizations_url": "https://api.github.com/users/bensie/orgs",
      "repos_url": "https://api.github.com/users/bensie/repos",
      "events_url": "https://api.github.com/users/bensie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bensie/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-10T06:25:16Z",
    "updated_at": "2016-07-10T06:25:16Z",
    "body": "Thanks @zcbenz!\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/232015952",
    "html_url": "https://github.com/electron/electron/issues/6388#issuecomment-232015952",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6388",
    "id": 232015952,
    "user": {
      "login": "jeroenseegers",
      "id": 811475,
      "avatar_url": "https://avatars2.githubusercontent.com/u/811475?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jeroenseegers",
      "html_url": "https://github.com/jeroenseegers",
      "followers_url": "https://api.github.com/users/jeroenseegers/followers",
      "following_url": "https://api.github.com/users/jeroenseegers/following{/other_user}",
      "gists_url": "https://api.github.com/users/jeroenseegers/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jeroenseegers/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jeroenseegers/subscriptions",
      "organizations_url": "https://api.github.com/users/jeroenseegers/orgs",
      "repos_url": "https://api.github.com/users/jeroenseegers/repos",
      "events_url": "https://api.github.com/users/jeroenseegers/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jeroenseegers/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-12T11:31:21Z",
    "updated_at": "2016-07-12T11:31:21Z",
    "body": "Thanks @zcbenz! Any idea when this will be released?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/232173925",
    "html_url": "https://github.com/electron/electron/issues/6388#issuecomment-232173925",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6388",
    "id": 232173925,
    "user": {
      "login": "stephane317",
      "id": 9393908,
      "avatar_url": "https://avatars0.githubusercontent.com/u/9393908?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stephane317",
      "html_url": "https://github.com/stephane317",
      "followers_url": "https://api.github.com/users/stephane317/followers",
      "following_url": "https://api.github.com/users/stephane317/following{/other_user}",
      "gists_url": "https://api.github.com/users/stephane317/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stephane317/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stephane317/subscriptions",
      "organizations_url": "https://api.github.com/users/stephane317/orgs",
      "repos_url": "https://api.github.com/users/stephane317/repos",
      "events_url": "https://api.github.com/users/stephane317/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stephane317/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-12T20:41:30Z",
    "updated_at": "2016-07-14T15:46:54Z",
    "body": "Thanks @zcbenz !!! I'm waiting too for the release :)\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/236498471",
    "html_url": "https://github.com/electron/electron/issues/6388#issuecomment-236498471",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6388",
    "id": 236498471,
    "user": {
      "login": "TimNZ",
      "id": 1051701,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1051701?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TimNZ",
      "html_url": "https://github.com/TimNZ",
      "followers_url": "https://api.github.com/users/TimNZ/followers",
      "following_url": "https://api.github.com/users/TimNZ/following{/other_user}",
      "gists_url": "https://api.github.com/users/TimNZ/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TimNZ/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TimNZ/subscriptions",
      "organizations_url": "https://api.github.com/users/TimNZ/orgs",
      "repos_url": "https://api.github.com/users/TimNZ/repos",
      "events_url": "https://api.github.com/users/TimNZ/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TimNZ/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-01T06:21:42Z",
    "updated_at": "2016-08-01T06:21:42Z",
    "body": "I've spent all day playing with this in a webview as that is of interest to me, and was experiencing things I couldn't understand at first glance.\n\nTried on URLs:\n- inbox.google.com\n- go.xero.com\n\nMy findings with 1.3.1, OS X\n- Session data IS retained, with and without partitions\n- Chance of session data not being persisted if a webview is loaded and then the app is quickly closed e.g. a few seconds \n- Chrome can persist **session** cookies between browser sessions depending on browser settings.  Electron does not. This was tripping me as I kept on having to re-login on Xero when I expected the session to stay active after restart not realising the cookies were session (i.e. dropped on close)\n\nIdeally a test framework can be created (or perhaps exists) to test session persistence, would be straight forward to make.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/244483403",
    "html_url": "https://github.com/electron/electron/issues/6388#issuecomment-244483403",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6388",
    "id": 244483403,
    "user": {
      "login": "blueoctopus",
      "id": 613107,
      "avatar_url": "https://avatars3.githubusercontent.com/u/613107?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/blueoctopus",
      "html_url": "https://github.com/blueoctopus",
      "followers_url": "https://api.github.com/users/blueoctopus/followers",
      "following_url": "https://api.github.com/users/blueoctopus/following{/other_user}",
      "gists_url": "https://api.github.com/users/blueoctopus/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/blueoctopus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/blueoctopus/subscriptions",
      "organizations_url": "https://api.github.com/users/blueoctopus/orgs",
      "repos_url": "https://api.github.com/users/blueoctopus/repos",
      "events_url": "https://api.github.com/users/blueoctopus/events{/privacy}",
      "received_events_url": "https://api.github.com/users/blueoctopus/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-02T20:46:42Z",
    "updated_at": "2016-09-02T20:46:42Z",
    "body": "I'm still having this problem when quitting the app after a few seconds a cookie is set (up to about 20 seconds in my tests). The cookie won't be saved when the app is reopened. It looks like this is the same behavior mentioned by @TimNZ above.\n\nI'm able to see when the cookie data is actually saved to disk by inspecting the Cookies file:\n\n`sqlite3 ~'/Library/Application Support/Electron/Cookies' 'select * from cookies'`\n\nThere is a delay between when the cookie is set and when it's written to disk. That means quitting the app is not writing the most recent state of the cookie DB into the Cookies file.\n\ni.e. data is lost because it's not being written to disk on quit.\n\nThis issue was verified in v1.3.2 and v1.3.5.\nv1.3.2 was tested on Windows 10, Ubuntu and OS X.\nv1.3.5 was tested on OS X.\n"
  }
]