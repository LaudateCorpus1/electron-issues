[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/121840049",
    "html_url": "https://github.com/electron/electron/issues/2239#issuecomment-121840049",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2239",
    "id": 121840049,
    "user": {
      "login": "frankhale",
      "id": 190154,
      "avatar_url": "https://avatars2.githubusercontent.com/u/190154?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frankhale",
      "html_url": "https://github.com/frankhale",
      "followers_url": "https://api.github.com/users/frankhale/followers",
      "following_url": "https://api.github.com/users/frankhale/following{/other_user}",
      "gists_url": "https://api.github.com/users/frankhale/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frankhale/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frankhale/subscriptions",
      "organizations_url": "https://api.github.com/users/frankhale/orgs",
      "repos_url": "https://api.github.com/users/frankhale/repos",
      "events_url": "https://api.github.com/users/frankhale/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frankhale/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-16T05:43:01Z",
    "updated_at": "2015-07-16T05:43:01Z",
    "body": "hi @jameslk, I just ran your code against 0.29.2 on Windows and I got the expected results 1,2,3,4,5\n\nHere is a screenshot:\n\n![issue-2239](https://cloud.githubusercontent.com/assets/190154/8716200/fd5608b8-2b5b-11e5-9be8-dca28d1fae4d.PNG)\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/121840661",
    "html_url": "https://github.com/electron/electron/issues/2239#issuecomment-121840661",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2239",
    "id": 121840661,
    "user": {
      "login": "jameslk",
      "id": 774411,
      "avatar_url": "https://avatars0.githubusercontent.com/u/774411?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jameslk",
      "html_url": "https://github.com/jameslk",
      "followers_url": "https://api.github.com/users/jameslk/followers",
      "following_url": "https://api.github.com/users/jameslk/following{/other_user}",
      "gists_url": "https://api.github.com/users/jameslk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jameslk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jameslk/subscriptions",
      "organizations_url": "https://api.github.com/users/jameslk/orgs",
      "repos_url": "https://api.github.com/users/jameslk/repos",
      "events_url": "https://api.github.com/users/jameslk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jameslk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-16T05:49:46Z",
    "updated_at": "2015-07-16T05:49:46Z",
    "body": "@frankhale That's odd. The issue does seem to sometimes go away when the browser frame is refreshed.\n\nI've tried it on 0.28.3, 0.29.0, 0.29.1, and 0.29.2 on OS X Yosemite.\n\nHere's a screenshot of the issue:\n<img width=\"469\" alt=\"screen shot 2015-07-15 at 11 44 43 pm\" src=\"https://cloud.githubusercontent.com/assets/774411/8716241/d9cced0e-2b4b-11e5-8f38-496c68772d64.png\">\n\nAnd the output from console:\n\n``` bash\n$ node_modules/.bin/electron app.js \n[43698:0715/234410:INFO:renderer_main.cc(200)] Renderer process started\n[43699:0715/234410:INFO:renderer_main.cc(200)] Renderer process started\n[43696:0715/234410:INFO:CONSOLE(17)] \"1\", source: file:///Users/james/Desktop/test-electron-async/test.html (17)\n[43696:0715/234414:INFO:CONSOLE(39)] \"2\", source: file:///Users/james/Desktop/test-electron-async/test.html (39)\n[43696:0715/234414:INFO:CONSOLE(34)] \"5\", source: file:///Users/james/Desktop/test-electron-async/test.html (34)\n[43696:0715/234414:INFO:CONSOLE(22)] \"3\", source: file:///Users/james/Desktop/test-electron-async/test.html (22)\n[43696:0715/234414:INFO:CONSOLE(28)] \"4\", source: file:///Users/james/Desktop/test-electron-async/test.html (28)\n```\n\nThis is the source running the browser window:\n\n``` javascript\nvar app = require('app');\nvar BrowserWindow = require('browser-window');\n\nvar mainWindow = null;\n\napp.on('window-all-closed', function() {\n    app.quit();\n});\n\napp.on('ready', function() {\n  mainWindow = new BrowserWindow({width: 800, height: 600});\n\n  mainWindow.loadUrl('file://' + __dirname + '/test.html');\n\n  mainWindow.openDevTools();\n\n  mainWindow.on('closed', function() {\n    mainWindow = null;\n  });\n});\n```\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/121841986",
    "html_url": "https://github.com/electron/electron/issues/2239#issuecomment-121841986",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2239",
    "id": 121841986,
    "user": {
      "login": "frankhale",
      "id": 190154,
      "avatar_url": "https://avatars2.githubusercontent.com/u/190154?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frankhale",
      "html_url": "https://github.com/frankhale",
      "followers_url": "https://api.github.com/users/frankhale/followers",
      "following_url": "https://api.github.com/users/frankhale/following{/other_user}",
      "gists_url": "https://api.github.com/users/frankhale/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frankhale/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frankhale/subscriptions",
      "organizations_url": "https://api.github.com/users/frankhale/orgs",
      "repos_url": "https://api.github.com/users/frankhale/repos",
      "events_url": "https://api.github.com/users/frankhale/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frankhale/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-16T05:55:48Z",
    "updated_at": "2015-07-16T05:55:48Z",
    "body": "I'm not trying to shoot you down, there may in fact be a problem, just trying to provide some more context here. I reloaded it 10 times (reload via F5 in dev tools) and all the times it printed the correct results on Windows using Electron 0.29.2. I only tested 0.29.2 on Windows, I can test Mac tomorrow.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/121842363",
    "html_url": "https://github.com/electron/electron/issues/2239#issuecomment-121842363",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2239",
    "id": 121842363,
    "user": {
      "login": "jameslk",
      "id": 774411,
      "avatar_url": "https://avatars0.githubusercontent.com/u/774411?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jameslk",
      "html_url": "https://github.com/jameslk",
      "followers_url": "https://api.github.com/users/jameslk/followers",
      "following_url": "https://api.github.com/users/jameslk/following{/other_user}",
      "gists_url": "https://api.github.com/users/jameslk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jameslk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jameslk/subscriptions",
      "organizations_url": "https://api.github.com/users/jameslk/orgs",
      "repos_url": "https://api.github.com/users/jameslk/repos",
      "events_url": "https://api.github.com/users/jameslk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jameslk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-16T06:00:11Z",
    "updated_at": "2015-07-16T06:00:11Z",
    "body": "Actually, I just tested on a Windows VM and can confirm that it shows 1, 2, 3, 4, 5. So perhaps its a Mac-only issue. I'll try testing on a different Mac when I get a chance.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/121842627",
    "html_url": "https://github.com/electron/electron/issues/2239#issuecomment-121842627",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2239",
    "id": 121842627,
    "user": {
      "login": "frankhale",
      "id": 190154,
      "avatar_url": "https://avatars2.githubusercontent.com/u/190154?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frankhale",
      "html_url": "https://github.com/frankhale",
      "followers_url": "https://api.github.com/users/frankhale/followers",
      "following_url": "https://api.github.com/users/frankhale/following{/other_user}",
      "gists_url": "https://api.github.com/users/frankhale/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frankhale/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frankhale/subscriptions",
      "organizations_url": "https://api.github.com/users/frankhale/orgs",
      "repos_url": "https://api.github.com/users/frankhale/repos",
      "events_url": "https://api.github.com/users/frankhale/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frankhale/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-16T06:01:24Z",
    "updated_at": "2015-07-16T06:01:24Z",
    "body": "Okay cool, I'll definitely test in the morning on my Mac to confirm your results. \n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/121966187",
    "html_url": "https://github.com/electron/electron/issues/2239#issuecomment-121966187",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2239",
    "id": 121966187,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-07-16T14:02:16Z",
    "updated_at": "2015-07-16T14:02:16Z",
    "body": "In Electron the task queue of Node.js and the task queue of browser are independent, so there is no guarantee that tasks of setTimeout and Node.js APIs would run in sequence. Also the web standard never guarantees the sequence of setTimeout callbacks, so I think current behavior is fine.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/122098584",
    "html_url": "https://github.com/electron/electron/issues/2239#issuecomment-122098584",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2239",
    "id": 122098584,
    "user": {
      "login": "jameslk",
      "id": 774411,
      "avatar_url": "https://avatars0.githubusercontent.com/u/774411?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jameslk",
      "html_url": "https://github.com/jameslk",
      "followers_url": "https://api.github.com/users/jameslk/followers",
      "following_url": "https://api.github.com/users/jameslk/following{/other_user}",
      "gists_url": "https://api.github.com/users/jameslk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jameslk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jameslk/subscriptions",
      "organizations_url": "https://api.github.com/users/jameslk/orgs",
      "repos_url": "https://api.github.com/users/jameslk/repos",
      "events_url": "https://api.github.com/users/jameslk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jameslk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-16T21:12:19Z",
    "updated_at": "2015-07-16T21:12:19Z",
    "body": "Unfortunately, this functionality caused a particularly nasty race condition for me that was pretty difficult to debug. I don't think how it currently works is what a developer would be expecting.\n\nAs a workaround, I will have to put NodeJS asynchronous API calls in `setTimeout`s to force the correct order of operation.\n"
  }
]