[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/214206248",
    "html_url": "https://github.com/electron/electron/issues/5273#issuecomment-214206248",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/5273",
    "id": 214206248,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-04-25T08:33:11Z",
    "updated_at": "2016-04-25T08:33:11Z",
    "body": "For GUI programs it is very unreliable to handle quitting with SIGINT signal, in Electron the SIGINT signal is hijacked to call `app.quit` instead. So you can use the `before-quit` or `will-quit` event to handle quitting.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/214616819",
    "html_url": "https://github.com/electron/electron/issues/5273#issuecomment-214616819",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/5273",
    "id": 214616819,
    "user": {
      "login": "elisee",
      "id": 446986,
      "avatar_url": "https://avatars3.githubusercontent.com/u/446986?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/elisee",
      "html_url": "https://github.com/elisee",
      "followers_url": "https://api.github.com/users/elisee/followers",
      "following_url": "https://api.github.com/users/elisee/following{/other_user}",
      "gists_url": "https://api.github.com/users/elisee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/elisee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/elisee/subscriptions",
      "organizations_url": "https://api.github.com/users/elisee/orgs",
      "repos_url": "https://api.github.com/users/elisee/repos",
      "events_url": "https://api.github.com/users/elisee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/elisee/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-26T04:59:53Z",
    "updated_at": "2016-04-26T04:59:53Z",
    "body": "Neither `before-quit` nor `will-quit` are called on my machine (Windows 10 64-bit, Electron v0.37.7) when closing the app with `Ctrl+C` in a terminal (thus sending `SIGINT` to it).\n\n``` javascript\nsetTimeout(() => { /* Just to keep process running */ }, 1000000);\n\nconst electron = require(\"electron\");\nelectron.app.on(\"before-quit\", (event) => {\n  // This is never called! Replacing before-quit with will-quit doesn't help.\n  console.log(\"Caught before-quit. Exiting in 5 seconds.\");\n  event.preventDefault();\n\n  setTimeout(() => { process.exit(0); }, 5000);\n});\n```\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/214617667",
    "html_url": "https://github.com/electron/electron/issues/5273#issuecomment-214617667",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/5273",
    "id": 214617667,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-04-26T05:07:45Z",
    "updated_at": "2016-04-26T05:07:45Z",
    "body": "There is no `SIGINT` on Windows, pressing `Ctrl+C` just kills the program, as far as I know there is no way to prevent that unless the program acts like a virus.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/214621712",
    "html_url": "https://github.com/electron/electron/issues/5273#issuecomment-214621712",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/5273",
    "id": 214621712,
    "user": {
      "login": "elisee",
      "id": 446986,
      "avatar_url": "https://avatars3.githubusercontent.com/u/446986?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/elisee",
      "html_url": "https://github.com/elisee",
      "followers_url": "https://api.github.com/users/elisee/followers",
      "following_url": "https://api.github.com/users/elisee/following{/other_user}",
      "gists_url": "https://api.github.com/users/elisee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/elisee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/elisee/subscriptions",
      "organizations_url": "https://api.github.com/users/elisee/orgs",
      "repos_url": "https://api.github.com/users/elisee/repos",
      "events_url": "https://api.github.com/users/elisee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/elisee/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-26T05:42:45Z",
    "updated_at": "2016-04-26T05:52:21Z",
    "body": "Node.js catches `Ctrl+C` and lets me handle it as `SIGINT`. It may be emulation, but it's still handled by the `SIGINT` handler. And Electron sort of does it too, except it terminates the program in the middle of the handler.\n\nMaybe there's a way that Electron can check for a registered `process.on(\"SIGINT\", ...)` handler and give control to it _instead_ of initiating its shutdown sequence, rather than doing both in parallel.\n\nRelevant section from [the Node.js `process` API documentation](https://nodejs.org/dist/latest-v5.x/docs/api/process.html):\n\n> SIGINT from the terminal is supported on all platforms, and can usually be generated with CTRL+C (though this may be configurable). It is not generated when terminal raw mode is enabled.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/214930144",
    "html_url": "https://github.com/electron/electron/issues/5273#issuecomment-214930144",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/5273",
    "id": 214930144,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-04-27T00:40:11Z",
    "updated_at": "2016-04-27T00:40:11Z",
    "body": "Ah I see, so in Node they use `SetConsoleCtrlHandler` to catch console control events to emulate the `SIGINT` event, it would probably be harder for us to do in Electron since Electron is a GUI program and `SetConsoleCtrlHandler` is not supposed to work.\n\nHowever we should have at least a decent way to handle a situation like this, we can probably follow the behavior on OS X that calls `app.quit` when Ctrl-C is pressed, so app shuts down gracefully.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/228018897",
    "html_url": "https://github.com/electron/electron/issues/5273#issuecomment-228018897",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/5273",
    "id": 228018897,
    "user": {
      "login": "TimNZ",
      "id": 1051701,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1051701?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TimNZ",
      "html_url": "https://github.com/TimNZ",
      "followers_url": "https://api.github.com/users/TimNZ/followers",
      "following_url": "https://api.github.com/users/TimNZ/following{/other_user}",
      "gists_url": "https://api.github.com/users/TimNZ/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TimNZ/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TimNZ/subscriptions",
      "organizations_url": "https://api.github.com/users/TimNZ/orgs",
      "repos_url": "https://api.github.com/users/TimNZ/repos",
      "events_url": "https://api.github.com/users/TimNZ/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TimNZ/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-23T11:12:52Z",
    "updated_at": "2016-06-23T11:27:22Z",
    "body": "http://stackoverflow.com/questions/10021373/what-is-the-windows-equivalent-of-process-onsigint-in-node-js\n\nCan confirm that process.on('SIGINT') is called running as node (6.2.0), not as electron (1.2.3), on Ctrl-C\n\nI'm doing this on command line, there is no UI but as you say the app may be run as GUI\n\nI'd very much Electron to work same way as node. \n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/228023567",
    "html_url": "https://github.com/electron/electron/issues/5273#issuecomment-228023567",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/5273",
    "id": 228023567,
    "user": {
      "login": "TimNZ",
      "id": 1051701,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1051701?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TimNZ",
      "html_url": "https://github.com/TimNZ",
      "followers_url": "https://api.github.com/users/TimNZ/followers",
      "following_url": "https://api.github.com/users/TimNZ/following{/other_user}",
      "gists_url": "https://api.github.com/users/TimNZ/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TimNZ/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TimNZ/subscriptions",
      "organizations_url": "https://api.github.com/users/TimNZ/orgs",
      "repos_url": "https://api.github.com/users/TimNZ/repos",
      "events_url": "https://api.github.com/users/TimNZ/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TimNZ/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-06-23T11:36:56Z",
    "updated_at": "2016-06-23T11:36:56Z",
    "body": "Run this in Windows cmd prompt and behold the very weird behaviour\nWindows 7:\n- app.on('ready') is called as expected\n- When run the app executes, electron.exe processes are loaded, and then app falls back to command line\n- I can see electron.exe in Task Manager.\n- Do some stuff on cmd. \n- Then do a Ctrl-C and see WTF printed from the SIGINT handler, and the electron.exe processes killed.\n- app.on('before-quit') is not called\n\nOS X 10.11 - do Ctrl C\n- SIGINT handler NOT called\n- app.on('before-quit') called\n\n```\ntry {\n    var {app} = require('electron')\n}\ncatch (e)\n{\n\n}\n\nif (app)\n{\napp.on('before-quit',function()\n{\n    console.log('smoo')\n})\napp.on('ready',function()\n{\n    console.log('smee')\n})\n\n}\n\n\nprocess.on(\"SIGINT\", function () {\n    console.log('WTF')\n    process.exit(0) \n\n});\n```\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/231661540",
    "html_url": "https://github.com/electron/electron/issues/5273#issuecomment-231661540",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/5273",
    "id": 231661540,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-07-11T07:33:21Z",
    "updated_at": "2016-07-11T07:33:21Z",
    "body": "After looking into this, I'm afraid this is a limitation of Window. Since Electron is an GUI app, there is no way to catch the Ctrl-C event from Windows, even when we setup a handle with `SetConsoleCtrlHandler`, Windows still kills the process anyway.\n\nSo  I'm closing this as won't fix.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/261694375",
    "html_url": "https://github.com/electron/electron/issues/5273#issuecomment-261694375",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/5273",
    "id": 261694375,
    "user": {
      "login": "fritx",
      "id": 6647633,
      "avatar_url": "https://avatars1.githubusercontent.com/u/6647633?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fritx",
      "html_url": "https://github.com/fritx",
      "followers_url": "https://api.github.com/users/fritx/followers",
      "following_url": "https://api.github.com/users/fritx/following{/other_user}",
      "gists_url": "https://api.github.com/users/fritx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fritx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fritx/subscriptions",
      "organizations_url": "https://api.github.com/users/fritx/orgs",
      "repos_url": "https://api.github.com/users/fritx/repos",
      "events_url": "https://api.github.com/users/fritx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fritx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-19T05:14:25Z",
    "updated_at": "2016-11-19T05:14:25Z",
    "body": "I've found a weird thing: when I press `Ctrl+C`, a `close` event of the focused BrowserWindow is triggered, instead of a `app.quit()`.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/261694559",
    "html_url": "https://github.com/electron/electron/issues/5273#issuecomment-261694559",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/5273",
    "id": 261694559,
    "user": {
      "login": "fritx",
      "id": 6647633,
      "avatar_url": "https://avatars1.githubusercontent.com/u/6647633?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fritx",
      "html_url": "https://github.com/fritx",
      "followers_url": "https://api.github.com/users/fritx/followers",
      "following_url": "https://api.github.com/users/fritx/following{/other_user}",
      "gists_url": "https://api.github.com/users/fritx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fritx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fritx/subscriptions",
      "organizations_url": "https://api.github.com/users/fritx/orgs",
      "repos_url": "https://api.github.com/users/fritx/repos",
      "events_url": "https://api.github.com/users/fritx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fritx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-19T05:19:57Z",
    "updated_at": "2016-11-19T05:19:57Z",
    "body": "How could I distinguish whether the `close` event is caused by `app.quit` or `user normal close` in main process?\n"
  }
]