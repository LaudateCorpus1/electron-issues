[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/62838373",
    "html_url": "https://github.com/electron/electron/issues/812#issuecomment-62838373",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/812",
    "id": 62838373,
    "user": {
      "login": "jwu",
      "id": 174891,
      "avatar_url": "https://avatars2.githubusercontent.com/u/174891?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jwu",
      "html_url": "https://github.com/jwu",
      "followers_url": "https://api.github.com/users/jwu/followers",
      "following_url": "https://api.github.com/users/jwu/following{/other_user}",
      "gists_url": "https://api.github.com/users/jwu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jwu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jwu/subscriptions",
      "organizations_url": "https://api.github.com/users/jwu/orgs",
      "repos_url": "https://api.github.com/users/jwu/repos",
      "events_url": "https://api.github.com/users/jwu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jwu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-13T03:57:37Z",
    "updated_at": "2014-11-13T03:57:48Z",
    "body": "I also found the defaultPath in dialog.showSaveDialog() has no effect in Windows. I test this in Windows 8. Is this normal?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/62841234",
    "html_url": "https://github.com/electron/electron/issues/812#issuecomment-62841234",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/812",
    "id": 62841234,
    "user": {
      "login": "frankhale",
      "id": 190154,
      "avatar_url": "https://avatars2.githubusercontent.com/u/190154?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frankhale",
      "html_url": "https://github.com/frankhale",
      "followers_url": "https://api.github.com/users/frankhale/followers",
      "following_url": "https://api.github.com/users/frankhale/following{/other_user}",
      "gists_url": "https://api.github.com/users/frankhale/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frankhale/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frankhale/subscriptions",
      "organizations_url": "https://api.github.com/users/frankhale/orgs",
      "repos_url": "https://api.github.com/users/frankhale/repos",
      "events_url": "https://api.github.com/users/frankhale/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frankhale/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-13T04:45:21Z",
    "updated_at": "2014-11-13T04:45:21Z",
    "body": "I'm curious so I tried and I also cannot get the default path to work on Windows. I'm looking at the file_dialog_win.cc file right now and there is definitely code in there to set the default path when it's passed to the various functions. Not sure what is going on yet. I've been Googling the low level Win32 WTL API to see what the API consists of and if I can spot something wrong. \n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/62842966",
    "html_url": "https://github.com/electron/electron/issues/812#issuecomment-62842966",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/812",
    "id": 62842966,
    "user": {
      "login": "frankhale",
      "id": 190154,
      "avatar_url": "https://avatars2.githubusercontent.com/u/190154?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frankhale",
      "html_url": "https://github.com/frankhale",
      "followers_url": "https://api.github.com/users/frankhale/followers",
      "following_url": "https://api.github.com/users/frankhale/following{/other_user}",
      "gists_url": "https://api.github.com/users/frankhale/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frankhale/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frankhale/subscriptions",
      "organizations_url": "https://api.github.com/users/frankhale/orgs",
      "repos_url": "https://api.github.com/users/frankhale/repos",
      "events_url": "https://api.github.com/users/frankhale/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frankhale/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-13T05:15:16Z",
    "updated_at": "2014-11-13T05:15:54Z",
    "body": "The funny thing is that the SetDefaultFolder in file_dialog_win.cc looks like it works. The API is called, the result is true, the path is good, the API is called against the dialog and yet the dialog does not have the default path.\n\n``` c++\n  void SetDefaultFolder(const base::FilePath file_path) {\n    std::wstring directory = IsDirectory(file_path) ?\n        file_path.value() :\n        file_path.DirName().value();\n\n    ATL::CComPtr<IShellItem> folder_item;\n    HRESULT hr = SHCreateItemFromParsingName(directory.c_str(),\n                                             NULL,\n                                             IID_PPV_ARGS(&folder_item));\n    if (SUCCEEDED(hr))\n      GetPtr()->SetDefaultFolder(folder_item); // Yeah, we get here and set the folder and it doesn't work, BOO!\n  }\n```\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/62844203",
    "html_url": "https://github.com/electron/electron/issues/812#issuecomment-62844203",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/812",
    "id": 62844203,
    "user": {
      "login": "frankhale",
      "id": 190154,
      "avatar_url": "https://avatars2.githubusercontent.com/u/190154?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frankhale",
      "html_url": "https://github.com/frankhale",
      "followers_url": "https://api.github.com/users/frankhale/followers",
      "following_url": "https://api.github.com/users/frankhale/following{/other_user}",
      "gists_url": "https://api.github.com/users/frankhale/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frankhale/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frankhale/subscriptions",
      "organizations_url": "https://api.github.com/users/frankhale/orgs",
      "repos_url": "https://api.github.com/users/frankhale/repos",
      "events_url": "https://api.github.com/users/frankhale/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frankhale/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-13T05:35:58Z",
    "updated_at": "2014-11-13T05:38:18Z",
    "body": "Okay figured it out! The backstory is here and illustrates our problem:\n\nhttps://social.msdn.microsoft.com/Forums/en-US/024dcd4c-c1c6-4e73-bbd9-5bb06465b2db/ifiledialogsetdefaultfolder-not-working?forum=vcmfcatl\n\nWe need to call SetFolder not SetDefaultFolder in atom/browser/ui/file_dialog_win.cc \n\nSo the SetDefaultFolder function then becomes this:\n\n``` cpp\n  // Set up the initial directory for the dialog.\n  void SetDefaultFolder(const base::FilePath file_path) {\n    std::wstring directory = IsDirectory(file_path) ?\n        file_path.value() :\n        file_path.DirName().value();\n\n    ATL::CComPtr<IShellItem> folder_item;\n    HRESULT hr = SHCreateItemFromParsingName(directory.c_str(),\n                                             NULL,\n                                             IID_PPV_ARGS(&folder_item));\n    if (SUCCEEDED(hr))\n      GetPtr()->SetFolder(folder_item); // Call SetFolder not SetDefaultFolder\n  }\n```\n\nThis behaves like we want it to. =)\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/62863188",
    "html_url": "https://github.com/electron/electron/issues/812#issuecomment-62863188",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/812",
    "id": 62863188,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2014-11-13T09:23:25Z",
    "updated_at": "2014-11-13T09:23:25Z",
    "body": "@jwu Are you sure `myWindow` is a `BrowserWindow`? If it is not then it would treated as `options`.\n\n@frankhale Nice catch! :sparkles: \n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/62913895",
    "html_url": "https://github.com/electron/electron/issues/812#issuecomment-62913895",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/812",
    "id": 62913895,
    "user": {
      "login": "jwu",
      "id": 174891,
      "avatar_url": "https://avatars2.githubusercontent.com/u/174891?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jwu",
      "html_url": "https://github.com/jwu",
      "followers_url": "https://api.github.com/users/jwu/followers",
      "following_url": "https://api.github.com/users/jwu/following{/other_user}",
      "gists_url": "https://api.github.com/users/jwu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jwu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jwu/subscriptions",
      "organizations_url": "https://api.github.com/users/jwu/orgs",
      "repos_url": "https://api.github.com/users/jwu/repos",
      "events_url": "https://api.github.com/users/jwu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jwu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-13T15:56:09Z",
    "updated_at": "2014-11-13T15:56:09Z",
    "body": "@zcbenz  You are right, I re-check the code and found I send my wrapped window class to it. \n\nFor the defaultPath problem in Windows, I think @frankhale  has point it out so I guess I can close the issue directly.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/62924072",
    "html_url": "https://github.com/electron/electron/issues/812#issuecomment-62924072",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/812",
    "id": 62924072,
    "user": {
      "login": "frankhale",
      "id": 190154,
      "avatar_url": "https://avatars2.githubusercontent.com/u/190154?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frankhale",
      "html_url": "https://github.com/frankhale",
      "followers_url": "https://api.github.com/users/frankhale/followers",
      "following_url": "https://api.github.com/users/frankhale/following{/other_user}",
      "gists_url": "https://api.github.com/users/frankhale/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frankhale/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frankhale/subscriptions",
      "organizations_url": "https://api.github.com/users/frankhale/orgs",
      "repos_url": "https://api.github.com/users/frankhale/repos",
      "events_url": "https://api.github.com/users/frankhale/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frankhale/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-13T16:47:40Z",
    "updated_at": "2014-11-13T16:47:40Z",
    "body": "I don't believe the code has been patched yet. I can submit a pull request for this change. @jwu, can you reopen this until the patch is applied?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/62926003",
    "html_url": "https://github.com/electron/electron/issues/812#issuecomment-62926003",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/812",
    "id": 62926003,
    "user": {
      "login": "jwu",
      "id": 174891,
      "avatar_url": "https://avatars2.githubusercontent.com/u/174891?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jwu",
      "html_url": "https://github.com/jwu",
      "followers_url": "https://api.github.com/users/jwu/followers",
      "following_url": "https://api.github.com/users/jwu/following{/other_user}",
      "gists_url": "https://api.github.com/users/jwu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jwu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jwu/subscriptions",
      "organizations_url": "https://api.github.com/users/jwu/orgs",
      "repos_url": "https://api.github.com/users/jwu/repos",
      "events_url": "https://api.github.com/users/jwu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jwu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-13T16:58:59Z",
    "updated_at": "2014-11-13T16:59:12Z",
    "body": "sure~\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/62955970",
    "html_url": "https://github.com/electron/electron/issues/812#issuecomment-62955970",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/812",
    "id": 62955970,
    "user": {
      "login": "frankhale",
      "id": 190154,
      "avatar_url": "https://avatars2.githubusercontent.com/u/190154?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frankhale",
      "html_url": "https://github.com/frankhale",
      "followers_url": "https://api.github.com/users/frankhale/followers",
      "following_url": "https://api.github.com/users/frankhale/following{/other_user}",
      "gists_url": "https://api.github.com/users/frankhale/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frankhale/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frankhale/subscriptions",
      "organizations_url": "https://api.github.com/users/frankhale/orgs",
      "repos_url": "https://api.github.com/users/frankhale/repos",
      "events_url": "https://api.github.com/users/frankhale/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frankhale/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-11-13T19:59:07Z",
    "updated_at": "2014-11-13T19:59:07Z",
    "body": "Here is some boiled down information about SetDefaultFolder and SetFolder API's. \n\nMSDN documentation states that SetDefaultFolder \"Sets the folder used as a default if there is not a recently used folder value available.\"\n\nhttp://msdn.microsoft.com/en-us/library/windows/desktop/bb775972(v=vs.85).aspx\n\nMSDN documentation states that SetFolder \"Sets a folder that is always selected when the dialog is opened, regardless of previous user action.\"\n\nhttp://msdn.microsoft.com/en-us/library/windows/desktop/bb761828(v=vs.85).aspx\n\nAs I think about this more and more I think it may be desirable to have the functionality of both. Perhaps if a default path is specified by the user use SetFolder and if not use SetDefaultFolder to get the Windows default behavior. My PR does not cover this scenario. @zcbenz , what are your thoughts on this?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/62999483",
    "html_url": "https://github.com/electron/electron/issues/812#issuecomment-62999483",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/812",
    "id": 62999483,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2014-11-14T01:57:26Z",
    "updated_at": "2014-11-14T01:57:34Z",
    "body": "> As I think about this more and more I think it may be desirable to have the functionality of both. Perhaps if a default path is specified by the user use SetFolder and if not use SetDefaultFolder to get the Windows default behavior. My PR does not cover this scenario. @zcbenz , what are your thoughts on this?\n\nI think we can just use `SetFolder` until someone explicitly asking for the behavior of `SetDefaultFolder`.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/62999523",
    "html_url": "https://github.com/electron/electron/issues/812#issuecomment-62999523",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/812",
    "id": 62999523,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2014-11-14T01:57:56Z",
    "updated_at": "2014-11-14T01:57:56Z",
    "body": "Fixed by #823.\n"
  }
]