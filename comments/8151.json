[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/265276135",
    "html_url": "https://github.com/electron/electron/issues/8151#issuecomment-265276135",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8151",
    "id": 265276135,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-12-06T21:21:34Z",
    "updated_at": "2016-12-06T21:21:34Z",
    "body": "> Uncaught TypeError: Error processing argument at index 0, conversion failure from [object Object]\r\n\r\nThe argument to `writeImage` needs to be a `NativeImage` or `String` file path, `image.toJPEG()` returns a `Buffer`.\r\n\r\nUse `nativeImage.fromBuffer(image.toJPEG(quality))` instead.\r\n\r\nhttp://electron.atom.io/docs/api/native-image/"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/265282146",
    "html_url": "https://github.com/electron/electron/issues/8151#issuecomment-265282146",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8151",
    "id": 265282146,
    "user": {
      "login": "bahmutov",
      "id": 2212006,
      "avatar_url": "https://avatars2.githubusercontent.com/u/2212006?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bahmutov",
      "html_url": "https://github.com/bahmutov",
      "followers_url": "https://api.github.com/users/bahmutov/followers",
      "following_url": "https://api.github.com/users/bahmutov/following{/other_user}",
      "gists_url": "https://api.github.com/users/bahmutov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bahmutov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bahmutov/subscriptions",
      "organizations_url": "https://api.github.com/users/bahmutov/orgs",
      "repos_url": "https://api.github.com/users/bahmutov/repos",
      "events_url": "https://api.github.com/users/bahmutov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bahmutov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-06T21:44:09Z",
    "updated_at": "2016-12-06T21:44:09Z",
    "body": "Yes, so in the code example, `webview.capturePage` returns NativeImage, which I am passing directly into `clipboard.writeImage(image)`. Conversion to JPEG is only done to save the image to disk to make sure the file is valid."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/265282417",
    "html_url": "https://github.com/electron/electron/issues/8151#issuecomment-265282417",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8151",
    "id": 265282417,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-12-06T21:45:15Z",
    "updated_at": "2016-12-06T21:45:15Z",
    "body": "> Conversion to JPEG is only done to save the image to disk to make sure the file is valid.\r\n\r\nWhoops, sorry, misread that."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/265283809",
    "html_url": "https://github.com/electron/electron/issues/8151#issuecomment-265283809",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8151",
    "id": 265283809,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-12-06T21:50:33Z",
    "updated_at": "2016-12-06T21:50:33Z",
    "body": "You can wrap it in a `nativeImage.createFromBuffer(image.getBitmap())` to workaround this.\r\n\r\nThis issue is happening because `webview.capturePage` is actually a remote method doing IPC so the value it calls back with is a remote `nativeImage` object. It does not seem like it is currently supported to pass these back into subsequent API calls."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/265286160",
    "html_url": "https://github.com/electron/electron/issues/8151#issuecomment-265286160",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8151",
    "id": 265286160,
    "user": {
      "login": "bahmutov",
      "id": 2212006,
      "avatar_url": "https://avatars2.githubusercontent.com/u/2212006?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bahmutov",
      "html_url": "https://github.com/bahmutov",
      "followers_url": "https://api.github.com/users/bahmutov/followers",
      "following_url": "https://api.github.com/users/bahmutov/following{/other_user}",
      "gists_url": "https://api.github.com/users/bahmutov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bahmutov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bahmutov/subscriptions",
      "organizations_url": "https://api.github.com/users/bahmutov/orgs",
      "repos_url": "https://api.github.com/users/bahmutov/repos",
      "events_url": "https://api.github.com/users/bahmutov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bahmutov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-06T21:59:20Z",
    "updated_at": "2016-12-06T21:59:20Z",
    "body": "so far no luck, does not seem the image is placed into the clipboard. Is there a good tool to inspect the clipboard for Mac?"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/265287979",
    "html_url": "https://github.com/electron/electron/issues/8151#issuecomment-265287979",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8151",
    "id": 265287979,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-12-06T22:06:06Z",
    "updated_at": "2016-12-06T22:06:06Z",
    "body": "> Is there a good tool to inspect the clipboard for Mac?\r\n\r\nI usually just launch `TextEdit` since it supports pasting images.\r\n\r\nCan you try `clipboard.writeImage(nativeImage.createFromBuffer(image.toJPEG(1000)))` instead?"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/265288291",
    "html_url": "https://github.com/electron/electron/issues/8151#issuecomment-265288291",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8151",
    "id": 265288291,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-12-06T22:07:09Z",
    "updated_at": "2016-12-06T22:07:09Z",
    "body": "`clipboard.writeImage(nativeImage.createFromBuffer(image.toPNG()))` works for me too."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/265291483",
    "html_url": "https://github.com/electron/electron/issues/8151#issuecomment-265291483",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8151",
    "id": 265291483,
    "user": {
      "login": "bahmutov",
      "id": 2212006,
      "avatar_url": "https://avatars2.githubusercontent.com/u/2212006?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bahmutov",
      "html_url": "https://github.com/bahmutov",
      "followers_url": "https://api.github.com/users/bahmutov/followers",
      "following_url": "https://api.github.com/users/bahmutov/following{/other_user}",
      "gists_url": "https://api.github.com/users/bahmutov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bahmutov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bahmutov/subscriptions",
      "organizations_url": "https://api.github.com/users/bahmutov/orgs",
      "repos_url": "https://api.github.com/users/bahmutov/repos",
      "events_url": "https://api.github.com/users/bahmutov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bahmutov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-12-06T22:20:04Z",
    "updated_at": "2016-12-06T22:20:04Z",
    "body": "Cool, both the above work arounds work, and the image can be pasted into Chrome email clients for example. Thank you very much for looking at this."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/265294935",
    "html_url": "https://github.com/electron/electron/issues/8151#issuecomment-265294935",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8151",
    "id": 265294935,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-12-06T22:34:20Z",
    "updated_at": "2016-12-06T22:34:20Z",
    "body": "> Cool, both the above work arounds work\r\n\r\nGreat to hear, you can avoid these workarounds if you run this from the main process.\r\n\r\n### In Main Processs\r\n\r\n```js\r\nipcMain.on('capturePageToClipboard', (event, contentsId, rect) => {\r\n  webContents.fromId(contentsId).capturePage(rect, (image) => {\r\n    clipboard.writeImage(image)\r\n  })\r\n})\r\n```\r\n\r\n### In Render Process\r\n\r\n```js\r\nconst capturePageToClipboard = (rect) => {\r\n  ipcRenderer.send('capturePageToClipboard', webview.getWebContents().id, rect)\r\n} \r\n```"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/287226224",
    "html_url": "https://github.com/electron/electron/issues/8151#issuecomment-287226224",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8151",
    "id": 287226224,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2017-03-16T23:46:28Z",
    "updated_at": "2017-03-16T23:46:28Z",
    "body": "This can also occur the other way (#8665), you cannot currently pass a renderer process `NativeImage` to `remote.clipboard.writeImage`. This affects Linux since the clipboard module in the renderer process uses `remote`."
  }
]