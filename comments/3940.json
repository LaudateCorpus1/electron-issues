[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/167709284",
    "html_url": "https://github.com/electron/electron/issues/3940#issuecomment-167709284",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3940",
    "id": 167709284,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-12-29T03:15:48Z",
    "updated_at": "2015-12-29T03:15:48Z",
    "body": "Can you provide an example?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/167846920",
    "html_url": "https://github.com/electron/electron/issues/3940#issuecomment-167846920",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3940",
    "id": 167846920,
    "user": {
      "login": "djahma",
      "id": 3940133,
      "avatar_url": "https://avatars1.githubusercontent.com/u/3940133?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/djahma",
      "html_url": "https://github.com/djahma",
      "followers_url": "https://api.github.com/users/djahma/followers",
      "following_url": "https://api.github.com/users/djahma/following{/other_user}",
      "gists_url": "https://api.github.com/users/djahma/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/djahma/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/djahma/subscriptions",
      "organizations_url": "https://api.github.com/users/djahma/orgs",
      "repos_url": "https://api.github.com/users/djahma/repos",
      "events_url": "https://api.github.com/users/djahma/events{/privacy}",
      "received_events_url": "https://api.github.com/users/djahma/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-29T18:16:00Z",
    "updated_at": "2015-12-29T18:16:00Z",
    "body": "Here is code ran in the main process. The 'mip' var is path to some file on disk. And the 'lastmenu' object is the menuitem where I branch in the new **f** menuitem.\n\n```\nvar txt = fs.readFileSync(mip,'utf8');\nvar f = eval(txt)\nf = new MenuItem(f)\nlastmenu.append(f)\n```\n\nAnd here is content of 'mip' file:\n\n```\n(function(){\n   var o = {\n      label: 'Console',\n      accelerator: 'ctrl+j',\n      click: function(item, focusedWindow) {\n         console.log(\"Just do something\")\n      }\n   }\n   return o\n})()\n```\n\nThe menu gets updated fine and shows the **Console** label as well as its accelerator. Clicking that **Console** Menuitem does execute the click function. However, using the accelerator does nothing.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/168113119",
    "html_url": "https://github.com/electron/electron/issues/3940#issuecomment-168113119",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3940",
    "id": 168113119,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-12-31T02:52:51Z",
    "updated_at": "2015-12-31T02:52:51Z",
    "body": "I'm not able to reproduce in a bare app, it should be something else in your code caused the problem, can you work out an example app?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/168297393",
    "html_url": "https://github.com/electron/electron/issues/3940#issuecomment-168297393",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3940",
    "id": 168297393,
    "user": {
      "login": "djahma",
      "id": 3940133,
      "avatar_url": "https://avatars1.githubusercontent.com/u/3940133?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/djahma",
      "html_url": "https://github.com/djahma",
      "followers_url": "https://api.github.com/users/djahma/followers",
      "following_url": "https://api.github.com/users/djahma/following{/other_user}",
      "gists_url": "https://api.github.com/users/djahma/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/djahma/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/djahma/subscriptions",
      "organizations_url": "https://api.github.com/users/djahma/orgs",
      "repos_url": "https://api.github.com/users/djahma/repos",
      "events_url": "https://api.github.com/users/djahma/events{/privacy}",
      "received_events_url": "https://api.github.com/users/djahma/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-01T10:31:48Z",
    "updated_at": "2016-01-01T10:31:48Z",
    "body": "I've actually found a way around that glitch, after `append(menuitem)` I call `Menu.setApplicationMenu(topmenu)` and the accelerator works. Therefore, I don't think that's a bug, but just an inconsistency. Anyway, here is a working example: https://copy.com/k7G1zrNjXsqSI6W1\n\nThere are 4 files you'd have to download into the same folder as the electron binary, and then :\n`$ ./electron ./test.js` to launch the inconsistency demo.\n\nUnder **File** menu, you'll see a **Console** menuitem that's being added after the original items. That **Console** menu is displayed, and clicking it does trigger its click function. However, its accelerator does not work.\nNow, in _test.js_ file, if you uncomment the `Menu.setApplicationMenu(tmpmenu)` line, the accelerator will work.\n\nI believe the `submenu.append()` function should set the accelerator too if it already show the menuitem...or not show anything until the Menu.setApplicationMenu() is called for a consistent behavior?\n\n(apologies for the dirty code, I quickly pulled bits and pieces to get a working example)\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/168569389",
    "html_url": "https://github.com/electron/electron/issues/3940#issuecomment-168569389",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/3940",
    "id": 168569389,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-01-04T02:56:55Z",
    "updated_at": "2016-01-04T02:56:55Z",
    "body": "The application menu and window menu objects in Electron can not be dynamically changed, this is because the menu object is only a model, not the actual native menu. So you have to call `Menu.setApplicationMenu` again when you added/removed items in the menu.\n\nThis design inherits from Chromium, the good part is menus can be easily reused between different parts of UI elements, but the bad part is it can not be dynamically changed.\n"
  }
]