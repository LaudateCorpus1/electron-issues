[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/196795724",
    "html_url": "https://github.com/electron/electron/issues/4802#issuecomment-196795724",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4802",
    "id": 196795724,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-03-15T12:19:37Z",
    "updated_at": "2016-03-15T12:19:37Z",
    "body": "Can you provide an example?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/196807184",
    "html_url": "https://github.com/electron/electron/issues/4802#issuecomment-196807184",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4802",
    "id": 196807184,
    "user": {
      "login": "ArekSredzki",
      "id": 879918,
      "avatar_url": "https://avatars1.githubusercontent.com/u/879918?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ArekSredzki",
      "html_url": "https://github.com/ArekSredzki",
      "followers_url": "https://api.github.com/users/ArekSredzki/followers",
      "following_url": "https://api.github.com/users/ArekSredzki/following{/other_user}",
      "gists_url": "https://api.github.com/users/ArekSredzki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ArekSredzki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ArekSredzki/subscriptions",
      "organizations_url": "https://api.github.com/users/ArekSredzki/orgs",
      "repos_url": "https://api.github.com/users/ArekSredzki/repos",
      "events_url": "https://api.github.com/users/ArekSredzki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ArekSredzki/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-15T13:03:11Z",
    "updated_at": "2016-03-15T13:03:11Z",
    "body": "@zcbenz as in a picture?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/196809175",
    "html_url": "https://github.com/electron/electron/issues/4802#issuecomment-196809175",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4802",
    "id": 196809175,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-03-15T13:09:14Z",
    "updated_at": "2016-03-15T13:09:14Z",
    "body": "I just did `console.log(require('electron'))` but didn't see what you described.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/199588369",
    "html_url": "https://github.com/electron/electron/issues/4802#issuecomment-199588369",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4802",
    "id": 199588369,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-22T02:21:05Z",
    "updated_at": "2016-03-22T02:21:05Z",
    "body": "@zcbenz was able to reproduce with sending a simple object over ipc.\n\n```\nwebContents.send('serialize', {test: \"simple\"})\n\nipcRenderer.on('serialize', function(e, msg) {\n  console.log(Object.getOwnPropertyNames(msg))\n})\n```\n\nreturns an array with 2 elements instead of one. The cause seems to be use of `v8::Object::SetHiddenValue` ?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/200211548",
    "html_url": "https://github.com/electron/electron/issues/4802#issuecomment-200211548",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4802",
    "id": 200211548,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-23T06:52:19Z",
    "updated_at": "2016-03-23T06:52:19Z",
    "body": "Couldnt find any related issue in upstream repos, so did a `git bisect` with the following code.\n\n``` c++\n#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\n#include \"src/base/logging.h\"\n#include \"libplatform/libplatform.h\"\n#include \"v8.h\"\n\nusing namespace v8;\n\nclass ArrayBufferAllocator : public v8::ArrayBuffer::Allocator {\n public:\n  virtual void* Allocate(size_t length) {\n    void* data = AllocateUninitialized(length);\n    return data == NULL ? data : memset(data, 0, length);\n  }\n  virtual void* AllocateUninitialized(size_t length) { return malloc(length); }\n  virtual void Free(void* data, size_t) { free(data); }\n};\n\nint main(int argc, char* argv[]) {\n  // Initialize V8.\n  V8::InitializeICU();\n  V8::InitializeExternalStartupData(argv[0]);\n  Platform* platform = platform::CreateDefaultPlatform();\n  V8::InitializePlatform(platform);\n  V8::Initialize();\n\n  // Create a new Isolate and make it the current one.\n  ArrayBufferAllocator allocator;\n  Isolate::CreateParams create_params;\n  create_params.array_buffer_allocator = &allocator;\n  Isolate* isolate = Isolate::New(create_params);\n  {\n    Isolate::Scope isolate_scope(isolate);\n    HandleScope handle_scope(isolate);\n    Local<Context> context = Context::New(isolate);\n    Context::Scope context_scope(context);\n\n\n    Local<Object> obj = Object::New(isolate);\n    obj->SetHiddenValue(String::NewFromUtf8(isolate, \"simple\"),\n                        Boolean::New(isolate, true));\n    Local<Object> global = context->Global();\n    Local<Value> global_object =\n         global->Get(String::NewFromUtf8(isolate, \"Object\"));\n    if (global_object->IsObject()) {\n      Local<Value> method =\n          global_object->ToObject()->Get(\n              String::NewFromUtf8(isolate, \"getOwnPropertyNames\"));\n      Local<Value> args[] = {obj};\n      Local<Value> result =\n          method.As<Function>()->Call(global_object, 1, args);\n      if (result->IsArray()) {\n        Local<Array> arr= result.As<Array>();\n        CHECK(!arr->Length());\n      }\n    }\n  }\n\n  // Dispose the isolate and tear down V8.\n  isolate->Dispose();\n  V8::Dispose();\n  V8::ShutdownPlatform();\n  delete platform;\n  return 0;\n}\n```\n\nthe hidden string started showing up since this [commit](https://github.com/v8/v8/commit/7d1263db477c812d40789c75be2f368e4c0b9769) and was fixed in v5.0.2 [here](https://github.com/v8/v8/commit/9eb4929502795b40324bd5ffda2840ec37793acd). Should we wait for the next chromium upgrade or use `v8::Object::SetPrivate` since `hiddenValue` is being deprecated anyway.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/200360272",
    "html_url": "https://github.com/electron/electron/issues/4802#issuecomment-200360272",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4802",
    "id": 200360272,
    "user": {
      "login": "ArekSredzki",
      "id": 879918,
      "avatar_url": "https://avatars1.githubusercontent.com/u/879918?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ArekSredzki",
      "html_url": "https://github.com/ArekSredzki",
      "followers_url": "https://api.github.com/users/ArekSredzki/followers",
      "following_url": "https://api.github.com/users/ArekSredzki/following{/other_user}",
      "gists_url": "https://api.github.com/users/ArekSredzki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ArekSredzki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ArekSredzki/subscriptions",
      "organizations_url": "https://api.github.com/users/ArekSredzki/orgs",
      "repos_url": "https://api.github.com/users/ArekSredzki/repos",
      "events_url": "https://api.github.com/users/ArekSredzki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ArekSredzki/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-23T14:11:05Z",
    "updated_at": "2016-03-23T14:11:05Z",
    "body": "Thanks for looking into this further, you are correct that this occurs when sending objects on IPC.\nPersonally this is very interruptive in my development workflow so I would appreciate it being fixed asap, but could understand if you find the need to wait for the next chromium upgrade.\n"
  }
]