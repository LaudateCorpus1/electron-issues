[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/170410910",
    "html_url": "https://github.com/electron/electron/pull/4047#issuecomment-170410910",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4047",
    "id": 170410910,
    "user": {
      "login": "etiktin",
      "id": 4381579,
      "avatar_url": "https://avatars1.githubusercontent.com/u/4381579?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/etiktin",
      "html_url": "https://github.com/etiktin",
      "followers_url": "https://api.github.com/users/etiktin/followers",
      "following_url": "https://api.github.com/users/etiktin/following{/other_user}",
      "gists_url": "https://api.github.com/users/etiktin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/etiktin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/etiktin/subscriptions",
      "organizations_url": "https://api.github.com/users/etiktin/orgs",
      "repos_url": "https://api.github.com/users/etiktin/repos",
      "events_url": "https://api.github.com/users/etiktin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/etiktin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-11T00:47:09Z",
    "updated_at": "2016-01-11T00:48:34Z",
    "body": "Your current commits add a dependency on python, so every user that ends up using an app that calls `app.restart` will need python installed. I suggest implementing it in CoffeeScript/JavaScript or C++ instead.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/170534734",
    "html_url": "https://github.com/electron/electron/pull/4047#issuecomment-170534734",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4047",
    "id": 170534734,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-01-11T12:42:37Z",
    "updated_at": "2016-01-11T12:42:37Z",
    "body": "The `script/restart` script is not shipped with Electron, so no matter whether you use node or python it won't work anyway, except for when using it in the cloned Electron repo.\n\nAlso `node` is an even worse choice than python, no operating system is shipping node by default.\n\nThe decent way of implementing `app.restart` is to use shell script on POSIX systems, and batch script on Windows. The script should be generated dynamically when `app.restart` is called, so we don't have to add another file in the distribution.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/170540602",
    "html_url": "https://github.com/electron/electron/pull/4047#issuecomment-170540602",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4047",
    "id": 170540602,
    "user": {
      "login": "etiktin",
      "id": 4381579,
      "avatar_url": "https://avatars1.githubusercontent.com/u/4381579?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/etiktin",
      "html_url": "https://github.com/etiktin",
      "followers_url": "https://api.github.com/users/etiktin/followers",
      "following_url": "https://api.github.com/users/etiktin/following{/other_user}",
      "gists_url": "https://api.github.com/users/etiktin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/etiktin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/etiktin/subscriptions",
      "organizations_url": "https://api.github.com/users/etiktin/orgs",
      "repos_url": "https://api.github.com/users/etiktin/repos",
      "events_url": "https://api.github.com/users/etiktin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/etiktin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-11T12:58:17Z",
    "updated_at": "2016-01-11T12:58:17Z",
    "body": "Instead of using node you can use electron as node (process.execPath with ELECTRON_RUN_AS_NODE env variable). In regards to the script, we can add it to atom.asar and extract it to temp before executing the command.\n@zcbenz, what do you think?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/170551813",
    "html_url": "https://github.com/electron/electron/pull/4047#issuecomment-170551813",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4047",
    "id": 170551813,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-01-11T13:41:18Z",
    "updated_at": "2016-01-11T13:41:18Z",
    "body": "> Instead of using node you can use electron as node (process.execPath with ELECTRON_RUN_AS_NODE env variable). In regards to the script, we can add it to atom.asar and extract it to temp before executing the command.\n\nIt sounds good to me, better than writing shell scripts :+1:. We don't need to extract the script though, the node mode of Electron can read the asar archive directly.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/170585854",
    "html_url": "https://github.com/electron/electron/pull/4047#issuecomment-170585854",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4047",
    "id": 170585854,
    "user": {
      "login": "leethomas",
      "id": 5622404,
      "avatar_url": "https://avatars1.githubusercontent.com/u/5622404?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leethomas",
      "html_url": "https://github.com/leethomas",
      "followers_url": "https://api.github.com/users/leethomas/followers",
      "following_url": "https://api.github.com/users/leethomas/following{/other_user}",
      "gists_url": "https://api.github.com/users/leethomas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leethomas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leethomas/subscriptions",
      "organizations_url": "https://api.github.com/users/leethomas/orgs",
      "repos_url": "https://api.github.com/users/leethomas/repos",
      "events_url": "https://api.github.com/users/leethomas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leethomas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-11T15:23:07Z",
    "updated_at": "2016-01-11T15:23:22Z",
    "body": "@zcbenz @etiktin Will `ELECTRON_RUN_AS_NODE` work with apps that have already been packaged for their respective OS?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/170737723",
    "html_url": "https://github.com/electron/electron/pull/4047#issuecomment-170737723",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4047",
    "id": 170737723,
    "user": {
      "login": "etiktin",
      "id": 4381579,
      "avatar_url": "https://avatars1.githubusercontent.com/u/4381579?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/etiktin",
      "html_url": "https://github.com/etiktin",
      "followers_url": "https://api.github.com/users/etiktin/followers",
      "following_url": "https://api.github.com/users/etiktin/following{/other_user}",
      "gists_url": "https://api.github.com/users/etiktin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/etiktin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/etiktin/subscriptions",
      "organizations_url": "https://api.github.com/users/etiktin/orgs",
      "repos_url": "https://api.github.com/users/etiktin/repos",
      "events_url": "https://api.github.com/users/etiktin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/etiktin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-12T00:03:41Z",
    "updated_at": "2016-01-12T00:03:41Z",
    "body": "@leethomas, I'm not sure I understand your question. Are you asking if you can run an existing app with that env var? You can run a node script that is located in your app folder or asar, but it will fail if you try to run anything that uses Electron's APIs.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/170801001",
    "html_url": "https://github.com/electron/electron/pull/4047#issuecomment-170801001",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4047",
    "id": 170801001,
    "user": {
      "login": "leethomas",
      "id": 5622404,
      "avatar_url": "https://avatars1.githubusercontent.com/u/5622404?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leethomas",
      "html_url": "https://github.com/leethomas",
      "followers_url": "https://api.github.com/users/leethomas/followers",
      "following_url": "https://api.github.com/users/leethomas/following{/other_user}",
      "gists_url": "https://api.github.com/users/leethomas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leethomas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leethomas/subscriptions",
      "organizations_url": "https://api.github.com/users/leethomas/orgs",
      "repos_url": "https://api.github.com/users/leethomas/repos",
      "events_url": "https://api.github.com/users/leethomas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leethomas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-12T05:36:20Z",
    "updated_at": "2016-01-12T05:37:14Z",
    "body": "Nvm on the previous question. @zcbenz  I was reading the app-distribution docs and read that you are limited to using `child_process.execFile` when reading from asar archives for executing code. Since we need to execute a binary we'll have to extract it anyway, right?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/170801989",
    "html_url": "https://github.com/electron/electron/pull/4047#issuecomment-170801989",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4047",
    "id": 170801989,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-01-12T05:41:59Z",
    "updated_at": "2016-01-12T05:41:59Z",
    "body": "@leethomas Node.js uses `fs.readFileSync` to read a script and execute it, the node mode of Electron behaves the same with Node.js.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/170805410",
    "html_url": "https://github.com/electron/electron/pull/4047#issuecomment-170805410",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4047",
    "id": 170805410,
    "user": {
      "login": "leethomas",
      "id": 5622404,
      "avatar_url": "https://avatars1.githubusercontent.com/u/5622404?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leethomas",
      "html_url": "https://github.com/leethomas",
      "followers_url": "https://api.github.com/users/leethomas/followers",
      "following_url": "https://api.github.com/users/leethomas/following{/other_user}",
      "gists_url": "https://api.github.com/users/leethomas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leethomas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leethomas/subscriptions",
      "organizations_url": "https://api.github.com/users/leethomas/orgs",
      "repos_url": "https://api.github.com/users/leethomas/repos",
      "events_url": "https://api.github.com/users/leethomas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leethomas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-12T05:51:44Z",
    "updated_at": "2016-01-12T05:52:41Z",
    "body": "I'm not sure if I'm imagining the same workflow you are. Here's what's in my head: `app.restart()` (launches resource_path/atom.asar/restart.js, then kills itself) -> `restart.js` (waits for the app to quit if it hasn't already, then execute the binary for the app). The last part is where I'm stuck. If `restart.js` uses `fs.readFileSync` to call another script...well then that's 2 scripts, right? I tried using `child_process.exec` from within `restart.js` but it didn't work of course. \n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/170810951",
    "html_url": "https://github.com/electron/electron/pull/4047#issuecomment-170810951",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4047",
    "id": 170810951,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-01-12T06:23:26Z",
    "updated_at": "2016-01-12T06:23:26Z",
    "body": "Ideal workflow is:\n1. child_process.fork('/path/to/restart.js', [ argsForRestarting ]);\n2. app.quit();\n3. In restart.js: wait for the process to quit and then restart the app.\n\nReading the source code is the fastest way to get questions answered.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/170813253",
    "html_url": "https://github.com/electron/electron/pull/4047#issuecomment-170813253",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4047",
    "id": 170813253,
    "user": {
      "login": "leethomas",
      "id": 5622404,
      "avatar_url": "https://avatars1.githubusercontent.com/u/5622404?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leethomas",
      "html_url": "https://github.com/leethomas",
      "followers_url": "https://api.github.com/users/leethomas/followers",
      "following_url": "https://api.github.com/users/leethomas/following{/other_user}",
      "gists_url": "https://api.github.com/users/leethomas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leethomas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leethomas/subscriptions",
      "organizations_url": "https://api.github.com/users/leethomas/orgs",
      "repos_url": "https://api.github.com/users/leethomas/repos",
      "events_url": "https://api.github.com/users/leethomas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leethomas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-12T06:34:51Z",
    "updated_at": "2016-01-12T06:34:51Z",
    "body": "Thanks, realized I was overcomplicating things\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/170820619",
    "html_url": "https://github.com/electron/electron/pull/4047#issuecomment-170820619",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4047",
    "id": 170820619,
    "user": {
      "login": "paulcbetts",
      "id": 1396,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1396?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulcbetts",
      "html_url": "https://github.com/paulcbetts",
      "followers_url": "https://api.github.com/users/paulcbetts/followers",
      "following_url": "https://api.github.com/users/paulcbetts/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulcbetts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulcbetts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulcbetts/subscriptions",
      "organizations_url": "https://api.github.com/users/paulcbetts/orgs",
      "repos_url": "https://api.github.com/users/paulcbetts/repos",
      "events_url": "https://api.github.com/users/paulcbetts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulcbetts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-12T07:13:34Z",
    "updated_at": "2016-01-12T07:13:34Z",
    "body": "https://github.com/Squirrel/Squirrel.Windows/blob/master/src/Update/Program.cs#L510 shows how to open your parent's PID and wait for it to exit\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/174891176",
    "html_url": "https://github.com/electron/electron/pull/4047#issuecomment-174891176",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4047",
    "id": 174891176,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-01-26T08:40:01Z",
    "updated_at": "2016-01-26T08:40:01Z",
    "body": "I'm closing this because there hasn't been any update since last code review, will reopen when there is update.\n"
  }
]