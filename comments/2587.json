[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/134823065",
    "html_url": "https://github.com/electron/electron/issues/2587#issuecomment-134823065",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2587",
    "id": 134823065,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-08-26T04:11:45Z",
    "updated_at": "2015-08-26T04:11:45Z",
    "body": "What if you put this in your preload script?\n\n``` js\nwindow.onload = function() { Test(); }\n```\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/134866365",
    "html_url": "https://github.com/electron/electron/issues/2587#issuecomment-134866365",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2587",
    "id": 134866365,
    "user": {
      "login": "LeMoussel",
      "id": 1816573,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1816573?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LeMoussel",
      "html_url": "https://github.com/LeMoussel",
      "followers_url": "https://api.github.com/users/LeMoussel/followers",
      "following_url": "https://api.github.com/users/LeMoussel/following{/other_user}",
      "gists_url": "https://api.github.com/users/LeMoussel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LeMoussel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LeMoussel/subscriptions",
      "organizations_url": "https://api.github.com/users/LeMoussel/orgs",
      "repos_url": "https://api.github.com/users/LeMoussel/repos",
      "events_url": "https://api.github.com/users/LeMoussel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LeMoussel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-26T06:52:01Z",
    "updated_at": "2015-08-26T06:52:01Z",
    "body": "Same results. Some links have top and left values positioned to 0.\n\n`[6200:0826/084044:INFO:CONSOLE(16)] \"005b â€“ Programmer un USBASP sous Arduino => http://www.actuino.fr/tutos/usbasp/005b-programmer-usbasp\", source: C:\\Electron\\Test\\PreLoad\\preload.js (16)\n[6200:0826/084044:INFO:CONSOLE(17)] \"    coords =>  top:0 left:0\", source: C:\\Electron\\Test\\PreLoad\\preload.js (17)`\n\nIn console Electron windows, run `Test()`, obtain this result \n![electron](https://cloud.githubusercontent.com/assets/1816573/9487180/98014d4e-4bcf-11e5-8bf7-ea392a473d3c.png)\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/134872962",
    "html_url": "https://github.com/electron/electron/issues/2587#issuecomment-134872962",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2587",
    "id": 134872962,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-08-26T07:12:29Z",
    "updated_at": "2015-08-26T07:12:29Z",
    "body": "What if you put that code in your page? Like in the script tag in `<head>`.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/134885225",
    "html_url": "https://github.com/electron/electron/issues/2587#issuecomment-134885225",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2587",
    "id": 134885225,
    "user": {
      "login": "LeMoussel",
      "id": 1816573,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1816573?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LeMoussel",
      "html_url": "https://github.com/LeMoussel",
      "followers_url": "https://api.github.com/users/LeMoussel/followers",
      "following_url": "https://api.github.com/users/LeMoussel/following{/other_user}",
      "gists_url": "https://api.github.com/users/LeMoussel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LeMoussel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LeMoussel/subscriptions",
      "organizations_url": "https://api.github.com/users/LeMoussel/orgs",
      "repos_url": "https://api.github.com/users/LeMoussel/repos",
      "events_url": "https://api.github.com/users/LeMoussel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LeMoussel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-26T07:49:21Z",
    "updated_at": "2015-08-26T07:49:21Z",
    "body": "I'm not the page owner, I can't modify it.\n\nBut in Electron windows, if i click on 'Accueil', this page is reloaded, `Test()` function is re-executed and all links have top and left set to some values (not 0). Bizarre, bizarre .....\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/134893577",
    "html_url": "https://github.com/electron/electron/issues/2587#issuecomment-134893577",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2587",
    "id": 134893577,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-08-26T08:16:24Z",
    "updated_at": "2015-08-26T08:16:24Z",
    "body": "On some pages the positions of elements are modified after page is loaded, a common way in web pages is to wait for page to get loaded and then use JavaScript to dynamically position the elements to certain positions, so by the time `Test()` is executed the elements may do have 0 positions. And due to the nature of browser cache, whether the elements may have been positioned when `Text()` is called is really uncertain.\n\nSince we can't really be certain it is a bug of Election, and in most cases it is not because rendering of page is on Chromium's side, I'm closing this.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/134905025",
    "html_url": "https://github.com/electron/electron/issues/2587#issuecomment-134905025",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2587",
    "id": 134905025,
    "user": {
      "login": "LeMoussel",
      "id": 1816573,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1816573?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LeMoussel",
      "html_url": "https://github.com/LeMoussel",
      "followers_url": "https://api.github.com/users/LeMoussel/followers",
      "following_url": "https://api.github.com/users/LeMoussel/following{/other_user}",
      "gists_url": "https://api.github.com/users/LeMoussel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LeMoussel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LeMoussel/subscriptions",
      "organizations_url": "https://api.github.com/users/LeMoussel/orgs",
      "repos_url": "https://api.github.com/users/LeMoussel/repos",
      "events_url": "https://api.github.com/users/LeMoussel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LeMoussel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-26T09:00:42Z",
    "updated_at": "2015-08-26T09:01:41Z",
    "body": "Hummm ... I'm not sure. Strange ....\nI wait 10 sec with window `setTimeout()` method before to call `Test()` and some links have 0 positions.\n\nIf use [webview](https://github.com/atom/electron/blob/master/docs/api/web-view-tag.md) like this code, this seems correct. Links elements have positions.\n\n**main.js**\n\n``` javascript\nvar app = require('app');\nvar BrowserWindow = require('browser-window'); \n\nvar mainWindow = null;\n\napp.on('window-all-closed', function() {\n  if (process.platform != 'darwin') {\n    app.quit();\n  }\n});\n\napp.on('ready', function() {\n  mainWindow = new BrowserWindow({width: 1200, height: 800});\n  mainWindow.loadUrl(__dirname + '/index.html');\n  mainWindow.on('closed', function() { mainWindow = null; });\n});\n```\n\n**index.html**\n\n``` html\n<!DOCTYPE html>\n<html>\n  <head>\n    <script src=\"index.js\"></script>\n  </head>\n  <body>   \n  </body>\n</html>\n```\n\n**index.js**\n\n``` javascript\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n    var webview = document.createElement('webview');\n    webview.addEventListener('did-finish-load', onWebViewLoaded);\n    webview.addEventListener(\"dom-ready\", function(){ webview.openDevTools(); });\n    webview.addEventListener('console-message', function(e) { console.log(e.message); });\n    webview.src = 'http://www.actuino.fr/';\n    webview.preload = './preload.js';\n    document.body.appendChild(webview);\n});\n\nfunction onWebViewLoaded() {\n    console.log('onWebViewLoaded');\n    var webview = document.getElementsByTagName('webview')[0];\n    webview.executeJavaScript('Test()');\n}\n```\n\n**preload.js**\n\n``` javascript\nfunction getOffset( el ) {\n    var _x = 0;\n    var _y = 0;\n    while( el && !isNaN( el.offsetLeft ) && !isNaN( el.offsetTop ) ) {\n        _x += el.offsetLeft - el.scrollLeft;\n        _y += el.offsetTop - el.scrollTop;\n        el = el.offsetParent;\n    }\n    return { top: _y, left: _x };\n};\n\nwindow.Test = function Test() {\n    for (var i=0; i<document.links.length; i++) {\n        var coords = getOffset(document.links[i]);\n        console.log(document.links[i].text + ' => ' + document.links[i].href)\n        console.log('    coords => ' + ' top:' + coords.top + ' left:' + coords.left);    \n    }\n};\n```\n"
  }
]