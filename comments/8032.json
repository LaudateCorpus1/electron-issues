[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/261818016",
    "html_url": "https://github.com/electron/electron/issues/8032#issuecomment-261818016",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8032",
    "id": 261818016,
    "user": {
      "login": "MarshallOfSound",
      "id": 6634592,
      "avatar_url": "https://avatars0.githubusercontent.com/u/6634592?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarshallOfSound",
      "html_url": "https://github.com/MarshallOfSound",
      "followers_url": "https://api.github.com/users/MarshallOfSound/followers",
      "following_url": "https://api.github.com/users/MarshallOfSound/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarshallOfSound/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarshallOfSound/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarshallOfSound/subscriptions",
      "organizations_url": "https://api.github.com/users/MarshallOfSound/orgs",
      "repos_url": "https://api.github.com/users/MarshallOfSound/repos",
      "events_url": "https://api.github.com/users/MarshallOfSound/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarshallOfSound/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-21T00:24:40Z",
    "updated_at": "2016-11-21T00:24:40Z",
    "body": "GitHub issues are for feature requests and bug reports, questions about using Electron should be directed to the [community](https://github.com/electron/electron#community) or to the [Slack Channel](http://atom-slack.herokuapp.com/).\r\n\r\n> However I am not able to terminate the app from Activity Monitor. Is there any event I can use to detect that user is trying to kill the app from Activity Monitor so I can gracefully complete execution?\r\n\r\nAFAIK Activity Monitor attempts to gracefully close your application (which you are preventing) and I don't think there is a way for your application to know who told it to quit.  \r\n\r\nAs a potential solution you could write a native module to get the focused application and if it is activity monitor make an assumption that activity monitor told you to quit."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/261818175",
    "html_url": "https://github.com/electron/electron/issues/8032#issuecomment-261818175",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8032",
    "id": 261818175,
    "user": {
      "login": "pronebird",
      "id": 704044,
      "avatar_url": "https://avatars1.githubusercontent.com/u/704044?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pronebird",
      "html_url": "https://github.com/pronebird",
      "followers_url": "https://api.github.com/users/pronebird/followers",
      "following_url": "https://api.github.com/users/pronebird/following{/other_user}",
      "gists_url": "https://api.github.com/users/pronebird/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pronebird/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pronebird/subscriptions",
      "organizations_url": "https://api.github.com/users/pronebird/orgs",
      "repos_url": "https://api.github.com/users/pronebird/repos",
      "events_url": "https://api.github.com/users/pronebird/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pronebird/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-21T00:27:07Z",
    "updated_at": "2016-11-21T00:27:07Z",
    "body": "@MarshallOfSound Thanks I didn't know about Slack group.\r\n\r\nI don't think you're right though. I tried to use 'before-quit' event and it seems to be called when activity monitor attempts to gracefully quit the app."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/261818372",
    "html_url": "https://github.com/electron/electron/issues/8032#issuecomment-261818372",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8032",
    "id": 261818372,
    "user": {
      "login": "MarshallOfSound",
      "id": 6634592,
      "avatar_url": "https://avatars0.githubusercontent.com/u/6634592?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarshallOfSound",
      "html_url": "https://github.com/MarshallOfSound",
      "followers_url": "https://api.github.com/users/MarshallOfSound/followers",
      "following_url": "https://api.github.com/users/MarshallOfSound/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarshallOfSound/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarshallOfSound/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarshallOfSound/subscriptions",
      "organizations_url": "https://api.github.com/users/MarshallOfSound/orgs",
      "repos_url": "https://api.github.com/users/MarshallOfSound/repos",
      "events_url": "https://api.github.com/users/MarshallOfSound/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarshallOfSound/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-21T00:30:20Z",
    "updated_at": "2016-11-21T00:34:53Z",
    "body": "@pronebird Yes the `before-quit` event will be fired but I don't see what is incorrect about what I said.  To summarize what I said again.\r\n\r\n* Activity Monitor is requesting your app to close (Not forcing it)  *Therefore the normal `before-quit`, `will-quit` and `close` events will fire inside your app*\r\n* I do not believe there is a way for Cocoa apps to know why they are being asked to quit / who told them to quit  \r\n* A potential solution is you could write a native module to get the focused application and if it is activity monitor make an assumption that activity monitor told you to quit."
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/261818693",
    "html_url": "https://github.com/electron/electron/issues/8032#issuecomment-261818693",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8032",
    "id": 261818693,
    "user": {
      "login": "pronebird",
      "id": 704044,
      "avatar_url": "https://avatars1.githubusercontent.com/u/704044?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pronebird",
      "html_url": "https://github.com/pronebird",
      "followers_url": "https://api.github.com/users/pronebird/followers",
      "following_url": "https://api.github.com/users/pronebird/following{/other_user}",
      "gists_url": "https://api.github.com/users/pronebird/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pronebird/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pronebird/subscriptions",
      "organizations_url": "https://api.github.com/users/pronebird/orgs",
      "repos_url": "https://api.github.com/users/pronebird/repos",
      "events_url": "https://api.github.com/users/pronebird/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pronebird/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-21T00:35:34Z",
    "updated_at": "2016-11-21T00:35:34Z",
    "body": "Oh right, sorry for being ambiguous. I was looking for a way to know when the app is being asked to quit from outside. Activity Monitor is just a way I attempt to quit it (the easiest way for me).\r\n\r\nThanks for detailed answer!"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/261818796",
    "html_url": "https://github.com/electron/electron/issues/8032#issuecomment-261818796",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8032",
    "id": 261818796,
    "user": {
      "login": "MarshallOfSound",
      "id": 6634592,
      "avatar_url": "https://avatars0.githubusercontent.com/u/6634592?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarshallOfSound",
      "html_url": "https://github.com/MarshallOfSound",
      "followers_url": "https://api.github.com/users/MarshallOfSound/followers",
      "following_url": "https://api.github.com/users/MarshallOfSound/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarshallOfSound/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarshallOfSound/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarshallOfSound/subscriptions",
      "organizations_url": "https://api.github.com/users/MarshallOfSound/orgs",
      "repos_url": "https://api.github.com/users/MarshallOfSound/repos",
      "events_url": "https://api.github.com/users/MarshallOfSound/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarshallOfSound/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-21T00:37:11Z",
    "updated_at": "2016-11-21T00:37:11Z",
    "body": "@pronebird In which case you want to use that `before-quit` event.  It's the first event in the quit chain and is emitted before it attempts to close all your windows.\r\n\r\nhttp://electron.atom.io/docs/api/app/#event-before-quit"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/261821829",
    "html_url": "https://github.com/electron/electron/issues/8032#issuecomment-261821829",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/8032",
    "id": 261821829,
    "user": {
      "login": "pronebird",
      "id": 704044,
      "avatar_url": "https://avatars1.githubusercontent.com/u/704044?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pronebird",
      "html_url": "https://github.com/pronebird",
      "followers_url": "https://api.github.com/users/pronebird/followers",
      "following_url": "https://api.github.com/users/pronebird/following{/other_user}",
      "gists_url": "https://api.github.com/users/pronebird/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pronebird/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pronebird/subscriptions",
      "organizations_url": "https://api.github.com/users/pronebird/orgs",
      "repos_url": "https://api.github.com/users/pronebird/repos",
      "events_url": "https://api.github.com/users/pronebird/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pronebird/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-21T01:19:16Z",
    "updated_at": "2016-11-21T01:19:16Z",
    "body": "Basically I hide the window when close event arrives. This way I can keep the app running even without windows open and I can always display the window on 'activate'. This seems to be pretty standard behavior on macOS.\r\n\r\nNow in order to actually ignore close event and let the window truly close I maintain a flag.\r\n\r\nI raise this flag in the following scenarios:\r\n\r\n1. User hit cmd+q to quit the app\r\n2. before-quit that seems to be arriving when I request to quit the app from activity monitor \r\n\r\nI did quick test and it seems to be working "
  }
]