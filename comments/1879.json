[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/110035250",
    "html_url": "https://github.com/electron/electron/issues/1879#issuecomment-110035250",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1879",
    "id": 110035250,
    "user": {
      "login": "frozeman",
      "id": 232662,
      "avatar_url": "https://avatars2.githubusercontent.com/u/232662?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frozeman",
      "html_url": "https://github.com/frozeman",
      "followers_url": "https://api.github.com/users/frozeman/followers",
      "following_url": "https://api.github.com/users/frozeman/following{/other_user}",
      "gists_url": "https://api.github.com/users/frozeman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frozeman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frozeman/subscriptions",
      "organizations_url": "https://api.github.com/users/frozeman/orgs",
      "repos_url": "https://api.github.com/users/frozeman/repos",
      "events_url": "https://api.github.com/users/frozeman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frozeman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-08T15:16:40Z",
    "updated_at": "2015-06-08T15:16:40Z",
    "body": "Any comment? Its for us (ethereum.org) quite an important feature, as local storage is the only real way to store data client side and we would like to have our custom protocol handlers..\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/110060893",
    "html_url": "https://github.com/electron/electron/issues/1879#issuecomment-110060893",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1879",
    "id": 110060893,
    "user": {
      "login": "steelbrain",
      "id": 4278113,
      "avatar_url": "https://avatars2.githubusercontent.com/u/4278113?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/steelbrain",
      "html_url": "https://github.com/steelbrain",
      "followers_url": "https://api.github.com/users/steelbrain/followers",
      "following_url": "https://api.github.com/users/steelbrain/following{/other_user}",
      "gists_url": "https://api.github.com/users/steelbrain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/steelbrain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/steelbrain/subscriptions",
      "organizations_url": "https://api.github.com/users/steelbrain/orgs",
      "repos_url": "https://api.github.com/users/steelbrain/repos",
      "events_url": "https://api.github.com/users/steelbrain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/steelbrain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-08T16:18:38Z",
    "updated_at": "2015-06-08T16:18:38Z",
    "body": "It doesn't set any cookies either.\ncc @deepak1556 \n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/110082430",
    "html_url": "https://github.com/electron/electron/issues/1879#issuecomment-110082430",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1879",
    "id": 110082430,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-08T17:22:23Z",
    "updated_at": "2015-06-08T17:22:23Z",
    "body": "@frozeman i am running a custom protocol with a file job and `window.location.origin` does get set. A little more insight on how you are using the custom protocol would help, thanks.\n![screen shot 2015-06-08 at 10 42 36 pm](https://cloud.githubusercontent.com/assets/964386/8040708/2babe0d2-0e30-11e5-97ff-409ddd797a91.png)\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/110283353",
    "html_url": "https://github.com/electron/electron/issues/1879#issuecomment-110283353",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1879",
    "id": 110283353,
    "user": {
      "login": "frozeman",
      "id": 232662,
      "avatar_url": "https://avatars2.githubusercontent.com/u/232662?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frozeman",
      "html_url": "https://github.com/frozeman",
      "followers_url": "https://api.github.com/users/frozeman/followers",
      "following_url": "https://api.github.com/users/frozeman/following{/other_user}",
      "gists_url": "https://api.github.com/users/frozeman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frozeman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frozeman/subscriptions",
      "organizations_url": "https://api.github.com/users/frozeman/orgs",
      "repos_url": "https://api.github.com/users/frozeman/repos",
      "events_url": "https://api.github.com/users/frozeman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frozeman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-09T09:04:14Z",
    "updated_at": "2015-06-09T09:04:14Z",
    "body": "Yes it sets the origin with the protocol but not the host name, so all hosts on the same protocol share the same local storage.\n\ne.g. `library://my.lib` would share the same local storage as  `library://another.lib`\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/110284987",
    "html_url": "https://github.com/electron/electron/issues/1879#issuecomment-110284987",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1879",
    "id": 110284987,
    "user": {
      "login": "frozeman",
      "id": 232662,
      "avatar_url": "https://avatars2.githubusercontent.com/u/232662?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frozeman",
      "html_url": "https://github.com/frozeman",
      "followers_url": "https://api.github.com/users/frozeman/followers",
      "following_url": "https://api.github.com/users/frozeman/following{/other_user}",
      "gists_url": "https://api.github.com/users/frozeman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frozeman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frozeman/subscriptions",
      "organizations_url": "https://api.github.com/users/frozeman/orgs",
      "repos_url": "https://api.github.com/users/frozeman/repos",
      "events_url": "https://api.github.com/users/frozeman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frozeman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-09T09:12:38Z",
    "updated_at": "2015-06-09T09:12:38Z",
    "body": "Ps. i updated the example in the first comment, to show the differences\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/110300025",
    "html_url": "https://github.com/electron/electron/issues/1879#issuecomment-110300025",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1879",
    "id": 110300025,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-09T10:04:52Z",
    "updated_at": "2015-06-09T10:04:52Z",
    "body": "Yeah the host and port parameter being empty is because of the file protocol job. Would have been nice if embedders where allowed to override DOMStorage [identifier](https://code.google.com/p/chromium/codesearch#chromium/src/content/browser/dom_storage/dom_storage_area.cc&sq=package:chromium&l=78) method. Any reason to not use indexdb ? \n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/110303769",
    "html_url": "https://github.com/electron/electron/issues/1879#issuecomment-110303769",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1879",
    "id": 110303769,
    "user": {
      "login": "frozeman",
      "id": 232662,
      "avatar_url": "https://avatars2.githubusercontent.com/u/232662?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frozeman",
      "html_url": "https://github.com/frozeman",
      "followers_url": "https://api.github.com/users/frozeman/followers",
      "following_url": "https://api.github.com/users/frozeman/following{/other_user}",
      "gists_url": "https://api.github.com/users/frozeman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frozeman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frozeman/subscriptions",
      "organizations_url": "https://api.github.com/users/frozeman/orgs",
      "repos_url": "https://api.github.com/users/frozeman/repos",
      "events_url": "https://api.github.com/users/frozeman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frozeman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-09T10:18:03Z",
    "updated_at": "2015-06-09T10:19:39Z",
    "body": "The main reason is that dapps ([ethereums](http://ethereum.org) decentralised apps) running in our custom browser \"mist\", will also be able to simple run in any other browser and therefore can only rely on local storage, and its important that every dapp has its own separate storage.\n\nHow do i access index db on a per page basis?\n\nImho it would be ideal if the custom protocol handler can set which part of the path is the host, so that electron can set it right to the document and set the origin properly.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/110339264",
    "html_url": "https://github.com/electron/electron/issues/1879#issuecomment-110339264",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1879",
    "id": 110339264,
    "user": {
      "login": "frozeman",
      "id": 232662,
      "avatar_url": "https://avatars2.githubusercontent.com/u/232662?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frozeman",
      "html_url": "https://github.com/frozeman",
      "followers_url": "https://api.github.com/users/frozeman/followers",
      "following_url": "https://api.github.com/users/frozeman/following{/other_user}",
      "gists_url": "https://api.github.com/users/frozeman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frozeman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frozeman/subscriptions",
      "organizations_url": "https://api.github.com/users/frozeman/orgs",
      "repos_url": "https://api.github.com/users/frozeman/repos",
      "events_url": "https://api.github.com/users/frozeman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frozeman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-09T12:26:11Z",
    "updated_at": "2015-06-09T12:26:11Z",
    "body": "IndexDB seems to use the same origin policy as local storage and therefore is no solution.\n\nAny idea how to add the hostname to alter the origin of a custom protocol?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/110364824",
    "html_url": "https://github.com/electron/electron/issues/1879#issuecomment-110364824",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1879",
    "id": 110364824,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-09T14:01:52Z",
    "updated_at": "2015-06-09T14:01:52Z",
    "body": "Actually the problem is the [url parser](https://code.google.com/p/chromium/codesearch#chromium/src/url/third_party/mozilla/url_parse.h&sq=package:chromium&type=cs&l=227&rcl=1433834947), standard schemes are treated in a different way to `file:` like schemes. So the fact hostname not set was not because of the protocol jobs. I am not sure how to fix that but we can probably implement our own DOMStorage for custom protocols, @zcbenz thoughts ?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/111350870",
    "html_url": "https://github.com/electron/electron/issues/1879#issuecomment-111350870",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1879",
    "id": 111350870,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-06-12T04:18:16Z",
    "updated_at": "2015-06-12T04:18:16Z",
    "body": "Chrome has a concept of [standard scheme](https://code.google.com/p/chromium/codesearch#chromium/src/url/url_util.h&sq=package:chromium&type=cs&l=47), I believe this behavior is caused by custom protocol not treated as standard scheme.\n\n> but we can probably implement our own DOMStorage for custom protocols\n\nThis doesn't sound like a decent solution to me.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/111352702",
    "html_url": "https://github.com/electron/electron/issues/1879#issuecomment-111352702",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1879",
    "id": 111352702,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-12T04:27:42Z",
    "updated_at": "2015-06-12T04:27:42Z",
    "body": "Didnt know about registering custom schemes to the standard, will look into it. Thanks!\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/113461812",
    "html_url": "https://github.com/electron/electron/issues/1879#issuecomment-113461812",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1879",
    "id": 113461812,
    "user": {
      "login": "frozeman",
      "id": 232662,
      "avatar_url": "https://avatars2.githubusercontent.com/u/232662?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frozeman",
      "html_url": "https://github.com/frozeman",
      "followers_url": "https://api.github.com/users/frozeman/followers",
      "following_url": "https://api.github.com/users/frozeman/following{/other_user}",
      "gists_url": "https://api.github.com/users/frozeman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frozeman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frozeman/subscriptions",
      "organizations_url": "https://api.github.com/users/frozeman/orgs",
      "repos_url": "https://api.github.com/users/frozeman/repos",
      "events_url": "https://api.github.com/users/frozeman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frozeman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-19T10:24:12Z",
    "updated_at": "2015-06-19T10:24:12Z",
    "body": "Thanks for the other PR, can we now add async retrieval :)\n"
  }
]