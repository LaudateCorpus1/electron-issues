[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/183900161",
    "html_url": "https://github.com/electron/electron/issues/4470#issuecomment-183900161",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4470",
    "id": 183900161,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-14T14:28:57Z",
    "updated_at": "2016-02-14T14:28:57Z",
    "body": "Can you provide an example app that causes the crash ? Also the electron version and OS you are running.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/183903886",
    "html_url": "https://github.com/electron/electron/issues/4470#issuecomment-183903886",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4470",
    "id": 183903886,
    "user": {
      "login": "PlugaruT",
      "id": 6437932,
      "avatar_url": "https://avatars0.githubusercontent.com/u/6437932?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/PlugaruT",
      "html_url": "https://github.com/PlugaruT",
      "followers_url": "https://api.github.com/users/PlugaruT/followers",
      "following_url": "https://api.github.com/users/PlugaruT/following{/other_user}",
      "gists_url": "https://api.github.com/users/PlugaruT/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/PlugaruT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PlugaruT/subscriptions",
      "organizations_url": "https://api.github.com/users/PlugaruT/orgs",
      "repos_url": "https://api.github.com/users/PlugaruT/repos",
      "events_url": "https://api.github.com/users/PlugaruT/events{/privacy}",
      "received_events_url": "https://api.github.com/users/PlugaruT/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-14T15:07:22Z",
    "updated_at": "2016-02-14T15:07:22Z",
    "body": "Sure,\nhttps://github.com/PlugaruT/electron-photo-editor\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/183962330",
    "html_url": "https://github.com/electron/electron/issues/4470#issuecomment-183962330",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4470",
    "id": 183962330,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-14T19:34:20Z",
    "updated_at": "2016-02-14T19:34:20Z",
    "body": "So `Caman.Save` works by creating a `dataURL` from canvas and loading it with `document.location.href`, there is a known problem with the size of URL. The number of characters allowed is 2MB which is defined [here](https://code.google.com/p/chromium/codesearch#chromium/src/content/public/common/content_constants.cc&sq=package:chromium&l=29&q=kMaxURL) beyond which chromium refuses to load the URL and here is the related chromium [issue](https://code.google.com/p/chromium/issues/detail?id=69227). There is a [workaround](https://code.google.com/p/chromium/issues/detail?id=69227#c37) pointed in that issue which i tried to patch `Caman.Save` and it works.\n\n```\ndiff --git a/app/js/caman.full.js b/app/js/caman.full.js\nindex cd3150d..4841435 100644\n--- a/app/js/caman.full.js\n+++ b/app/js/caman.full.js\n@@ -1334,7 +1334,15 @@\n     }\n     type = type.toLowerCase();\n     image = this.toBase64(type).replace(\"image/\" + type, \"image/octet-stream\");\n-    return document.location.href = image;\n+    var parts = image.match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/);\n+    var binStr = atob(parts[3]);\n+    var buf = new ArrayBuffer(binStr.length);\n+    var view = new Uint8Array(buf);\n+    for(var i = 0; i < view.length; i++)\n+      view[i] = binStr.charCodeAt(i);\n+    var blob = new Blob([view], {'type': parts[1]});\n+    var URL = webkitURL.createObjectURL(blob)\n+    return document.location.href = URL;\n   };\n\n   Caman.prototype.nodeSave = function(file, overwrite) {\n```\n\nFrom chrome 50 there is `Canvas.toBlob` method which would effectively reduce this patch to two lines, I suggest reporting this to Caman JS and getting it fixed there. Another easier thing would be to use `WebContents::DownloadURL` and use it for saving the image.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/183977157",
    "html_url": "https://github.com/electron/electron/issues/4470#issuecomment-183977157",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4470",
    "id": 183977157,
    "user": {
      "login": "PlugaruT",
      "id": 6437932,
      "avatar_url": "https://avatars0.githubusercontent.com/u/6437932?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/PlugaruT",
      "html_url": "https://github.com/PlugaruT",
      "followers_url": "https://api.github.com/users/PlugaruT/followers",
      "following_url": "https://api.github.com/users/PlugaruT/following{/other_user}",
      "gists_url": "https://api.github.com/users/PlugaruT/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/PlugaruT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PlugaruT/subscriptions",
      "organizations_url": "https://api.github.com/users/PlugaruT/orgs",
      "repos_url": "https://api.github.com/users/PlugaruT/repos",
      "events_url": "https://api.github.com/users/PlugaruT/events{/privacy}",
      "received_events_url": "https://api.github.com/users/PlugaruT/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-14T21:06:28Z",
    "updated_at": "2016-02-14T21:06:28Z",
    "body": "Thanks a lot for help. I have noticed that with some photos, the save button worked, but with another didn't work. Didn't think that the file size matters. The issue can be closed now. Also I will report this issue to the creator of CamanJS and will suggest to fix this. Thanks.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/184646591",
    "html_url": "https://github.com/electron/electron/issues/4470#issuecomment-184646591",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/4470",
    "id": 184646591,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-02-16T11:38:40Z",
    "updated_at": "2016-02-16T11:38:40Z",
    "body": "Closing since it is an upstream Chromium bug and we are not able to fix it on our side.\n"
  }
]