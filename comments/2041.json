[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/115246264",
    "html_url": "https://github.com/electron/electron/issues/2041#issuecomment-115246264",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2041",
    "id": 115246264,
    "user": {
      "login": "simongregory",
      "id": 33640,
      "avatar_url": "https://avatars3.githubusercontent.com/u/33640?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/simongregory",
      "html_url": "https://github.com/simongregory",
      "followers_url": "https://api.github.com/users/simongregory/followers",
      "following_url": "https://api.github.com/users/simongregory/following{/other_user}",
      "gists_url": "https://api.github.com/users/simongregory/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/simongregory/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/simongregory/subscriptions",
      "organizations_url": "https://api.github.com/users/simongregory/orgs",
      "repos_url": "https://api.github.com/users/simongregory/repos",
      "events_url": "https://api.github.com/users/simongregory/events{/privacy}",
      "received_events_url": "https://api.github.com/users/simongregory/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-25T12:59:53Z",
    "updated_at": "2015-06-25T12:59:53Z",
    "body": "I don't believe this is a bug with electron. Can you confirm you are trying to run your swf from the file system? You should see the same error if you run your html and swf in Chrome. \n\nAdobe's sandboxing docs are difficult to decipher as behaviour has evolved and there are differences between the flash players (i.e. Pepper), but if you use the 'Global Security Settings' in the [Settings Manager](http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04a.html) you can open the security sandbox up to allow access to specific directories on your filesystem.\n\nIn an electron app I got the `ExternalInterface.call` working by visiting the [Settings Manager](http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04a.html) using a `<webview>`.  \n\nClearly for this to function properly in a release of your app you'll have to work out how to do this programmatically. If there isn't a settings file (have a look through Adobe's docs) then there's a outside chance you can write the settings.sol (a binary format - basically asmf with different file headers). For me the file was here:\n\n```\n/Users/USER/Library/Application Support/ELECTRON-APP-NAME/Pepper Data/Shockwave Flash/WritableRoot/#SharedObjects/7BG6NDY2/macromedia.com/support/flashplayer/sys/settings.sol\n```\n\nHowever I doubt the '7BG6NDY2' in the path is predictable, it will be a security measure to force a visit to the [Settings Manager](http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04a.html).\n\nAn alternative would be to try running a web server locally and load the page in from there. \n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/115318536",
    "html_url": "https://github.com/electron/electron/issues/2041#issuecomment-115318536",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2041",
    "id": 115318536,
    "user": {
      "login": "simongregory",
      "id": 33640,
      "avatar_url": "https://avatars3.githubusercontent.com/u/33640?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/simongregory",
      "html_url": "https://github.com/simongregory",
      "followers_url": "https://api.github.com/users/simongregory/followers",
      "following_url": "https://api.github.com/users/simongregory/following{/other_user}",
      "gists_url": "https://api.github.com/users/simongregory/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/simongregory/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/simongregory/subscriptions",
      "organizations_url": "https://api.github.com/users/simongregory/orgs",
      "repos_url": "https://api.github.com/users/simongregory/repos",
      "events_url": "https://api.github.com/users/simongregory/events{/privacy}",
      "received_events_url": "https://api.github.com/users/simongregory/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-25T16:39:24Z",
    "updated_at": "2015-06-25T16:39:24Z",
    "body": "It's possible to use the [User Flash Player Trust directory](http://help.adobe.com/en_US/as3/dev/WS5b3ccc516d4fbf351e63e3d118a9b90204-7c85.html#WSD2DCB535-92C6-49ff-8954-D8D5130404F1) to allow the trusted access you need.\n\nCreating `/Users/USER/Library/Application Support/ELECTRON-APP-NAME/Pepper Data/Shockwave Flash/WritableRoot/#Security/FlashPlayerTrust/trust.cfg` with the following contents worked for me:\n\n```\n# Trust files in the following directories:\n\n/Users/simon/code/nip/\n```\n\nWhere nip is an electron project containing a copy of the prebuilt electron binary.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/115323375",
    "html_url": "https://github.com/electron/electron/issues/2041#issuecomment-115323375",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2041",
    "id": 115323375,
    "user": {
      "login": "leshow",
      "id": 1128302,
      "avatar_url": "https://avatars0.githubusercontent.com/u/1128302?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leshow",
      "html_url": "https://github.com/leshow",
      "followers_url": "https://api.github.com/users/leshow/followers",
      "following_url": "https://api.github.com/users/leshow/following{/other_user}",
      "gists_url": "https://api.github.com/users/leshow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leshow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leshow/subscriptions",
      "organizations_url": "https://api.github.com/users/leshow/orgs",
      "repos_url": "https://api.github.com/users/leshow/repos",
      "events_url": "https://api.github.com/users/leshow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leshow/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-25T16:58:28Z",
    "updated_at": "2015-06-25T16:58:28Z",
    "body": "Thank you for responding, this is a great help.\n\nI've been running my app with the electron-prebuilt binary so there isn't a Pepper/ directory in my project. How are you building your project so that the flash plugin is located within the project directory?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/115354673",
    "html_url": "https://github.com/electron/electron/issues/2041#issuecomment-115354673",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2041",
    "id": 115354673,
    "user": {
      "login": "leshow",
      "id": 1128302,
      "avatar_url": "https://avatars0.githubusercontent.com/u/1128302?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leshow",
      "html_url": "https://github.com/leshow",
      "followers_url": "https://api.github.com/users/leshow/followers",
      "following_url": "https://api.github.com/users/leshow/following{/other_user}",
      "gists_url": "https://api.github.com/users/leshow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leshow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leshow/subscriptions",
      "organizations_url": "https://api.github.com/users/leshow/orgs",
      "repos_url": "https://api.github.com/users/leshow/repos",
      "events_url": "https://api.github.com/users/leshow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leshow/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-25T18:27:11Z",
    "updated_at": "2015-06-25T19:16:59Z",
    "body": "sorry, I misunderstood your second post.\n\nthe site you linked to said to put the trust file in `/Users/JohnD/Library/Preferences/Macromedia/Flash Player/#Security/FlashPlayerTrust` for example on OSX, however your path has an electron app name in it so I'm a bit confused as to where you actually put your trust config file.\n\ndo you think it is possible to create the trust.cfg file programmatically with electron? I'll try manually creating first on windows and linux and update here with how that goes.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/115382773",
    "html_url": "https://github.com/electron/electron/issues/2041#issuecomment-115382773",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2041",
    "id": 115382773,
    "user": {
      "login": "leshow",
      "id": 1128302,
      "avatar_url": "https://avatars0.githubusercontent.com/u/1128302?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leshow",
      "html_url": "https://github.com/leshow",
      "followers_url": "https://api.github.com/users/leshow/followers",
      "following_url": "https://api.github.com/users/leshow/following{/other_user}",
      "gists_url": "https://api.github.com/users/leshow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leshow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leshow/subscriptions",
      "organizations_url": "https://api.github.com/users/leshow/orgs",
      "repos_url": "https://api.github.com/users/leshow/repos",
      "events_url": "https://api.github.com/users/leshow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leshow/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-25T20:14:39Z",
    "updated_at": "2015-06-25T20:14:39Z",
    "body": "To anyone who encounters this issue, I've worked out the proper directory on windows as well:\n\n```\nC:\\Users\\USERNAME\\AppData\\Roaming\\ELECTRON-APP-NAME\\Pepper Data\\Shockwave Flash\\WritableRoot\\\n```\n\nthe following must be created in that directory:\n\n```\n\\#Security\\FlashPlayerTrust\\\n```\n\nAlong with a .cfg file (of any name) containing to path to the electron app folder/swf file location\n\nI'll continue looking on linux and see where the correct location is there\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/115389767",
    "html_url": "https://github.com/electron/electron/issues/2041#issuecomment-115389767",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2041",
    "id": 115389767,
    "user": {
      "login": "simongregory",
      "id": 33640,
      "avatar_url": "https://avatars3.githubusercontent.com/u/33640?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/simongregory",
      "html_url": "https://github.com/simongregory",
      "followers_url": "https://api.github.com/users/simongregory/followers",
      "following_url": "https://api.github.com/users/simongregory/following{/other_user}",
      "gists_url": "https://api.github.com/users/simongregory/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/simongregory/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/simongregory/subscriptions",
      "organizations_url": "https://api.github.com/users/simongregory/orgs",
      "repos_url": "https://api.github.com/users/simongregory/repos",
      "events_url": "https://api.github.com/users/simongregory/events{/privacy}",
      "received_events_url": "https://api.github.com/users/simongregory/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-25T20:35:34Z",
    "updated_at": "2015-06-25T20:35:34Z",
    "body": "As I mentioned Adobe's docs on this are misleading. They were likely written before browser manufacturers started to tighten the security sandboxes. So you have to interpret them and go hunting. \n\nThe Flash Pepper plugin (PPAPI) has a further restricted sandbox, by the looks of it the other Flash players can reach into a shared system location - this will be the paths you found in the linked docs.\n\nIf you browse through `/Users/USER/Library/Application Support/` and look for Chrome, Chromium, Electron, Atom Shell Default App, etc then if any of them have loaded the Flash player there'll be a `Pepper Data` directory in there. \n\nIt looks like you've already discovered the windows location, you'll most likely find that using `app.getPath('appData')` gets you close on all OS's - details in the [electron app api docs](https://github.com/atom/electron/blob/master/docs/api/app.md#appgetpathname). \n\nOne thing to check would be that the Windows paths are consistent the different versions.\n\nYou should be successful creating the directories and the trust files programmatically with Electron, or an installer, as the permission level needed will the same to run the app. \n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/115462829",
    "html_url": "https://github.com/electron/electron/issues/2041#issuecomment-115462829",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2041",
    "id": 115462829,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-06-26T02:05:04Z",
    "updated_at": "2015-06-26T02:05:04Z",
    "body": "I'm closing this since it is not a bug of electron, thanks guys for your detailed instructions!\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/115801849",
    "html_url": "https://github.com/electron/electron/issues/2041#issuecomment-115801849",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2041",
    "id": 115801849,
    "user": {
      "login": "leshow",
      "id": 1128302,
      "avatar_url": "https://avatars0.githubusercontent.com/u/1128302?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leshow",
      "html_url": "https://github.com/leshow",
      "followers_url": "https://api.github.com/users/leshow/followers",
      "following_url": "https://api.github.com/users/leshow/following{/other_user}",
      "gists_url": "https://api.github.com/users/leshow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leshow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leshow/subscriptions",
      "organizations_url": "https://api.github.com/users/leshow/orgs",
      "repos_url": "https://api.github.com/users/leshow/repos",
      "events_url": "https://api.github.com/users/leshow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leshow/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-26T17:35:49Z",
    "updated_at": "2015-06-26T17:35:49Z",
    "body": "For completeness:\n\napp.getPath('appData') on linux is XDG_CONFIG_HOME, usually .config.\n\nmeaning the linux path for this is ~/.config/app-name/Pepper Data/Shockwave Flash/WritableRoot/#Security/FlashPlayerTrust/\n\nadding the .cfg file with the exception there works, I've tested it. \n\nThanks @simongregory for your help. \n"
  }
]