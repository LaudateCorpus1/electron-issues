[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/142431239",
    "html_url": "https://github.com/electron/electron/issues/2871#issuecomment-142431239",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2871",
    "id": 142431239,
    "user": {
      "login": "cluxter",
      "id": 6885295,
      "avatar_url": "https://avatars2.githubusercontent.com/u/6885295?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cluxter",
      "html_url": "https://github.com/cluxter",
      "followers_url": "https://api.github.com/users/cluxter/followers",
      "following_url": "https://api.github.com/users/cluxter/following{/other_user}",
      "gists_url": "https://api.github.com/users/cluxter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cluxter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cluxter/subscriptions",
      "organizations_url": "https://api.github.com/users/cluxter/orgs",
      "repos_url": "https://api.github.com/users/cluxter/repos",
      "events_url": "https://api.github.com/users/cluxter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cluxter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-22T21:44:15Z",
    "updated_at": "2015-09-22T21:44:15Z",
    "body": "I'm having quite the same problem in Windows 7. See here:\n\nhttps://discuss.atom.io/t/windows-7-dom-shadow-issues-on-v1-0-15/21021/2\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/142484911",
    "html_url": "https://github.com/electron/electron/issues/2871#issuecomment-142484911",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2871",
    "id": 142484911,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-09-23T03:57:57Z",
    "updated_at": "2015-09-23T03:57:57Z",
    "body": "A test case would be awesome, it is quite mysterious to me since the asar code is exactly the same on all platforms.  \n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/142630809",
    "html_url": "https://github.com/electron/electron/issues/2871#issuecomment-142630809",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2871",
    "id": 142630809,
    "user": {
      "login": "marwanhilmi",
      "id": 1442356,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1442356?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marwanhilmi",
      "html_url": "https://github.com/marwanhilmi",
      "followers_url": "https://api.github.com/users/marwanhilmi/followers",
      "following_url": "https://api.github.com/users/marwanhilmi/following{/other_user}",
      "gists_url": "https://api.github.com/users/marwanhilmi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marwanhilmi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marwanhilmi/subscriptions",
      "organizations_url": "https://api.github.com/users/marwanhilmi/orgs",
      "repos_url": "https://api.github.com/users/marwanhilmi/repos",
      "events_url": "https://api.github.com/users/marwanhilmi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marwanhilmi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-23T15:03:36Z",
    "updated_at": "2015-09-23T15:04:43Z",
    "body": "@zcbenz I'll try wire up a test case that emulates our actual usage but it'll take a little while - I can Skype/Hangout with you and demo you the issue from our actual application. Nonetheless, will try to write up a test case.\n\nNote @cluxter, at first we thought this was an issue with FDs leaking but we do not get EMFILE errors, the files 'disappear' with ENOENT. My experience debugging on Windows is pretty limited but used Sysinternals tools to inspect the open file descriptors and there does not appear to be anything out of the ordinary there. \n\nI'm not sure if Windows has a hard limit on FDs similar to *nix that can configured with `ulimit -n`, any ideas on this @zcbenz ?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/142731271",
    "html_url": "https://github.com/electron/electron/issues/2871#issuecomment-142731271",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2871",
    "id": 142731271,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-09-23T21:17:59Z",
    "updated_at": "2015-09-23T21:18:05Z",
    "body": "@zcbenz I was just looking at https://github.com/atom/electron/commit/d8d7e5b9bb11e4959dd4fe04602ed83b6b022e1d#diff-ace709cf496d188d302a87b24d26e383R271 which calls [`_open_osfhandle`](https://msdn.microsoft.com/en-us/library/bdts1c9x.aspx).\n\nDo those handles returned need to be eventually closed somehow? Could they possibly be leaking when `archive.getFd()` occurs a lot and then causing `EMFILE` errors to be masked as `ENOENT` issues inside asar?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/142758511",
    "html_url": "https://github.com/electron/electron/issues/2871#issuecomment-142758511",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2871",
    "id": 142758511,
    "user": {
      "login": "marwanhilmi",
      "id": 1442356,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1442356?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marwanhilmi",
      "html_url": "https://github.com/marwanhilmi",
      "followers_url": "https://api.github.com/users/marwanhilmi/followers",
      "following_url": "https://api.github.com/users/marwanhilmi/following{/other_user}",
      "gists_url": "https://api.github.com/users/marwanhilmi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marwanhilmi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marwanhilmi/subscriptions",
      "organizations_url": "https://api.github.com/users/marwanhilmi/orgs",
      "repos_url": "https://api.github.com/users/marwanhilmi/repos",
      "events_url": "https://api.github.com/users/marwanhilmi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marwanhilmi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-23T23:23:19Z",
    "updated_at": "2015-09-23T23:23:19Z",
    "body": "If anyone has suggestions on how to test / count file descriptors on Windows, I can definitely investigate further. From my initial debugging, it was difficult to tell if I had reached a limit (not even really sure how/what this limit is on Windows). It does appear that the asar code will gobble up the errors and just return `ENOENT` but cannot confirm.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/142761049",
    "html_url": "https://github.com/electron/electron/issues/2871#issuecomment-142761049",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2871",
    "id": 142761049,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-09-23T23:41:44Z",
    "updated_at": "2015-09-23T23:47:50Z",
    "body": "Okay, I was able to reduce this a bit and reproduce on Windows 8.1 using Electron `0.33.1` 64-bit:\n\nRun the following from the dev tools in the default Electron app:\n\n``` js\nfor(var i = 0; i < 10000; i++) require('fs').readFileSync(require('path').join(process.resourcesPath, 'atom.asar', 'renderer', 'api', 'lib', 'ipc.js'))\n```\n\nThe `ENOENT` errors seems to start after around ~3,000 `fs.readFileSync` calls.\n\nHere is a screenshot showing it working the first time, then trying to call it over and over in loops of 1000 and then it stops working altogether:\n\n<img width=\"805\" alt=\"screen shot 2015-09-23 at 4 39 32 pm\" src=\"https://cloud.githubusercontent.com/assets/671378/10061882/d320f1c4-6211-11e5-9eb2-8b5ebc1f53da.png\">\n\nHere is the stack trace when it starts happening:\n\n```\nUncaught Error: ENOENT, renderer\\api\\lib\\ipc.js not found in C:\\Users\\kevin\\Downloads\\electron-v0.33.1-win32-x64\\resources\\atom.asar\n  notFoundError @ ATOM_SHELL_ASAR.js:104\n  fs.readFileSync @ ATOM_SHELL_ASAR.js:416\n```\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/142805403",
    "html_url": "https://github.com/electron/electron/issues/2871#issuecomment-142805403",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2871",
    "id": 142805403,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-09-24T04:09:16Z",
    "updated_at": "2015-09-24T04:09:16Z",
    "body": "> Do those handles returned need to be eventually closed somehow? Could they possibly be leaking when archive.getFd() occurs a lot and then causing EMFILE errors to be masked as ENOENT issues inside asar?\n\nIt is exactly the cause of this bug, great job!\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/142881535",
    "html_url": "https://github.com/electron/electron/issues/2871#issuecomment-142881535",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2871",
    "id": 142881535,
    "user": {
      "login": "cluxter",
      "id": 6885295,
      "avatar_url": "https://avatars2.githubusercontent.com/u/6885295?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cluxter",
      "html_url": "https://github.com/cluxter",
      "followers_url": "https://api.github.com/users/cluxter/followers",
      "following_url": "https://api.github.com/users/cluxter/following{/other_user}",
      "gists_url": "https://api.github.com/users/cluxter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cluxter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cluxter/subscriptions",
      "organizations_url": "https://api.github.com/users/cluxter/orgs",
      "repos_url": "https://api.github.com/users/cluxter/repos",
      "events_url": "https://api.github.com/users/cluxter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cluxter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-24T10:12:03Z",
    "updated_at": "2015-09-24T10:12:03Z",
    "body": "Thanks a lot guys! I hope the v1.0.17 for Windows will be out soon so we can test it. Also the v1.0.16 is not usable on Windows so this is quite important.\n"
  }
]