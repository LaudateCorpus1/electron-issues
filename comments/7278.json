[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/248476659",
    "html_url": "https://github.com/electron/electron/issues/7278#issuecomment-248476659",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7278",
    "id": 248476659,
    "user": {
      "login": "bengotow",
      "id": 1037212,
      "avatar_url": "https://avatars0.githubusercontent.com/u/1037212?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bengotow",
      "html_url": "https://github.com/bengotow",
      "followers_url": "https://api.github.com/users/bengotow/followers",
      "following_url": "https://api.github.com/users/bengotow/following{/other_user}",
      "gists_url": "https://api.github.com/users/bengotow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bengotow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bengotow/subscriptions",
      "organizations_url": "https://api.github.com/users/bengotow/orgs",
      "repos_url": "https://api.github.com/users/bengotow/repos",
      "events_url": "https://api.github.com/users/bengotow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bengotow/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-21T00:30:37Z",
    "updated_at": "2016-09-21T00:30:37Z",
    "body": "Hey! Can you try saying `window.onbeforeunload = function() {` and see if that syntax works? We were having trouble with this in N1 too and found that only the raw assignment version was working...\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/248477146",
    "html_url": "https://github.com/electron/electron/issues/7278#issuecomment-248477146",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7278",
    "id": 248477146,
    "user": {
      "login": "maxbrunsfeld",
      "id": 326587,
      "avatar_url": "https://avatars0.githubusercontent.com/u/326587?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maxbrunsfeld",
      "html_url": "https://github.com/maxbrunsfeld",
      "followers_url": "https://api.github.com/users/maxbrunsfeld/followers",
      "following_url": "https://api.github.com/users/maxbrunsfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/maxbrunsfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maxbrunsfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maxbrunsfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/maxbrunsfeld/orgs",
      "repos_url": "https://api.github.com/users/maxbrunsfeld/repos",
      "events_url": "https://api.github.com/users/maxbrunsfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maxbrunsfeld/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-09-21T00:33:53Z",
    "updated_at": "2016-09-21T00:33:53Z",
    "body": "We used to do this in Atom too. But in Electron >= 1.3, the `beforeunload` event appears to work. This issue is about the _`unload`_ event though, not the `beforeunload` event. There appears to be a regression where the `unload` event does not even fire.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/248524750",
    "html_url": "https://github.com/electron/electron/issues/7278#issuecomment-248524750",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7278",
    "id": 248524750,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-09-21T06:39:29Z",
    "updated_at": "2016-09-21T06:39:29Z",
    "body": "In Chrome the `unload` event is not reliable, the `unload` handler is run after the new page gets loaded, so you can not see the console output from it, and sometimes it just got optimized away, this was also why we used to use `onbeforeunload` in Atom. You can find more about it in some old issues: https://github.com/atom/atom/issues/3144 https://github.com/atom/atom/pull/3223.\n\nIf you want to have an event that fires reliable on unload, apart from `beforeunload` you can also use the `exit` event of `process`, which is guaranteed to fire before JavaScript context is destroyed, and we use it to cleanup resources internally in Electron.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/248667412",
    "html_url": "https://github.com/electron/electron/issues/7278#issuecomment-248667412",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7278",
    "id": 248667412,
    "user": {
      "login": "maxbrunsfeld",
      "id": 326587,
      "avatar_url": "https://avatars0.githubusercontent.com/u/326587?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maxbrunsfeld",
      "html_url": "https://github.com/maxbrunsfeld",
      "followers_url": "https://api.github.com/users/maxbrunsfeld/followers",
      "following_url": "https://api.github.com/users/maxbrunsfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/maxbrunsfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maxbrunsfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maxbrunsfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/maxbrunsfeld/orgs",
      "repos_url": "https://api.github.com/users/maxbrunsfeld/repos",
      "events_url": "https://api.github.com/users/maxbrunsfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maxbrunsfeld/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-09-21T16:30:37Z",
    "updated_at": "2016-09-21T16:30:48Z",
    "body": "@zcbenz Yeah, I think the `beforeunload` even will work fine for us. Just so I understand though: is it expected that the `unload` event does not fire at _all_? From what I'm seeing, it's not just firing too late; it's not firing ever, which is different than what I see in Chrome.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/249473095",
    "html_url": "https://github.com/electron/electron/issues/7278#issuecomment-249473095",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7278",
    "id": 249473095,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-09-26T03:39:55Z",
    "updated_at": "2016-09-26T03:39:55Z",
    "body": "@maxbrunsfeld Hmm it should still fire for most cases, but you need to notice that the console output from it will not be printed to console of devtools, because it is fired after the new page gets loaded.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/250311448",
    "html_url": "https://github.com/electron/electron/issues/7278#issuecomment-250311448",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7278",
    "id": 250311448,
    "user": {
      "login": "bengotow",
      "id": 1037212,
      "avatar_url": "https://avatars0.githubusercontent.com/u/1037212?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bengotow",
      "html_url": "https://github.com/bengotow",
      "followers_url": "https://api.github.com/users/bengotow/followers",
      "following_url": "https://api.github.com/users/bengotow/following{/other_user}",
      "gists_url": "https://api.github.com/users/bengotow/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bengotow/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bengotow/subscriptions",
      "organizations_url": "https://api.github.com/users/bengotow/orgs",
      "repos_url": "https://api.github.com/users/bengotow/repos",
      "events_url": "https://api.github.com/users/bengotow/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bengotow/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-28T21:51:31Z",
    "updated_at": "2016-09-28T21:51:31Z",
    "body": "Hey folks—just wanted to bump this. If there's a possibility that `onunload` is unreliable or doesn't fire in certain scenarios, I think we should remove it entirely so this bug doesn't get re-opened in a few months. Maybe `renderer/init.js` could override the `window.onunload` setter and throw an exception?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/250526719",
    "html_url": "https://github.com/electron/electron/issues/7278#issuecomment-250526719",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7278",
    "id": 250526719,
    "user": {
      "login": "maxbrunsfeld",
      "id": 326587,
      "avatar_url": "https://avatars0.githubusercontent.com/u/326587?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maxbrunsfeld",
      "html_url": "https://github.com/maxbrunsfeld",
      "followers_url": "https://api.github.com/users/maxbrunsfeld/followers",
      "following_url": "https://api.github.com/users/maxbrunsfeld/following{/other_user}",
      "gists_url": "https://api.github.com/users/maxbrunsfeld/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maxbrunsfeld/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maxbrunsfeld/subscriptions",
      "organizations_url": "https://api.github.com/users/maxbrunsfeld/orgs",
      "repos_url": "https://api.github.com/users/maxbrunsfeld/repos",
      "events_url": "https://api.github.com/users/maxbrunsfeld/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maxbrunsfeld/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-09-29T16:56:44Z",
    "updated_at": "2016-09-29T16:56:44Z",
    "body": "> but you need to notice that the console output from it will not be printed to console of devtools, because it is fired after the new page gets loaded.\n\nYeah, this is happening even if you enable `Preserve Log` in the console, so it's not just that it's firing later. I'm definitely seeing different behavior than Chrome in this regard. But again, it's not affecting Atom anymore.\n"
  }
]