[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/137169570",
    "html_url": "https://github.com/electron/electron/issues/2684#issuecomment-137169570",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2684",
    "id": 137169570,
    "user": {
      "login": "LeMoussel",
      "id": 1816573,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1816573?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LeMoussel",
      "html_url": "https://github.com/LeMoussel",
      "followers_url": "https://api.github.com/users/LeMoussel/followers",
      "following_url": "https://api.github.com/users/LeMoussel/following{/other_user}",
      "gists_url": "https://api.github.com/users/LeMoussel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LeMoussel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LeMoussel/subscriptions",
      "organizations_url": "https://api.github.com/users/LeMoussel/orgs",
      "repos_url": "https://api.github.com/users/LeMoussel/repos",
      "events_url": "https://api.github.com/users/LeMoussel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LeMoussel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-02T16:55:25Z",
    "updated_at": "2015-09-02T16:55:25Z",
    "body": "As describe in [Protocol documentation](https://github.com/atom/electron/blob/d7cf4609185816c7ac8e520968ab4b726a533c95/docs/api/protocol.md), you may do like this\n\n``` javascript\nvar app = require('app');\n\nvar mainWindow = null;\n\nfunction testProtocol(request, callback) {\n    console.log(request.url);\n    return null;\n}\n\nprocess.on('uncaughtException', function(error) {\n    console.error(\"ERROR Exception => \" + error.stack);\n});\n\napp.on('window-all-closed', function() {\n if (process.platform != 'darwin')\n    app.quit();\n});\n\napp.on('ready', function() { \n    var protocol = require('protocol');\n    var BrowserWindow = require('browser-window');\n\n    protocol.registerFileProtocol('foobar', testProtocol, function (error) {\n        if (error)\n           console.error('Failed to register protocol')\n    });\n\n    console.log('ready!');\n\n    mainWindow = new BrowserWindow({width: 800, height: 600}); \n    mainWindow.loadUrl(\"foobar://foo/bar\");\n    mainWindow.on('closed', function() {\n        mainWindow = null;\n    }); \n});\n```\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/137294094",
    "html_url": "https://github.com/electron/electron/issues/2684#issuecomment-137294094",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2684",
    "id": 137294094,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-03T01:13:08Z",
    "updated_at": "2015-09-03T01:13:08Z",
    "body": "@seanchas116 if you would like to return just a String then you need to use `StringProtocol`, `FileProtocol` expects a file path. Also there is no `return` in the new api, use the handler `callback`\n\n```\nvar app = require('app');\nvar BrowserWindow = require('browser-window');\n\napp.on('ready', function() {\n  var protocol = require(\"protocol\");\n\n  function testProtocol(request, callback) {\n    console.log(request); // request received\n    callback(\"test\");\n  }\n  protocol.registerStringProtocol(\"foobar\", testProtocol, function (err) {\n    console.log(err); // no error\n    var mainWindow = new BrowserWindow({width: 800, height: 600});\n    mainWindow.loadUrl(\"foobar://foo/bar\"); // BrowserWindow shows nothing\n  });\n});\n```\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/137651028",
    "html_url": "https://github.com/electron/electron/issues/2684#issuecomment-137651028",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2684",
    "id": 137651028,
    "user": {
      "login": "seanchas116",
      "id": 1025246,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1025246?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/seanchas116",
      "html_url": "https://github.com/seanchas116",
      "followers_url": "https://api.github.com/users/seanchas116/followers",
      "following_url": "https://api.github.com/users/seanchas116/following{/other_user}",
      "gists_url": "https://api.github.com/users/seanchas116/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/seanchas116/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/seanchas116/subscriptions",
      "organizations_url": "https://api.github.com/users/seanchas116/orgs",
      "repos_url": "https://api.github.com/users/seanchas116/repos",
      "events_url": "https://api.github.com/users/seanchas116/events{/privacy}",
      "received_events_url": "https://api.github.com/users/seanchas116/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-04T05:22:43Z",
    "updated_at": "2015-09-04T05:22:43Z",
    "body": "@LeMoussel @deepak1556 Thanks, it works. It was my mistake...\n"
  }
]