[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/138275158",
    "html_url": "https://github.com/electron/electron/issues/2615#issuecomment-138275158",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2615",
    "id": 138275158,
    "user": {
      "login": "paulatbipsync",
      "id": 2576251,
      "avatar_url": "https://avatars1.githubusercontent.com/u/2576251?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulatbipsync",
      "html_url": "https://github.com/paulatbipsync",
      "followers_url": "https://api.github.com/users/paulatbipsync/followers",
      "following_url": "https://api.github.com/users/paulatbipsync/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulatbipsync/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulatbipsync/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulatbipsync/subscriptions",
      "organizations_url": "https://api.github.com/users/paulatbipsync/orgs",
      "repos_url": "https://api.github.com/users/paulatbipsync/repos",
      "events_url": "https://api.github.com/users/paulatbipsync/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulatbipsync/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-07T11:31:08Z",
    "updated_at": "2015-09-07T11:31:08Z",
    "body": "We are seeing this problem also\nIt's a terrible workaround but for the time being on windows we are calling:\n`app.setName( 'APPNAME' + Math.random( 1, 1000 ) );`\nOn startup, this seems to allow tray icons to be created reliably\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/141040481",
    "html_url": "https://github.com/electron/electron/issues/2615#issuecomment-141040481",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2615",
    "id": 141040481,
    "user": {
      "login": "hankbao",
      "id": 756604,
      "avatar_url": "https://avatars3.githubusercontent.com/u/756604?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hankbao",
      "html_url": "https://github.com/hankbao",
      "followers_url": "https://api.github.com/users/hankbao/followers",
      "following_url": "https://api.github.com/users/hankbao/following{/other_user}",
      "gists_url": "https://api.github.com/users/hankbao/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hankbao/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hankbao/subscriptions",
      "organizations_url": "https://api.github.com/users/hankbao/orgs",
      "repos_url": "https://api.github.com/users/hankbao/repos",
      "events_url": "https://api.github.com/users/hankbao/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hankbao/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-17T10:43:46Z",
    "updated_at": "2015-09-17T10:43:46Z",
    "body": "Same problem here on Windows 7. Tray works on Windows 10.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/141041677",
    "html_url": "https://github.com/electron/electron/issues/2615#issuecomment-141041677",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2615",
    "id": 141041677,
    "user": {
      "login": "atomicptr",
      "id": 674705,
      "avatar_url": "https://avatars2.githubusercontent.com/u/674705?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/atomicptr",
      "html_url": "https://github.com/atomicptr",
      "followers_url": "https://api.github.com/users/atomicptr/followers",
      "following_url": "https://api.github.com/users/atomicptr/following{/other_user}",
      "gists_url": "https://api.github.com/users/atomicptr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/atomicptr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/atomicptr/subscriptions",
      "organizations_url": "https://api.github.com/users/atomicptr/orgs",
      "repos_url": "https://api.github.com/users/atomicptr/repos",
      "events_url": "https://api.github.com/users/atomicptr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/atomicptr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-17T10:51:07Z",
    "updated_at": "2015-09-17T10:51:07Z",
    "body": "@hankbao doesn't work for me on Windows 10 either, @paulatbipsync hack helped though.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/141439145",
    "html_url": "https://github.com/electron/electron/issues/2615#issuecomment-141439145",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2615",
    "id": 141439145,
    "user": {
      "login": "Pettor",
      "id": 54952,
      "avatar_url": "https://avatars0.githubusercontent.com/u/54952?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Pettor",
      "html_url": "https://github.com/Pettor",
      "followers_url": "https://api.github.com/users/Pettor/followers",
      "following_url": "https://api.github.com/users/Pettor/following{/other_user}",
      "gists_url": "https://api.github.com/users/Pettor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Pettor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Pettor/subscriptions",
      "organizations_url": "https://api.github.com/users/Pettor/orgs",
      "repos_url": "https://api.github.com/users/Pettor/repos",
      "events_url": "https://api.github.com/users/Pettor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Pettor/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-18T12:30:37Z",
    "updated_at": "2015-09-23T09:32:35Z",
    "body": "Having the same problem on Windows 10 and not really sure it should be considered an issue as of yet. Windows can use a AppUserModelID for any application to group several processes. This basically generates a GUID connected to the process.\n\nFor a TrayIcon this GUID can be used to identify the tray icon but the folder must not be moved in that case. This is what we are experiencing. What I so far haven't found out is WHY there is a AppUserModelID generated when app.setName (as mentioned above) isn't used. Basically what app.setName will do is call SetCurrentProcessExplicitAppUserModelID (a Windows API) and in the TrayIcon code a call to GetCurrentProcessExplicitAppUserModelID will be done. If SetCurrentProcessExplicitAppUserModelID has been called at this point GUID will be used to identify the TrayIcon. And to be honest, having called SetCurrentProcessExplicitAppUserModelID is in general a good idea for a Windows application. It can prevent \"trayicon spoofing\".\n\nSo my conclusion is that on Windows one should call app.setName('AwesomeAppWithoutRandomNumber') and make sure that the uninstaller for the application should clear the GUID / AppUserModelID. I haven't figured just how to do this but will try this method.\n\nFor more information check (check out 2.):\nhttps://msdn.microsoft.com/en-us/library/windows/desktop/bb773352(v=vs.85).aspx\n\n> Troubleshooting\n> If you are using the guidItem member to identify the icon, and that icon is not seen or some calls to Shell_NotifyIcon fail, one of the following cases is the likely cause:\n> 1.The NIF_GUID flag was not set in every call to Shell_NotifyIcon. Once you identify the notification icon with a GUID in one call to Shell_NotifyIcon, you must use that same GUID to identify the icon in any subsequent Shell_NotifyIcon calls that deal with that same icon.\n> 2. The binary file that contains the icon was moved. The path of the binary file is included in the registration of the icon's GUID and cannot be changed. Settings associated with the icon are preserved through an upgrade only if the file path and GUID are unchanged. If the path must be changed, the application should remove any GUID information that was added when the existing icon was registered. Once that information is removed, you can move the binary file to a new location and reregister it with a new GUID. Any settings associated with the original GUID registration will be lost.\n\nNot really sure how to do the \"Once that information is removed, you can move the binary file to a new location and reregister it with a new GUID\" part as of yet and its not explained.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/142797986",
    "html_url": "https://github.com/electron/electron/issues/2615#issuecomment-142797986",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2615",
    "id": 142797986,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-09-24T03:35:10Z",
    "updated_at": "2015-09-24T03:35:10Z",
    "body": "Fixed by #2882.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/143516547",
    "html_url": "https://github.com/electron/electron/issues/2615#issuecomment-143516547",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2615",
    "id": 143516547,
    "user": {
      "login": "paulcbetts",
      "id": 1396,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1396?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulcbetts",
      "html_url": "https://github.com/paulcbetts",
      "followers_url": "https://api.github.com/users/paulcbetts/followers",
      "following_url": "https://api.github.com/users/paulcbetts/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulcbetts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulcbetts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulcbetts/subscriptions",
      "organizations_url": "https://api.github.com/users/paulcbetts/orgs",
      "repos_url": "https://api.github.com/users/paulcbetts/repos",
      "events_url": "https://api.github.com/users/paulcbetts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulcbetts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-27T04:13:39Z",
    "updated_at": "2015-09-27T04:13:39Z",
    "body": "> Not really sure how to do the \"Once that information is removed, you can move the binary file to a new location and reregister it with a new GUID\" part as of yet and its not explained.\"\n\nYeah, as far as I can tell, you can't remove GUIDs by any means, though I could be wrong\n"
  }
]