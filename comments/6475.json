[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/232528062",
    "html_url": "https://github.com/electron/electron/issues/6475#issuecomment-232528062",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6475",
    "id": 232528062,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-07-14T00:52:11Z",
    "updated_at": "2016-07-14T00:52:11Z",
    "body": "Can you verify you are actually using the v1.2.6? I can not reproduce with following steps:\n1. Open default app\n2. Run `new Notification('test')`\n3. Quit the default app\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/232638417",
    "html_url": "https://github.com/electron/electron/issues/6475#issuecomment-232638417",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6475",
    "id": 232638417,
    "user": {
      "login": "z-ax",
      "id": 1391015,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1391015?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/z-ax",
      "html_url": "https://github.com/z-ax",
      "followers_url": "https://api.github.com/users/z-ax/followers",
      "following_url": "https://api.github.com/users/z-ax/following{/other_user}",
      "gists_url": "https://api.github.com/users/z-ax/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/z-ax/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/z-ax/subscriptions",
      "organizations_url": "https://api.github.com/users/z-ax/orgs",
      "repos_url": "https://api.github.com/users/z-ax/repos",
      "events_url": "https://api.github.com/users/z-ax/events{/privacy}",
      "received_events_url": "https://api.github.com/users/z-ax/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-14T11:25:10Z",
    "updated_at": "2016-07-14T11:25:28Z",
    "body": "Yes, v1.2.6. The code we use looks like this:\n\n``` jsx\n    static addToOS(notification) {\n        let model = Notify.getModelOS(notification),\n            params = {\n                body: model.message,\n                requireInteraction: true,\n                sticky: true,\n                tag: model.uuid\n            },\n            osNotification;\n\n        osNotification = new Notification(\n            'The App Title',\n            params\n        );\n\n        osNotification.addEventListener('click', () => {\n            // ...\n        });\n\n        osNotification.addEventListener('close', () => {\n            return false;\n        });\n        osNotification.addEventListener('error', () => {\n            // ...\n        });\n\n        Notify.list[model.uuid] = osNotification;\n    }\n```\n\nOnes received yesterday are still in the Notification Centre, and there's no Electron in Activity Monitor.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/232650707",
    "html_url": "https://github.com/electron/electron/issues/6475#issuecomment-232650707",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6475",
    "id": 232650707,
    "user": {
      "login": "MarshallOfSound",
      "id": 6634592,
      "avatar_url": "https://avatars0.githubusercontent.com/u/6634592?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarshallOfSound",
      "html_url": "https://github.com/MarshallOfSound",
      "followers_url": "https://api.github.com/users/MarshallOfSound/followers",
      "following_url": "https://api.github.com/users/MarshallOfSound/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarshallOfSound/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarshallOfSound/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarshallOfSound/subscriptions",
      "organizations_url": "https://api.github.com/users/MarshallOfSound/orgs",
      "repos_url": "https://api.github.com/users/MarshallOfSound/repos",
      "events_url": "https://api.github.com/users/MarshallOfSound/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarshallOfSound/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-14T12:25:12Z",
    "updated_at": "2016-07-14T12:25:12Z",
    "body": "Even using your params object.\n\n``` js\nconst params = {\n  body: 'Fake Body',\n  requireInteraction: true,\n  sticky: true,\n  tag: 'Fake UUID'\n}\n\nnew Notification('test', params);\n```\n\nThe notification immediately disappears from the Notification Centre when I close Electron (using 1.2.6).  Are you doing anything inside your app to affect the Notifications at all?  Possibly using native modules to integrate with the Notification Center?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/232653912",
    "html_url": "https://github.com/electron/electron/issues/6475#issuecomment-232653912",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6475",
    "id": 232653912,
    "user": {
      "login": "z-ax",
      "id": 1391015,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1391015?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/z-ax",
      "html_url": "https://github.com/z-ax",
      "followers_url": "https://api.github.com/users/z-ax/followers",
      "following_url": "https://api.github.com/users/z-ax/following{/other_user}",
      "gists_url": "https://api.github.com/users/z-ax/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/z-ax/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/z-ax/subscriptions",
      "organizations_url": "https://api.github.com/users/z-ax/orgs",
      "repos_url": "https://api.github.com/users/z-ax/repos",
      "events_url": "https://api.github.com/users/z-ax/events{/privacy}",
      "received_events_url": "https://api.github.com/users/z-ax/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-14T12:40:23Z",
    "updated_at": "2016-07-14T12:40:23Z",
    "body": "No, it's just like `Notification` HTML5 object usage.\n\nIs there a nice way to clear all Notification from the Center (Mac/Win)?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/232654257",
    "html_url": "https://github.com/electron/electron/issues/6475#issuecomment-232654257",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6475",
    "id": 232654257,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-07-14T12:41:52Z",
    "updated_at": "2016-07-14T12:41:52Z",
    "body": "The problem is very likely in other parts of your code, like crash on exit,  can you provide a minimal app that can reproduce this problem?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/232656540",
    "html_url": "https://github.com/electron/electron/issues/6475#issuecomment-232656540",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6475",
    "id": 232656540,
    "user": {
      "login": "z-ax",
      "id": 1391015,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1391015?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/z-ax",
      "html_url": "https://github.com/z-ax",
      "followers_url": "https://api.github.com/users/z-ax/followers",
      "following_url": "https://api.github.com/users/z-ax/following{/other_user}",
      "gists_url": "https://api.github.com/users/z-ax/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/z-ax/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/z-ax/subscriptions",
      "organizations_url": "https://api.github.com/users/z-ax/orgs",
      "repos_url": "https://api.github.com/users/z-ax/repos",
      "events_url": "https://api.github.com/users/z-ax/events{/privacy}",
      "received_events_url": "https://api.github.com/users/z-ax/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-14T12:52:07Z",
    "updated_at": "2016-07-14T12:53:14Z",
    "body": "Yes, can do that later (or will update this issue if will figure out).\nBtw, also use Gulp task with `electron-connect` to launch the dev env and reload it when sources are updated (maybe, there's something better yet?). That is the main diff between dev and production build, and seen only few issues reproduced with production, no steps found yet.\n\n@zcbenz: the main question is actually like I wrote: to be able to clear all Notifications from the Centers on Mac/Win via API. Is that even possible? Some time ago we researched the issue and didn't see the solution.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/232824352",
    "html_url": "https://github.com/electron/electron/issues/6475#issuecomment-232824352",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6475",
    "id": 232824352,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-07-14T23:47:14Z",
    "updated_at": "2016-07-14T23:47:14Z",
    "body": "There is no API to manually clear the notifications, they are automatically cleared on exit.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/233423550",
    "html_url": "https://github.com/electron/electron/issues/6475#issuecomment-233423550",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6475",
    "id": 233423550,
    "user": {
      "login": "z-ax",
      "id": 1391015,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1391015?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/z-ax",
      "html_url": "https://github.com/z-ax",
      "followers_url": "https://api.github.com/users/z-ax/followers",
      "following_url": "https://api.github.com/users/z-ax/following{/other_user}",
      "gists_url": "https://api.github.com/users/z-ax/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/z-ax/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/z-ax/subscriptions",
      "organizations_url": "https://api.github.com/users/z-ax/orgs",
      "repos_url": "https://api.github.com/users/z-ax/repos",
      "events_url": "https://api.github.com/users/z-ax/events{/privacy}",
      "received_events_url": "https://api.github.com/users/z-ax/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-18T18:55:01Z",
    "updated_at": "2016-07-18T18:55:01Z",
    "body": "Looks like have 2 cases when OS notifications remain: after app force termination (during update launched), and when renderer window was destructed (seems only for OS X).\n\nWe have workarounds for that, will also try to find the time to make minimal app for you as well to get things done easier - at this point have release date soon, can't spend more time these days.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/233673870",
    "html_url": "https://github.com/electron/electron/issues/6475#issuecomment-233673870",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6475",
    "id": 233673870,
    "user": {
      "login": "z-ax",
      "id": 1391015,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1391015?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/z-ax",
      "html_url": "https://github.com/z-ax",
      "followers_url": "https://api.github.com/users/z-ax/followers",
      "following_url": "https://api.github.com/users/z-ax/following{/other_user}",
      "gists_url": "https://api.github.com/users/z-ax/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/z-ax/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/z-ax/subscriptions",
      "organizations_url": "https://api.github.com/users/z-ax/orgs",
      "repos_url": "https://api.github.com/users/z-ax/repos",
      "events_url": "https://api.github.com/users/z-ax/events{/privacy}",
      "received_events_url": "https://api.github.com/users/z-ax/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-19T15:40:31Z",
    "updated_at": "2016-07-19T15:40:31Z",
    "body": "Okay, so here it is. Steps: launch Electron app via, for example, `gulp-run-electron`, create Notification on OS X and terminate process (like ^C in Terminal or via Activity Monitor). Seems like it reproduces only on Mac.\n\nWorkaround looks like this for me.\nNode.js part:\n\n``` js\n        // Before the application starts closing its windows.\n        app.on('before-quit', (event) => {\n            if (mainWindow) {\n                event.preventDefault();\n                mainWindow.webContents.send('clear-os-notifications');\n                mainWindow.destroy();\n                mainWindow = null;\n                app.quit();\n            }\n        });\n```\n\nRenderer: subscribe to IPC event `clear-os-notifications`, maintain list of Notifications and clear all of them on this event like this:\n\n``` js\n    static removeByTagFromOS(tag) {\n        if (!tag || !Notify.list.hasOwnProperty(tag)) {\n            return false;\n        }\n\n        let osNotification = Notify.list[tag];\n        if (typeof osNotification === 'object') {\n            osNotification.close();\n        }\n\n        delete Notify.list[osNotification.tag];\n\n        return true;\n    }\n\n    static clearAllFromOS() {\n        for (let tag in Notify.list) {\n            if (Notify.list.hasOwnProperty(tag)) {\n                Notify.removeByTagFromOS(tag);\n            }\n        }\n    }\n```\n\nIf you have better idea how to work with this - please let me know.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/233919274",
    "html_url": "https://github.com/electron/electron/issues/6475#issuecomment-233919274",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6475",
    "id": 233919274,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-07-20T11:05:07Z",
    "updated_at": "2016-07-20T11:05:07Z",
    "body": "When you force terminating the app, there is no chance for Electron to clear the notifications, because the process is killed and the code did not run.\n\nOn platforms other than macOS, the system clears the notifications automatically when the process exits. But this is a platform-dependent feature.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/233920705",
    "html_url": "https://github.com/electron/electron/issues/6475#issuecomment-233920705",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6475",
    "id": 233920705,
    "user": {
      "login": "z-ax",
      "id": 1391015,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1391015?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/z-ax",
      "html_url": "https://github.com/z-ax",
      "followers_url": "https://api.github.com/users/z-ax/followers",
      "following_url": "https://api.github.com/users/z-ax/following{/other_user}",
      "gists_url": "https://api.github.com/users/z-ax/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/z-ax/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/z-ax/subscriptions",
      "organizations_url": "https://api.github.com/users/z-ax/orgs",
      "repos_url": "https://api.github.com/users/z-ax/repos",
      "events_url": "https://api.github.com/users/z-ax/events{/privacy}",
      "received_events_url": "https://api.github.com/users/z-ax/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-07-20T11:12:56Z",
    "updated_at": "2016-07-20T11:12:56Z",
    "body": "In any case, this workaround cancels termination to clear OS Notifications through IPC.\nBut there might be no active window.\nSo, I'd prefer at least to have API to clear all of them.\nAnyways, hope it helps someone.\n"
  }
]