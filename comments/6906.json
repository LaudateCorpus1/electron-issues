[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/241165226",
    "html_url": "https://github.com/electron/electron/issues/6906#issuecomment-241165226",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6906",
    "id": 241165226,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-08-20T00:22:15Z",
    "updated_at": "2016-08-20T00:22:15Z",
    "body": "macOS does automatically remove leading and trailing separators, could that be what you are seeing?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/241165391",
    "html_url": "https://github.com/electron/electron/issues/6906#issuecomment-241165391",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6906",
    "id": 241165391,
    "user": {
      "login": "coreybutler",
      "id": 770982,
      "avatar_url": "https://avatars2.githubusercontent.com/u/770982?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/coreybutler",
      "html_url": "https://github.com/coreybutler",
      "followers_url": "https://api.github.com/users/coreybutler/followers",
      "following_url": "https://api.github.com/users/coreybutler/following{/other_user}",
      "gists_url": "https://api.github.com/users/coreybutler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/coreybutler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/coreybutler/subscriptions",
      "organizations_url": "https://api.github.com/users/coreybutler/orgs",
      "repos_url": "https://api.github.com/users/coreybutler/repos",
      "events_url": "https://api.github.com/users/coreybutler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/coreybutler/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-20T00:24:05Z",
    "updated_at": "2016-08-20T00:24:05Z",
    "body": "@kevinsawicki - I don't think that's it.... I don't remove any menu items, I'm simply hiding them.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/241165534",
    "html_url": "https://github.com/electron/electron/issues/6906#issuecomment-241165534",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6906",
    "id": 241165534,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-08-20T00:25:35Z",
    "updated_at": "2016-08-20T00:25:45Z",
    "body": "@coreybutler try not setting the separator's visibility to `false` in your example but just the other ones, do you still end up seeing the separators on macOS?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/241165549",
    "html_url": "https://github.com/electron/electron/issues/6906#issuecomment-241165549",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6906",
    "id": 241165549,
    "user": {
      "login": "coreybutler",
      "id": 770982,
      "avatar_url": "https://avatars2.githubusercontent.com/u/770982?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/coreybutler",
      "html_url": "https://github.com/coreybutler",
      "followers_url": "https://api.github.com/users/coreybutler/followers",
      "following_url": "https://api.github.com/users/coreybutler/following{/other_user}",
      "gists_url": "https://api.github.com/users/coreybutler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/coreybutler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/coreybutler/subscriptions",
      "organizations_url": "https://api.github.com/users/coreybutler/orgs",
      "repos_url": "https://api.github.com/users/coreybutler/repos",
      "events_url": "https://api.github.com/users/coreybutler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/coreybutler/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-20T00:25:47Z",
    "updated_at": "2016-08-20T00:28:45Z",
    "body": "Here's the whole menu file:\n\n<details>\n\n``` js\n'use strict'\n\n// Setup Menu\nconst electron = require('electron')\nconst ipc = electron.ipcMain\nconst Menu = electron.Menu\nconst sep = {type: 'separator'}\n\nmodule.exports = function (assets) {\n  let menuTpl = [{\n    label: 'Application',\n    submenu: [{\n      label: 'About',\n      click () {\n        ipc.emit('display.about')\n      }\n    }, sep, {\n      label: 'New Server',\n      accelerator: 'CmdOrCtrl+N',\n      click () {\n        ipc.emit('webroot.identify')\n      }\n    }, sep, {\n      label: 'Start All',\n      accelerator: 'Alt+CmdOrCtrl+Up',\n      click () {\n        ipc.emit('webserver.startall')\n      }\n    }, {\n      label: 'Stop All',\n      accelerator: 'Alt+CmdOrCtrl+Down',\n      click () {\n        ipc.emit('webserver.stopall')\n      }\n    }, {\n      label: 'Delete All',\n      click () {\n        ipc.emit('webserver.delete.all')\n      }\n    }, {\n      label: 'Share Selected Server',\n      accelerator: 'Alt+CmdOrCtrl+S',\n      type: 'checkbox',\n      checked: false,\n      visible: false,\n      click () {\n        ipc.emit('toggle.share')\n      }\n    }, sep, {\n      label: 'Server List',\n      accelerator: 'CmdOrCtrl+.',\n      click () {\n        ipc.emit('servers.display')\n      }\n    }, {\n      label: 'Preferences',\n      accelerator: 'CmdOrCtrl+,',\n      click () {\n        ipc.emit('preferences.display')\n      }\n    }, sep, {\n      label: 'Theme',\n      submenu: [{\n        label: 'Light',\n        type: 'radio',\n        checked: true,\n        click () {\n          ipc.emit('theme.select', 'light')\n        }\n      }, {\n        label: 'Dark',\n        type: 'radio',\n        checked: false,\n        click () {\n          ipc.emit('theme.select', 'dark')\n        }\n      }]\n    }, sep, {\n      label: 'Quit',\n      accelerator: 'CmdOrCtrl+Q',\n      click () {\n        assets.app.quit()\n      }\n    }]\n  }, {\n    label: 'Edit',\n    submenu: [{\n      label: 'Cut',\n      accelerator: 'CmdOrCtrl+X',\n      selector: 'cut:',\n      role: 'cut'\n    }, {\n      label: 'Copy',\n      accelerator: 'CmdOrCtrl+C',\n      selector: 'copy:',\n      role: 'copy'\n    }, {\n      label: 'Paste',\n      accelerator: 'CmdOrCtrl+V',\n      // selector: 'paste:',\n      role: 'paste'\n    }, {\n      label: 'Select All',\n      accelerator: 'CmdOrCtrl+A',\n      selector: 'selectAll:',\n      role: 'selectall'\n    }, sep, {\n      label: 'Undo',\n      accelerator: 'CmdOrCtrl+Z',\n      role: 'undo'\n    }, {\n      label: 'Redo',\n      accelerator: 'Shift+CmdOrCtrl+Z',\n      role: 'redo'\n    }]\n  }, {\n    label: 'SSL',\n    submenu: [{\n      label: 'View Certificate Details',\n      visible: true,\n      click () {\n        ipc.emit('show.ssl.filebrowser')\n      }\n    }, {\n      label: 'Open Certificate Directory',\n      click () {\n        ipc.emit('ssl.filebrowser')\n      }\n    }, sep, {\n      label: 'Regenerate',\n      visible: true,\n      click () {\n        ipc.emit('ssl.regenerate.ca')\n      }\n    }, sep, {\n      label: 'Disable',\n      visible: true,\n      click () {\n        assets.CA.disable()\n      }\n    }, {\n      label: 'Enable',\n      visible: false,\n      click () {\n        assets.CA.regenerate()\n        console.log('ENABLE SSL')\n      }\n    }]\n  }, {\n    label: 'Team',\n    submenu: [{\n      label: 'Show Team',\n      accelerator: 'CmdOrCtrl+T',\n      type: 'checkbox',\n      checked: false,\n      // enabled: false,\n      click () {\n        ipc.emit('toggle.collaboration')\n      }\n    }]\n  }/*,{\n    role: 'help',\n    submenu: [{\n      label: 'My IP Addresses',\n      click () {\n        console.log(require('os').networkInterfaces())\n      }\n    }]\n  }*/]\n\n  // If the user is a developer, support devtools\n  menuTpl.push({\n    label: 'Developer',\n    submenu: [{\n      label: 'Show Devtools',\n      accelerator: 'Alt+CmdOrCtrl+I',\n      type: 'checkbox',\n      checked: false,\n      click () {\n        assets.mainWindow.toggleDevTools()\n      }\n    }]\n  })\n\n  let menu = Menu.buildFromTemplate(menuTpl)\n  Menu.setApplicationMenu(menu)\n\n  let sharingItem = function () {\n    return menu.items[0].submenu.items.filter(function (item) {\n      return item.label === 'Share Selected Server'\n    })[0]\n  }\n\n  ipc.on('menu.sharing.visible', function (show) {\n    sharingItem().visible = show\n    if (!show) {\n      sharingItem().checked = false\n    }\n  })\n\n  ipc.on('menu.sharing.checked', function (checked) {\n    if (arguments.length > 1) {\n      checked = arguments[1]\n    }\n\n    sharingItem().checked = checked\n  })\n\n  const sslmenu = menu.items[2].submenu\n  const disabledItem = sslmenu.items[sslmenu.items.length - 2]\n  const enabledItem = sslmenu.items[sslmenu.items.length - 1]\n  const setSslMenuAction = function () {\n    console.log('Changing menu items')\n    sslmenu.items.forEach((item) => {\n      item.visible = assets.CA.enabled\n    })\n    enabledItem.visible = !assets.CA.enabled\n    disabledItem.visible = assets.CA.enabled\n  }\n\n  setTimeout(function () {\n    assets.CA.on('disable', () => {\n      console.log('RECOGNIZED CA DISABLE')\n      setSslMenuAction()\n    })\n    assets.CA.on('enable', () => {\n      console.log('RECOGNIZED CA DISABLE')\n      setSslMenuAction()\n    })\n    setSslMenuAction()\n  }, 1)\n\n}\n```\n\n</details>\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/241165925",
    "html_url": "https://github.com/electron/electron/issues/6906#issuecomment-241165925",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6906",
    "id": 241165925,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-08-20T00:29:46Z",
    "updated_at": "2016-08-20T00:29:54Z",
    "body": "@coreybutler Do you still see the separator in this menu example?\n\n``` js\n{\n  label: 'Separator below?'\n},\n{\n  type: 'separator',\n  visible: false\n},\n{\n  label: 'Separator above?'\n}\n```\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/241166219",
    "html_url": "https://github.com/electron/electron/issues/6906#issuecomment-241166219",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6906",
    "id": 241166219,
    "user": {
      "login": "coreybutler",
      "id": 770982,
      "avatar_url": "https://avatars2.githubusercontent.com/u/770982?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/coreybutler",
      "html_url": "https://github.com/coreybutler",
      "followers_url": "https://api.github.com/users/coreybutler/followers",
      "following_url": "https://api.github.com/users/coreybutler/following{/other_user}",
      "gists_url": "https://api.github.com/users/coreybutler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/coreybutler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/coreybutler/subscriptions",
      "organizations_url": "https://api.github.com/users/coreybutler/orgs",
      "repos_url": "https://api.github.com/users/coreybutler/repos",
      "events_url": "https://api.github.com/users/coreybutler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/coreybutler/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-20T00:33:06Z",
    "updated_at": "2016-08-20T00:33:06Z",
    "body": "@kevinsawicki - Your example works as you're expecting... no separators above or below. But that's not really the issue. My separators aren't at the top/bottom of the menu.... they're in the middle.\n\nJust to clarify, my goal is to REMOVE the separators on Windows when \"Enable\" is the only item, preferably without having to reconstruct the menu items (which is what I'll do if I have to).\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/241166366",
    "html_url": "https://github.com/electron/electron/issues/6906#issuecomment-241166366",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6906",
    "id": 241166366,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-08-20T00:35:06Z",
    "updated_at": "2016-08-20T00:35:06Z",
    "body": "> Just to clarify, my goal is to REMOVE the separators on Windows when \"Enable\" is the only item, preferably without having to reconstruct the menu items (which is what I'll do if I have to).\n\nOh okay, I see what you are referring to now, this seems like a duplicate of https://github.com/electron/electron/issues/5869, closing this out here, please subscribe to that one for updates.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/241166435",
    "html_url": "https://github.com/electron/electron/issues/6906#issuecomment-241166435",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6906",
    "id": 241166435,
    "user": {
      "login": "coreybutler",
      "id": 770982,
      "avatar_url": "https://avatars2.githubusercontent.com/u/770982?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/coreybutler",
      "html_url": "https://github.com/coreybutler",
      "followers_url": "https://api.github.com/users/coreybutler/followers",
      "following_url": "https://api.github.com/users/coreybutler/following{/other_user}",
      "gists_url": "https://api.github.com/users/coreybutler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/coreybutler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/coreybutler/subscriptions",
      "organizations_url": "https://api.github.com/users/coreybutler/orgs",
      "repos_url": "https://api.github.com/users/coreybutler/repos",
      "events_url": "https://api.github.com/users/coreybutler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/coreybutler/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-20T00:36:10Z",
    "updated_at": "2016-08-20T00:36:10Z",
    "body": "Ah thanks, sorry for the duplicate... didn't see that one.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/241166481",
    "html_url": "https://github.com/electron/electron/issues/6906#issuecomment-241166481",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6906",
    "id": 241166481,
    "user": {
      "login": "kevinsawicki",
      "id": 671378,
      "avatar_url": "https://avatars0.githubusercontent.com/u/671378?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevinsawicki",
      "html_url": "https://github.com/kevinsawicki",
      "followers_url": "https://api.github.com/users/kevinsawicki/followers",
      "following_url": "https://api.github.com/users/kevinsawicki/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevinsawicki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevinsawicki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevinsawicki/subscriptions",
      "organizations_url": "https://api.github.com/users/kevinsawicki/orgs",
      "repos_url": "https://api.github.com/users/kevinsawicki/repos",
      "events_url": "https://api.github.com/users/kevinsawicki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevinsawicki/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-08-20T00:36:40Z",
    "updated_at": "2016-08-20T00:36:40Z",
    "body": ">  citing that macOS doesn't support hiding the separator. However; it seems to be working on El Capitan (10.11.16).\n\nJust to be clear, I don't believe this is supported via the `visible` property on macOS, what macOS does support is removing leading and trailing separators automatically, while Windows and Linux does not.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/241167211",
    "html_url": "https://github.com/electron/electron/issues/6906#issuecomment-241167211",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/6906",
    "id": 241167211,
    "user": {
      "login": "coreybutler",
      "id": 770982,
      "avatar_url": "https://avatars2.githubusercontent.com/u/770982?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/coreybutler",
      "html_url": "https://github.com/coreybutler",
      "followers_url": "https://api.github.com/users/coreybutler/followers",
      "following_url": "https://api.github.com/users/coreybutler/following{/other_user}",
      "gists_url": "https://api.github.com/users/coreybutler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/coreybutler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/coreybutler/subscriptions",
      "organizations_url": "https://api.github.com/users/coreybutler/orgs",
      "repos_url": "https://api.github.com/users/coreybutler/repos",
      "events_url": "https://api.github.com/users/coreybutler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/coreybutler/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-20T00:45:52Z",
    "updated_at": "2016-08-20T00:47:10Z",
    "body": "@kevinsawicki - I was initially under the impression that as long as the menu items _existed_ (even if visibility = `false`), then macOS would treat them as though they exist. In reality, it appears as though any menu item whose visibility is set to `false` will be treated as though the menu item doesn't exist. Since I'm hiding every item dynamically, macOS is treating it as though the non-separator menu items don't exist while the separators and visible menu items do exist. So in my case, macOS sees two separators and one menu item (just like the last Windows screen shot).... and therefore removes the leading separators because that's the default action.\n\nThis all makes sense now. I figured I'd write this out in case anyone else comes across it. Thanks for your help!\n"
  }
]