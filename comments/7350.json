[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/249574907",
    "html_url": "https://github.com/electron/electron/issues/7350#issuecomment-249574907",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7350",
    "id": 249574907,
    "user": {
      "login": "danburzo",
      "id": 205375,
      "avatar_url": "https://avatars0.githubusercontent.com/u/205375?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danburzo",
      "html_url": "https://github.com/danburzo",
      "followers_url": "https://api.github.com/users/danburzo/followers",
      "following_url": "https://api.github.com/users/danburzo/following{/other_user}",
      "gists_url": "https://api.github.com/users/danburzo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danburzo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danburzo/subscriptions",
      "organizations_url": "https://api.github.com/users/danburzo/orgs",
      "repos_url": "https://api.github.com/users/danburzo/repos",
      "events_url": "https://api.github.com/users/danburzo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danburzo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-26T13:50:55Z",
    "updated_at": "2016-09-26T13:50:55Z",
    "body": "I've tested the offscreen version on Electron 1.4.0 and it seems the memory stabilizes at ~2.5GB, but after this limit is reached the performance drops severely.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/249661838",
    "html_url": "https://github.com/electron/electron/issues/7350#issuecomment-249661838",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7350",
    "id": 249661838,
    "user": {
      "login": "gerhardberger",
      "id": 1059699,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1059699?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gerhardberger",
      "html_url": "https://github.com/gerhardberger",
      "followers_url": "https://api.github.com/users/gerhardberger/followers",
      "following_url": "https://api.github.com/users/gerhardberger/following{/other_user}",
      "gists_url": "https://api.github.com/users/gerhardberger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gerhardberger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gerhardberger/subscriptions",
      "organizations_url": "https://api.github.com/users/gerhardberger/orgs",
      "repos_url": "https://api.github.com/users/gerhardberger/repos",
      "events_url": "https://api.github.com/users/gerhardberger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gerhardberger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-26T18:51:10Z",
    "updated_at": "2016-09-26T18:51:10Z",
    "body": "This issue is only present in the GPU-accelerated offscreen rendering mode.\n\nIn electron 1.4.0-1 the software output mode isn't working, that's why it switches back to GPU mode, but I've already submitted a fix for it, #7327, hopefully it will be available in the next release.\n\nI don't know that this issue is present on Windows, but after a little investigation I see that, after the bitmap is [transformed into `NativeImage`](https://github.com/electron/electron/blob/master/atom/browser/api/atom_api_web_contents.cc#L1368) and the webContents is destroyed the image stays in memory. When I don't create a `NativeImage` from it, or I call an `image.Clear();` directly after the `\"paint\"` emitting, it goes out of memory.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/249665794",
    "html_url": "https://github.com/electron/electron/issues/7350#issuecomment-249665794",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7350",
    "id": 249665794,
    "user": {
      "login": "danburzo",
      "id": 205375,
      "avatar_url": "https://avatars0.githubusercontent.com/u/205375?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danburzo",
      "html_url": "https://github.com/danburzo",
      "followers_url": "https://api.github.com/users/danburzo/followers",
      "following_url": "https://api.github.com/users/danburzo/following{/other_user}",
      "gists_url": "https://api.github.com/users/danburzo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danburzo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danburzo/subscriptions",
      "organizations_url": "https://api.github.com/users/danburzo/orgs",
      "repos_url": "https://api.github.com/users/danburzo/repos",
      "events_url": "https://api.github.com/users/danburzo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danburzo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-26T19:04:47Z",
    "updated_at": "2016-09-26T19:04:47Z",
    "body": "Hi @gerhardberger, I had seen your pull request but I think I misread it the first time around and didn't link it to my problem. To paraphrase it just to make sure I got this right: sounds like `disableHardwareAcceleration` is mostly placebo until that gets merged, and the memory spiraling out of control should be fixed once there's true software rendering?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/249678831",
    "html_url": "https://github.com/electron/electron/issues/7350#issuecomment-249678831",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7350",
    "id": 249678831,
    "user": {
      "login": "gerhardberger",
      "id": 1059699,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1059699?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gerhardberger",
      "html_url": "https://github.com/gerhardberger",
      "followers_url": "https://api.github.com/users/gerhardberger/followers",
      "following_url": "https://api.github.com/users/gerhardberger/following{/other_user}",
      "gists_url": "https://api.github.com/users/gerhardberger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gerhardberger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gerhardberger/subscriptions",
      "organizations_url": "https://api.github.com/users/gerhardberger/orgs",
      "repos_url": "https://api.github.com/users/gerhardberger/repos",
      "events_url": "https://api.github.com/users/gerhardberger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gerhardberger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-26T19:55:01Z",
    "updated_at": "2016-09-26T19:55:01Z",
    "body": "@danburzo, yes currently calling `disableHardwareAcceleration` has no effect, and the memory problem won't be present in the software output mode, when it will work again.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/249679087",
    "html_url": "https://github.com/electron/electron/issues/7350#issuecomment-249679087",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7350",
    "id": 249679087,
    "user": {
      "login": "danburzo",
      "id": 205375,
      "avatar_url": "https://avatars0.githubusercontent.com/u/205375?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danburzo",
      "html_url": "https://github.com/danburzo",
      "followers_url": "https://api.github.com/users/danburzo/followers",
      "following_url": "https://api.github.com/users/danburzo/following{/other_user}",
      "gists_url": "https://api.github.com/users/danburzo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danburzo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danburzo/subscriptions",
      "organizations_url": "https://api.github.com/users/danburzo/orgs",
      "repos_url": "https://api.github.com/users/danburzo/repos",
      "events_url": "https://api.github.com/users/danburzo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danburzo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-26T19:55:56Z",
    "updated_at": "2016-09-26T20:12:07Z",
    "body": "Music to my ears ðŸ’ƒ \n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/251312542",
    "html_url": "https://github.com/electron/electron/issues/7350#issuecomment-251312542",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7350",
    "id": 251312542,
    "user": {
      "login": "danburzo",
      "id": 205375,
      "avatar_url": "https://avatars0.githubusercontent.com/u/205375?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danburzo",
      "html_url": "https://github.com/danburzo",
      "followers_url": "https://api.github.com/users/danburzo/followers",
      "following_url": "https://api.github.com/users/danburzo/following{/other_user}",
      "gists_url": "https://api.github.com/users/danburzo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danburzo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danburzo/subscriptions",
      "organizations_url": "https://api.github.com/users/danburzo/orgs",
      "repos_url": "https://api.github.com/users/danburzo/repos",
      "events_url": "https://api.github.com/users/danburzo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danburzo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-04T07:18:28Z",
    "updated_at": "2016-10-04T07:19:40Z",
    "body": "I've rerun the test same test (but set the width/height to 10000 pixels) with Electron v.1.4.2 on macOS Sierra and here's what I got:\n1. Memory usage is _much, much better_, but still grows from one iteration to another\n2. At about iteration 100, the rhythm slows down considerably\n3. It finally crashes with:\n\n``` bash\nElectron(9093,0x7fffcc34f3c0) malloc: *** error for object 0x7fc3276efe10: pointer being freed was not allocated\n*** set a breakpoint in malloc_error_break to debug\n./start.sh: line 3:  9093 Abort trap: 6           bin/Electron.app/Contents/MacOS/Electron ./index.js $*\n```\n\nThis also seems to be the case for a more decent-sized, 2000 by 2000 pixels, window, and it crashed with:\n\n``` bash\n./start.sh: line 3:  9482 Bus error: 10           bin/Electron.app/Contents/MacOS/Electron ./index.js $*\n```\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/252210312",
    "html_url": "https://github.com/electron/electron/issues/7350#issuecomment-252210312",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7350",
    "id": 252210312,
    "user": {
      "login": "danburzo",
      "id": 205375,
      "avatar_url": "https://avatars0.githubusercontent.com/u/205375?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danburzo",
      "html_url": "https://github.com/danburzo",
      "followers_url": "https://api.github.com/users/danburzo/followers",
      "following_url": "https://api.github.com/users/danburzo/following{/other_user}",
      "gists_url": "https://api.github.com/users/danburzo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danburzo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danburzo/subscriptions",
      "organizations_url": "https://api.github.com/users/danburzo/orgs",
      "repos_url": "https://api.github.com/users/danburzo/repos",
      "events_url": "https://api.github.com/users/danburzo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danburzo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-07T10:30:38Z",
    "updated_at": "2016-10-07T10:30:38Z",
    "body": "The memory leak seems to have been fully eradicated in [Electron 1.4.3](https://github.com/electron/electron/releases/tag/v1.4.3) most likely with [this pull request](https://github.com/electron/electron/pull/7452) (thanks, @enlight! ðŸŽ‰).\n\nStill crashes eventually, (and there's the inevitable slowdown after several iterations), but it's in much better shape.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/252244934",
    "html_url": "https://github.com/electron/electron/issues/7350#issuecomment-252244934",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7350",
    "id": 252244934,
    "user": {
      "login": "danburzo",
      "id": 205375,
      "avatar_url": "https://avatars0.githubusercontent.com/u/205375?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danburzo",
      "html_url": "https://github.com/danburzo",
      "followers_url": "https://api.github.com/users/danburzo/followers",
      "following_url": "https://api.github.com/users/danburzo/following{/other_user}",
      "gists_url": "https://api.github.com/users/danburzo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danburzo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danburzo/subscriptions",
      "organizations_url": "https://api.github.com/users/danburzo/orgs",
      "repos_url": "https://api.github.com/users/danburzo/repos",
      "events_url": "https://api.github.com/users/danburzo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danburzo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-07T12:55:56Z",
    "updated_at": "2016-10-07T12:55:56Z",
    "body": "**However** neither version between Electron 1.4.0-1.4.3 crashes on a headless Ubuntu 14 (using Electron with xvfb), but rather freezes and a weird child process appears. Here's `htop` after it froze:\n<img width=\"1270\" alt=\"screen shot 2016-10-07 at 3 50 16 pm\" src=\"https://cloud.githubusercontent.com/assets/205375/19190457/43c14c8e-8ca6-11e6-83df-de9a417ed9c7.png\">\n\n@gerhardberger any idea how we could debug this? Or a reliable way to detect that it froze?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/284900413",
    "html_url": "https://github.com/electron/electron/issues/7350#issuecomment-284900413",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7350",
    "id": 284900413,
    "user": {
      "login": "amoshg",
      "id": 1724212,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1724212?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amoshg",
      "html_url": "https://github.com/amoshg",
      "followers_url": "https://api.github.com/users/amoshg/followers",
      "following_url": "https://api.github.com/users/amoshg/following{/other_user}",
      "gists_url": "https://api.github.com/users/amoshg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amoshg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amoshg/subscriptions",
      "organizations_url": "https://api.github.com/users/amoshg/orgs",
      "repos_url": "https://api.github.com/users/amoshg/repos",
      "events_url": "https://api.github.com/users/amoshg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amoshg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-07T23:56:30Z",
    "updated_at": "2017-03-07T23:56:30Z",
    "body": "@danburzo did you end up finding the root cause or a soltuon for the freezing when using Electron with xvfb? "
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/284908806",
    "html_url": "https://github.com/electron/electron/issues/7350#issuecomment-284908806",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/7350",
    "id": 284908806,
    "user": {
      "login": "danburzo",
      "id": 205375,
      "avatar_url": "https://avatars0.githubusercontent.com/u/205375?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danburzo",
      "html_url": "https://github.com/danburzo",
      "followers_url": "https://api.github.com/users/danburzo/followers",
      "following_url": "https://api.github.com/users/danburzo/following{/other_user}",
      "gists_url": "https://api.github.com/users/danburzo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danburzo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danburzo/subscriptions",
      "organizations_url": "https://api.github.com/users/danburzo/orgs",
      "repos_url": "https://api.github.com/users/danburzo/repos",
      "events_url": "https://api.github.com/users/danburzo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danburzo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-08T00:42:22Z",
    "updated_at": "2017-03-08T00:42:22Z",
    "body": "@amoshg unfortunately we have not been able to reliably prevent the freezing, so we've worked around it by refreshing the electron processes periodically, and having fallbacks to different processes when we detect an abnormal timeout (which most likely means it froze)"
  }
]