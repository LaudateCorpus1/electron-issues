[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/206824449",
    "html_url": "https://github.com/electron/electron/pull/5030#issuecomment-206824449",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/5030",
    "id": 206824449,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-04-07T11:30:27Z",
    "updated_at": "2016-04-07T11:30:27Z",
    "body": "This looks good to me, and out of curiosity, does Chrome's webRequest API behave the same?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/206829135",
    "html_url": "https://github.com/electron/electron/pull/5030#issuecomment-206829135",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/5030",
    "id": 206829135,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-07T11:44:48Z",
    "updated_at": "2016-04-07T11:44:48Z",
    "body": "Yup, users are required to provide a redirectURL when overriding response headers to redirect, they override the status line [here](https://code.google.com/p/chromium/codesearch#chromium/src/extensions/browser/api/web_request/web_request_api_helpers.cc&sq=package:chromium&l=1176&rcl=1459999039).\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/206864551",
    "html_url": "https://github.com/electron/electron/pull/5030#issuecomment-206864551",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/5030",
    "id": 206864551,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-04-07T12:37:36Z",
    "updated_at": "2016-04-07T12:37:36Z",
    "body": "I tested with Chrome extension and it seems that `chrome.webRequest` doesn't have this issue. I wrote following extension code and then load `http://bbc.co.uk`, the website redirected successfully and I can see the logging too:\n\n``` js\n  chrome.webRequest.onHeadersReceived.addListener(\n    function(response) {\n      console.log(response)\n      return {responseHeaders: response.responseHeaders}\n    },\n    {\n      urls: [\n        \"http://bbc.co.uk/*\"\n      ],\n    },\n    [\"blocking\", \"responseHeaders\"]);\n```\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/206909278",
    "html_url": "https://github.com/electron/electron/pull/5030#issuecomment-206909278",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/5030",
    "id": 206909278,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-07T13:40:24Z",
    "updated_at": "2016-04-07T13:40:24Z",
    "body": "You are right I was too soon on deciding the behavior, they construct new response headers from original replacing only the changed or added attributes, preserving the status line while we construct a completely new one, I will change this PR to match chrome webrequest api behavior.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/207234044",
    "html_url": "https://github.com/electron/electron/pull/5030#issuecomment-207234044",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/5030",
    "id": 207234044,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-08T06:12:46Z",
    "updated_at": "2016-04-08T06:12:46Z",
    "body": "Have made the changes, not sure if this best fix. Replacing the status line when a location header is present or should we ask users to provide status line ?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/207316232",
    "html_url": "https://github.com/electron/electron/pull/5030#issuecomment-207316232",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/5030",
    "id": 207316232,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-08T08:35:45Z",
    "updated_at": "2016-04-08T08:35:45Z",
    "body": "Will use original response headers' status line by default, users can override this by providing `statusLine` option in callback.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/208286921",
    "html_url": "https://github.com/electron/electron/pull/5030#issuecomment-208286921",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/5030",
    "id": 208286921,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2016-04-11T11:04:29Z",
    "updated_at": "2016-04-11T11:04:29Z",
    "body": "👍 \n"
  }
]