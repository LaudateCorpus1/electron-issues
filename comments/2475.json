[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/130049461",
    "html_url": "https://github.com/electron/electron/issues/2475#issuecomment-130049461",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2475",
    "id": 130049461,
    "user": {
      "login": "marcbachmann",
      "id": 431376,
      "avatar_url": "https://avatars0.githubusercontent.com/u/431376?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marcbachmann",
      "html_url": "https://github.com/marcbachmann",
      "followers_url": "https://api.github.com/users/marcbachmann/followers",
      "following_url": "https://api.github.com/users/marcbachmann/following{/other_user}",
      "gists_url": "https://api.github.com/users/marcbachmann/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marcbachmann/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marcbachmann/subscriptions",
      "organizations_url": "https://api.github.com/users/marcbachmann/orgs",
      "repos_url": "https://api.github.com/users/marcbachmann/repos",
      "events_url": "https://api.github.com/users/marcbachmann/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marcbachmann/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-11T20:11:27Z",
    "updated_at": "2015-08-11T20:11:27Z",
    "body": "> The problem is this violates the design of Chromium's network stack, which requires the job to be created immediately when the request is made.\n\nSo the callback still needs to be called in the same tick?\nThat might be a bit confusing. But as long as it's documented, that's ok.\n\nDo you like to remove the RequestJob classes completely? IMO that's a strange api anyways.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/130285640",
    "html_url": "https://github.com/electron/electron/issues/2475#issuecomment-130285640",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2475",
    "id": 130285640,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-08-12T12:35:33Z",
    "updated_at": "2015-08-12T12:35:33Z",
    "body": "> So the callback still needs to be called in the same tick?\n\nNo, it is total asynchronous, the type of the request job (like buffer job or file job) has to been determined in the same tick, but the content of the request job (like the path of file job) doesn't have to.\n\n> Do you like to remove the RequestJob classes completely?\n\nYeah.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/130544535",
    "html_url": "https://github.com/electron/electron/issues/2475#issuecomment-130544535",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2475",
    "id": 130544535,
    "user": {
      "login": "Tribex",
      "id": 5861371,
      "avatar_url": "https://avatars3.githubusercontent.com/u/5861371?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Tribex",
      "html_url": "https://github.com/Tribex",
      "followers_url": "https://api.github.com/users/Tribex/followers",
      "following_url": "https://api.github.com/users/Tribex/following{/other_user}",
      "gists_url": "https://api.github.com/users/Tribex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Tribex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Tribex/subscriptions",
      "organizations_url": "https://api.github.com/users/Tribex/orgs",
      "repos_url": "https://api.github.com/users/Tribex/repos",
      "events_url": "https://api.github.com/users/Tribex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Tribex/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-13T05:48:02Z",
    "updated_at": "2015-08-13T05:48:02Z",
    "body": "@zcbenz Is it possible to cancel a request using this API?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/130566871",
    "html_url": "https://github.com/electron/electron/issues/2475#issuecomment-130566871",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2475",
    "id": 130566871,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-13T07:46:00Z",
    "updated_at": "2015-08-13T07:46:00Z",
    "body": "@Tribex yeah the new api is flexible to cancel any request job with error option in the handler [callback](https://github.com/atom/electron/commit/337460cdc278afbb2753680cf49b8442892db4bf).\n\n```\ncallback({error: -300}) or callback(-300)\n```\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/130656572",
    "html_url": "https://github.com/electron/electron/issues/2475#issuecomment-130656572",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2475",
    "id": 130656572,
    "user": {
      "login": "Tribex",
      "id": 5861371,
      "avatar_url": "https://avatars3.githubusercontent.com/u/5861371?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Tribex",
      "html_url": "https://github.com/Tribex",
      "followers_url": "https://api.github.com/users/Tribex/followers",
      "following_url": "https://api.github.com/users/Tribex/following{/other_user}",
      "gists_url": "https://api.github.com/users/Tribex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Tribex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Tribex/subscriptions",
      "organizations_url": "https://api.github.com/users/Tribex/orgs",
      "repos_url": "https://api.github.com/users/Tribex/repos",
      "events_url": "https://api.github.com/users/Tribex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Tribex/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-13T12:43:35Z",
    "updated_at": "2015-08-13T12:43:35Z",
    "body": "@deepak1556 Excellent, thanks for clearing that up!\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/132270854",
    "html_url": "https://github.com/electron/electron/issues/2475#issuecomment-132270854",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2475",
    "id": 132270854,
    "user": {
      "login": "paulcbetts",
      "id": 1396,
      "avatar_url": "https://avatars1.githubusercontent.com/u/1396?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulcbetts",
      "html_url": "https://github.com/paulcbetts",
      "followers_url": "https://api.github.com/users/paulcbetts/followers",
      "following_url": "https://api.github.com/users/paulcbetts/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulcbetts/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulcbetts/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulcbetts/subscriptions",
      "organizations_url": "https://api.github.com/users/paulcbetts/orgs",
      "repos_url": "https://api.github.com/users/paulcbetts/repos",
      "events_url": "https://api.github.com/users/paulcbetts/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulcbetts/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-18T16:41:50Z",
    "updated_at": "2015-08-18T16:41:50Z",
    "body": "Oof, this is a bummer for electron-compile but I think I can make most things work\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/133746728",
    "html_url": "https://github.com/electron/electron/issues/2475#issuecomment-133746728",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2475",
    "id": 133746728,
    "user": {
      "login": "yan-foto",
      "id": 1678441,
      "avatar_url": "https://avatars2.githubusercontent.com/u/1678441?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yan-foto",
      "html_url": "https://github.com/yan-foto",
      "followers_url": "https://api.github.com/users/yan-foto/followers",
      "following_url": "https://api.github.com/users/yan-foto/following{/other_user}",
      "gists_url": "https://api.github.com/users/yan-foto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yan-foto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yan-foto/subscriptions",
      "organizations_url": "https://api.github.com/users/yan-foto/orgs",
      "repos_url": "https://api.github.com/users/yan-foto/repos",
      "events_url": "https://api.github.com/users/yan-foto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yan-foto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-22T19:53:21Z",
    "updated_at": "2015-08-22T20:48:10Z",
    "body": "Is there any way to use the default handler if one is intercepting a protocol? In the previous version you could just return `null` or `undefined` and it  would have taken care for you. So by adding the `intercept*Protocol` you could still decide on the fly if you really want to intercept or not. @paulcbetts : this might also interest you :)\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/133755235",
    "html_url": "https://github.com/electron/electron/issues/2475#issuecomment-133755235",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2475",
    "id": 133755235,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-22T21:13:31Z",
    "updated_at": "2015-08-22T21:13:31Z",
    "body": "@yan-foto afraid that is not possible, in the previous version we fallback to create a requestjob from internal job factory of Electron if a handler was available for the corresponding scheme, this was possible because we created the requestjob only after handler was executed. In the new design it is required to determine the job early and once you have intercepted a scheme with `intercept<Http|File|String|Buffer>Protocol` you have decided the job for the response, hence it cannot be changed after handler was executed. \nIt could be made possible with a new api `interceptDefaultProtocol` and have the request job created from default job factory handlers but in the end will be extending `JsAsker` into previous  `AdapterRequestJob` version, which is not good.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/133755653",
    "html_url": "https://github.com/electron/electron/issues/2475#issuecomment-133755653",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2475",
    "id": 133755653,
    "user": {
      "login": "yan-foto",
      "id": 1678441,
      "avatar_url": "https://avatars2.githubusercontent.com/u/1678441?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yan-foto",
      "html_url": "https://github.com/yan-foto",
      "followers_url": "https://api.github.com/users/yan-foto/followers",
      "following_url": "https://api.github.com/users/yan-foto/following{/other_user}",
      "gists_url": "https://api.github.com/users/yan-foto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yan-foto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yan-foto/subscriptions",
      "organizations_url": "https://api.github.com/users/yan-foto/orgs",
      "repos_url": "https://api.github.com/users/yan-foto/repos",
      "events_url": "https://api.github.com/users/yan-foto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yan-foto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-22T21:25:40Z",
    "updated_at": "2015-08-22T21:49:58Z",
    "body": "@deepak1556  I need some more time to get my head round this! Thanks a lot for info.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/133759795",
    "html_url": "https://github.com/electron/electron/issues/2475#issuecomment-133759795",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2475",
    "id": 133759795,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-22T22:32:49Z",
    "updated_at": "2015-08-22T22:32:49Z",
    "body": "@yan-foto need to create image buffer data from `native-image`\n\n```\ncontent = require('native-image').createFromPath(file).toPng()\n```\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/133795802",
    "html_url": "https://github.com/electron/electron/issues/2475#issuecomment-133795802",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2475",
    "id": 133795802,
    "user": {
      "login": "yan-foto",
      "id": 1678441,
      "avatar_url": "https://avatars2.githubusercontent.com/u/1678441?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yan-foto",
      "html_url": "https://github.com/yan-foto",
      "followers_url": "https://api.github.com/users/yan-foto/followers",
      "following_url": "https://api.github.com/users/yan-foto/following{/other_user}",
      "gists_url": "https://api.github.com/users/yan-foto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yan-foto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yan-foto/subscriptions",
      "organizations_url": "https://api.github.com/users/yan-foto/orgs",
      "repos_url": "https://api.github.com/users/yan-foto/repos",
      "events_url": "https://api.github.com/users/yan-foto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yan-foto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-23T07:03:33Z",
    "updated_at": "2015-08-23T07:03:33Z",
    "body": "@deepak1556 Sorry I was too impatient on my previous comment. At the moment [the following](https://github.com/yan-foto/electron-jade/blob/master/index.js) works fine:\n\n``` js\nprotocol.interceptBufferProtocol('file', function(request, callback) {\n  var file = request.url.substr(7);\n  var content = fs.readFileSync(file);\n  var mime = require('mime');\n  callback({data: content, mimeType: mime.lookup(ext)});\n}, function () {});\n```\n\nI was reading the binary as text by passing `urtf8` as charset to `readFileSync`. When no charset is provided `readFileSync` returns exactly the `Buffer` I need.\n\nI really appreciate your help.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/134004341",
    "html_url": "https://github.com/electron/electron/issues/2475#issuecomment-134004341",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/2475",
    "id": 134004341,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-08-24T03:28:44Z",
    "updated_at": "2015-08-24T03:28:44Z",
    "body": "Closed with #2474.\n"
  }
]