[
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/84319591",
    "html_url": "https://github.com/electron/electron/issues/1268#issuecomment-84319591",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1268",
    "id": 84319591,
    "user": {
      "login": "zcbenz",
      "id": 639601,
      "avatar_url": "https://avatars3.githubusercontent.com/u/639601?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zcbenz",
      "html_url": "https://github.com/zcbenz",
      "followers_url": "https://api.github.com/users/zcbenz/followers",
      "following_url": "https://api.github.com/users/zcbenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/zcbenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zcbenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zcbenz/subscriptions",
      "organizations_url": "https://api.github.com/users/zcbenz/orgs",
      "repos_url": "https://api.github.com/users/zcbenz/repos",
      "events_url": "https://api.github.com/users/zcbenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zcbenz/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2015-03-21T11:33:10Z",
    "updated_at": "2015-03-21T11:33:10Z",
    "body": "It seems to be a bug of our node integration on Linux, thanks for narrowing it down!\n\nAs a workaround, you can use [pathwatcher](https://github.com/atom/node-pathwatcher) to watch files, it is a much better alternative than `fs.watch`.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/86326856",
    "html_url": "https://github.com/electron/electron/issues/1268#issuecomment-86326856",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1268",
    "id": 86326856,
    "user": {
      "login": "deepak1556",
      "id": 964386,
      "avatar_url": "https://avatars2.githubusercontent.com/u/964386?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deepak1556",
      "html_url": "https://github.com/deepak1556",
      "followers_url": "https://api.github.com/users/deepak1556/followers",
      "following_url": "https://api.github.com/users/deepak1556/following{/other_user}",
      "gists_url": "https://api.github.com/users/deepak1556/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deepak1556/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deepak1556/subscriptions",
      "organizations_url": "https://api.github.com/users/deepak1556/orgs",
      "repos_url": "https://api.github.com/users/deepak1556/repos",
      "events_url": "https://api.github.com/users/deepak1556/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deepak1556/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-26T03:45:49Z",
    "updated_at": "2015-03-26T03:45:49Z",
    "body": "I am unable to reproduce this with the test case provided on archlinux 64bits, does this happen rarely under some conditions ?\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/86419594",
    "html_url": "https://github.com/electron/electron/issues/1268#issuecomment-86419594",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1268",
    "id": 86419594,
    "user": {
      "login": "BenoitZugmeyer",
      "id": 61787,
      "avatar_url": "https://avatars2.githubusercontent.com/u/61787?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BenoitZugmeyer",
      "html_url": "https://github.com/BenoitZugmeyer",
      "followers_url": "https://api.github.com/users/BenoitZugmeyer/followers",
      "following_url": "https://api.github.com/users/BenoitZugmeyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/BenoitZugmeyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BenoitZugmeyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BenoitZugmeyer/subscriptions",
      "organizations_url": "https://api.github.com/users/BenoitZugmeyer/orgs",
      "repos_url": "https://api.github.com/users/BenoitZugmeyer/repos",
      "events_url": "https://api.github.com/users/BenoitZugmeyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BenoitZugmeyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-26T09:29:47Z",
    "updated_at": "2015-03-26T09:29:47Z",
    "body": "A friend and I reproduce this every time, on different laptops running ArchLinux.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/87256158",
    "html_url": "https://github.com/electron/electron/issues/1268#issuecomment-87256158",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1268",
    "id": 87256158,
    "user": {
      "login": "BenoitZugmeyer",
      "id": 61787,
      "avatar_url": "https://avatars2.githubusercontent.com/u/61787?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BenoitZugmeyer",
      "html_url": "https://github.com/BenoitZugmeyer",
      "followers_url": "https://api.github.com/users/BenoitZugmeyer/followers",
      "following_url": "https://api.github.com/users/BenoitZugmeyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/BenoitZugmeyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BenoitZugmeyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BenoitZugmeyer/subscriptions",
      "organizations_url": "https://api.github.com/users/BenoitZugmeyer/orgs",
      "repos_url": "https://api.github.com/users/BenoitZugmeyer/repos",
      "events_url": "https://api.github.com/users/BenoitZugmeyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BenoitZugmeyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-28T16:16:04Z",
    "updated_at": "2015-03-28T16:16:04Z",
    "body": "Ok using yet another computer, I can't reproduce the use-case above, but I still have the issue in my application, without any `fs.watch` involved. I try to narrow down the issue, but I can't manage (yet) to reproduce it outside my application. I'll let you know.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/87273987",
    "html_url": "https://github.com/electron/electron/issues/1268#issuecomment-87273987",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1268",
    "id": 87273987,
    "user": {
      "login": "BenoitZugmeyer",
      "id": 61787,
      "avatar_url": "https://avatars2.githubusercontent.com/u/61787?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BenoitZugmeyer",
      "html_url": "https://github.com/BenoitZugmeyer",
      "followers_url": "https://api.github.com/users/BenoitZugmeyer/followers",
      "following_url": "https://api.github.com/users/BenoitZugmeyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/BenoitZugmeyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BenoitZugmeyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BenoitZugmeyer/subscriptions",
      "organizations_url": "https://api.github.com/users/BenoitZugmeyer/orgs",
      "repos_url": "https://api.github.com/users/BenoitZugmeyer/repos",
      "events_url": "https://api.github.com/users/BenoitZugmeyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BenoitZugmeyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-03-28T17:55:11Z",
    "updated_at": "2015-03-28T17:55:11Z",
    "body": "Well, I tried really hard to narrow down the issue, still without any success. Sometimes, I reproduce it by adding a `for (var a = 0; a < 1000000; a++) {}` before a request. Sometimes, I can't reproduce anymore when I remove a random JS function before a request.\n\nI feel like this is an atom-shell event loop issue, but I can't prove it. So frustating.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/98177041",
    "html_url": "https://github.com/electron/electron/issues/1268#issuecomment-98177041",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1268",
    "id": 98177041,
    "user": {
      "login": "BenoitZugmeyer",
      "id": 61787,
      "avatar_url": "https://avatars2.githubusercontent.com/u/61787?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BenoitZugmeyer",
      "html_url": "https://github.com/BenoitZugmeyer",
      "followers_url": "https://api.github.com/users/BenoitZugmeyer/followers",
      "following_url": "https://api.github.com/users/BenoitZugmeyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/BenoitZugmeyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BenoitZugmeyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BenoitZugmeyer/subscriptions",
      "organizations_url": "https://api.github.com/users/BenoitZugmeyer/orgs",
      "repos_url": "https://api.github.com/users/BenoitZugmeyer/repos",
      "events_url": "https://api.github.com/users/BenoitZugmeyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BenoitZugmeyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-01T16:55:29Z",
    "updated_at": "2015-05-01T16:55:29Z",
    "body": "I tried to step inside the code of electron to give you more background on this issue. I figured out that the request blocked just after the TCP `connect` system call: in the node [net.js](https://github.com/atom/node/blob/e5aaa1ad33b3479dbb29df797beca5873e7490dc/lib/net.js#L806-L812) library, `self._handle.connect(req, address, port)` was called but `afterConnect` wasn't.\n\nWith my fellow `printf` and my poor knowledge of all this C stuff, I digged inside libuv and the electron code, and it turns out that `uv_run` wasn't called after the `connect` call was sent. It looks like (but excuse my noobiness) `uv__tcp_connect` does not immediately register the new TCP file descriptor to epoll (this is done in the next loop run), so nothing new happens on the epoll fd, and thus `NodeBindingsLinux::PollEvents` is stuck on `epoll_wait`. Thus, the loop is not run, and the `afterConnect` callback is never called.\n\nThis explains why if I run another, completely separate http request, the previous one is finally running: the loop is run for the new request, and the `afterConnect` callback of the previous one is called.\n\nYou may reproduce with my project:\n\n```\n$ git clone https://github.com/BenoitZugmeyer/chwitt-react\n$ cd chwitt-react\n$ npm install\n$ NODE_ENV=production node_modules/.bin/electron .\n```\n\nLogin, then if your timelines are stuck on loading for more than a few seconds, then you reproduce the issue.\n\nPlease let me know if I can help you further for this issue.\n"
  },
  {
    "url": "https://api.github.com/repos/electron/electron/issues/comments/139868725",
    "html_url": "https://github.com/electron/electron/issues/1268#issuecomment-139868725",
    "issue_url": "https://api.github.com/repos/electron/electron/issues/1268",
    "id": 139868725,
    "user": {
      "login": "BenoitZugmeyer",
      "id": 61787,
      "avatar_url": "https://avatars2.githubusercontent.com/u/61787?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BenoitZugmeyer",
      "html_url": "https://github.com/BenoitZugmeyer",
      "followers_url": "https://api.github.com/users/BenoitZugmeyer/followers",
      "following_url": "https://api.github.com/users/BenoitZugmeyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/BenoitZugmeyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BenoitZugmeyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BenoitZugmeyer/subscriptions",
      "organizations_url": "https://api.github.com/users/BenoitZugmeyer/orgs",
      "repos_url": "https://api.github.com/users/BenoitZugmeyer/repos",
      "events_url": "https://api.github.com/users/BenoitZugmeyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BenoitZugmeyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-13T12:33:03Z",
    "updated_at": "2015-09-13T12:33:03Z",
    "body": "I can't reproduce this issue since v0.29.0. I'd have done a git bisect, but since vendors/node history is rewritten each time you update node, older versions can't compile anymore.\n"
  }
]